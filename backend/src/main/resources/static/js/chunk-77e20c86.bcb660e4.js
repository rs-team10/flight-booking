(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-77e20c86"],{"3a2f":function(t,e,o){"use strict";o("60e8");var i=o("b64a"),a=o("163b"),s=o("c69d"),n=o("30d4"),r=o("b8d7"),l=o("98a1"),c=o("80d2"),d=o("d9bd");function u(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}e["a"]={name:"v-tooltip",mixins:[i["a"],a["a"],s["a"],n["a"],r["a"],l["a"]],props:{closeDelay:{type:[Number,String],default:200},debounce:{type:[Number,String],default:0},disabled:Boolean,fixed:{type:Boolean,default:!0},openDelay:{type:[Number,String],default:200},tag:{type:String,default:"span"},transition:String,zIndex:{default:null}},data:function(){return{calculatedMinWidth:0,closeDependents:!1}},computed:{calculatedLeft:function(){var t=this.dimensions,e=t.activator,o=t.content,i=!this.bottom&&!this.left&&!this.top&&!this.right,a=this.isAttached?e.offsetLeft:e.left,s=0;return this.top||this.bottom||i?s=a+e.width/2-o.width/2:(this.left||this.right)&&(s=a+(this.right?e.width:-o.width)+(this.right?10:-10)),this.nudgeLeft&&(s-=parseInt(this.nudgeLeft)),this.nudgeRight&&(s+=parseInt(this.nudgeRight)),this.calcXOverflow(s,this.dimensions.content.width)+"px"},calculatedTop:function(){var t=this.dimensions,e=t.activator,o=t.content,i=this.isAttached?e.offsetTop:e.top,a=0;return this.top||this.bottom?a=i+(this.bottom?e.height:-o.height)+(this.bottom?10:-10):(this.left||this.right)&&(a=i+e.height/2-o.height/2),this.nudgeTop&&(a-=parseInt(this.nudgeTop)),this.nudgeBottom&&(a+=parseInt(this.nudgeBottom)),this.calcYOverflow(a+this.pageYOffset)+"px"},classes:function(){return{"v-tooltip--top":this.top,"v-tooltip--right":this.right,"v-tooltip--bottom":this.bottom,"v-tooltip--left":this.left}},computedTransition:function(){return this.transition?this.transition:this.top?"slide-y-reverse-transition":this.right?"slide-x-transition":this.bottom?"slide-y-transition":this.left?"slide-x-reverse-transition":""},offsetY:function(){return this.top||this.bottom},offsetX:function(){return this.left||this.right},styles:function(){return{left:this.calculatedLeft,maxWidth:Object(c["d"])(this.maxWidth),minWidth:Object(c["d"])(this.minWidth),opacity:this.isActive?.9:0,top:this.calculatedTop,zIndex:this.zIndex||this.activeZIndex}}},beforeMount:function(){var t=this;this.$nextTick(function(){t.value&&t.callActivate()})},mounted:function(){"v-slot"===Object(c["n"])(this,"activator",!0)&&Object(d["a"])("v-tooltip's activator slot must be bound, try '<template #activator=\"data\"><v-btn v-on=\"data.on>'",this)},methods:{activate:function(){this.updateDimensions(),requestAnimationFrame(this.startTransition)},genActivator:function(){var t=this,e=this.disabled?{}:{mouseenter:function(e){t.getActivator(e),t.runDelay("open")},mouseleave:function(e){t.getActivator(e),t.runDelay("close")}};if("scoped"===Object(c["n"])(this,"activator")){var o=this.$scopedSlots.activator({on:e});return this.activatorNode=o,o}return this.$createElement("span",{on:e,ref:"activator"},this.$slots.activator)}},render:function(t){var e,o=t("div",this.setBackgroundColor(this.color,{staticClass:"v-tooltip__content",class:(e={},u(e,this.contentClass,!0),u(e,"menuable__content__active",this.isActive),u(e,"v-tooltip__content--fixed",this.activatorFixed),e),style:this.styles,attrs:this.getScopeIdAttrs(),directives:[{name:"show",value:this.isContentActive}],ref:"content"}),this.showLazyContent(this.$slots.default));return t(this.tag,{staticClass:"v-tooltip",class:this.classes},[t("transition",{props:{name:this.computedTransition}},[o]),this.genActivator()])}}},"60e8":function(t,e,o){},"83ad":function(t,e,o){"use strict";var i=o("9048"),a=o.n(i);a.a},9048:function(t,e,o){},"912f":function(t,e,o){"use strict";o.r(e);var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o(t.component,{tag:"component",attrs:{selectedHotel:t.hotel},on:{goToQuickReservations:function(e){return t.goToQuickRes(e)},goBack:function(e){t.component="edit-hotel"}}})],1)},a=[],s=function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.selectedHotel?o("div",{attrs:{id:"edit-hotel"}},[o("div",{staticClass:"mt-3",attrs:{id:"edit-form"}},[o("form",[o("v-layout",{attrs:{row:""}},[o("v-flex",{attrs:{xs4:"",sm4:"",md4:""}},[o("v-layout",{attrs:{column:""}},[o("v-card",{attrs:{flat:"",color:"grey lighten-5"}},[o("v-card-text",[o("v-text-field",{attrs:{"error-messages":t.nameErrors,label:"Name",required:""},model:{value:t.selectedHotel.name,callback:function(e){t.$set(t.selectedHotel,"name",e)},expression:"selectedHotel.name"}}),o("v-textarea",{attrs:{label:"Description"},model:{value:t.selectedHotel.description,callback:function(e){t.$set(t.selectedHotel,"description","string"===typeof e?e.trim():e)},expression:"selectedHotel.description"}}),o("v-text-field",{attrs:{label:"Current address",disabled:""},model:{value:t.selectedHotel.location.formattedAddress,callback:function(e){t.$set(t.selectedHotel.location,"formattedAddress",e)},expression:"selectedHotel.location.formattedAddress"}}),o("GmapAutocomplete",{staticClass:"custom-input-field mt-0",on:{place_changed:t.getLocationData}}),o("GmapMap",{staticClass:"custom-map",attrs:{center:t.currentMapCenter,zoom:14,"map-type-id":"terrain",options:{zoomControl:!0,mapTypeControl:!0,scaleControl:!1,streetViewControl:!1,rotateControl:!1,fullscreenControl:!1,disableDefaultUi:!1}}},[o("GmapMarker",{attrs:{position:t.currentMapCenter,clickable:!1,draggable:!1}})],1)],1)],1)],1)],1),o("v-flex",{attrs:{xs8:"",sm8:"",md8:""}},[o("v-layout",{attrs:{column:""}},[o("v-btn",{staticClass:"mx-3",attrs:{color:"indigo",outline:"",flat:""},on:{click:function(e){return t.goToQuickReservations()}}},[t._v("\n                    Quick Room Reservations\n                    "),o("v-icon",{attrs:{right:""}},[t._v("arrow_forward")])],1),o("v-card",{attrs:{flat:"",color:"grey lighten-5"}},[o("v-card-text",[o("div",{attrs:{id:"cenovnik-soba"}},[o("v-toolbar",{attrs:{color:"indigo lighten-3",flat:""}},[o("v-toolbar-title",{staticClass:"text-uppercase font-weight-light"},[t._v("Room types")]),o("v-spacer"),o("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[o("v-btn",t._g({staticClass:"mb-2",attrs:{color:"indigo",dark:""}},i),[t._v("New room type")])]}}],null,!1,4123405157),model:{value:t.roomDialog,callback:function(e){t.roomDialog=e},expression:"roomDialog"}},[o("v-card",[o("v-card-title",[o("span",{staticClass:"headline"},[t._v(t._s(t.roomFormTitle))])]),o("v-card-text",[o("v-container",{attrs:{"grid-list-md":""}},[o("v-layout",{attrs:{wrap:""}},[o("v-flex",{attrs:{xs12:""}},[o("v-text-field",{attrs:{label:"Type"},model:{value:t.roomEditedItem.type,callback:function(e){t.$set(t.roomEditedItem,"type",e)},expression:"roomEditedItem.type"}})],1),o("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[o("v-text-field",{attrs:{label:"Price per night",type:"number",min:"1",oninput:"validity.valid||(value='');"},model:{value:t.roomEditedItem.pricePerNight,callback:function(e){t.$set(t.roomEditedItem,"pricePerNight",e)},expression:"roomEditedItem.pricePerNight"}})],1),o("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[o("v-text-field",{attrs:{label:"Capacity",type:"number",min:"1",oninput:"validity.valid||(value='');"},model:{value:t.roomEditedItem.capacity,callback:function(e){t.$set(t.roomEditedItem,"capacity",e)},expression:"roomEditedItem.capacity"}})],1),o("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[o("v-text-field",{attrs:{label:"Single beds",type:"number",min:"0",oninput:"validity.valid||(value='');"},model:{value:t.roomEditedItem.singleBedCount,callback:function(e){t.$set(t.roomEditedItem,"singleBedCount",e)},expression:"roomEditedItem.singleBedCount"}})],1),o("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[o("v-text-field",{attrs:{label:"Double beds",type:"number",min:"0",oninput:"validity.valid||(value='');"},model:{value:t.roomEditedItem.doubleBedCount,callback:function(e){t.$set(t.roomEditedItem,"doubleBedCount",e)},expression:"roomEditedItem.doubleBedCount"}})],1),o("v-flex",{attrs:{xs12:""}},[o("v-textarea",{attrs:{label:"Description"},model:{value:t.roomEditedItem.description,callback:function(e){t.$set(t.roomEditedItem,"description",e)},expression:"roomEditedItem.description"}})],1),o("v-flex",[o("v-text-field",{attrs:{label:"Square footage",type:"number",min:"0",oninput:"validity.valid||(value='');"},model:{value:t.roomEditedItem.squareFootage,callback:function(e){t.$set(t.roomEditedItem,"squareFootage",e)},expression:"roomEditedItem.squareFootage"}})],1),o("v-flex",[o("v-checkbox",{attrs:{label:"TV"},model:{value:t.roomEditedItem.hasTV,callback:function(e){t.$set(t.roomEditedItem,"hasTV",e)},expression:"roomEditedItem.hasTV"}})],1),o("v-flex",[o("v-checkbox",{attrs:{label:"Balcony"},model:{value:t.roomEditedItem.hasBalcony,callback:function(e){t.$set(t.roomEditedItem,"hasBalcony",e)},expression:"roomEditedItem.hasBalcony"}})],1)],1)],1)],1),o("v-card-actions",[o("v-spacer"),o("v-btn",{attrs:{color:"indigo darken-1",flat:""},on:{click:t.roomClose}},[t._v("Cancel")]),o("v-btn",{attrs:{color:"indigo darken-1",flat:""},on:{click:t.roomSave}},[t._v("Save")])],1)],1)],1),o("v-dialog",{attrs:{"max-width":"800px"},model:{value:t.specialPricesDialog,callback:function(e){t.specialPricesDialog=e},expression:"specialPricesDialog"}},[o(t.specialPricesComp,{tag:"component",attrs:{selectedRoomType:t.selectedRoomType}})],1),o("v-dialog",{attrs:{"max-width":"800px"},model:{value:t.editRoomsDialog,callback:function(e){t.editRoomsDialog=e},expression:"editRoomsDialog"}},[o(t.editRoomsComp,{tag:"component",attrs:{selectedRoomType:t.selectedRoomType,hotelRooms:t.selectedHotel.rooms,selectedHotel:t.selectedHotel}})],1)],1),o("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.roomsHeaders,items:t.selectedHotel.roomTypes,"hide-actions":"",servicePagination:t.roomPagination},on:{"update:servicePagination":function(e){t.roomPagination=e},"update:service-pagination":function(e){t.roomPagination=e}},scopedSlots:t._u([{key:"items",fn:function(e){return[o("td",[t._v(t._s(e.item.type))]),o("td",[t._v(t._s(e.item.pricePerNight))]),o("td",[t._v(t._s(e.item.capacity))]),o("td",[t._v(t._s(e.item.singleBedCount))]),o("td",[t._v(t._s(e.item.doubleBedCount))]),o("td",[t._v(t._s(e.item.hasTV))]),o("td",[t._v(t._s(e.item.hasBalcony))]),o("td",[t._v(t._s(e.item.squareFootage))]),o("td",[t._v(t._s(e.item.averageFeedback))]),o("td",{staticClass:"justify-center layout px-0"},[t.isReserved(e.item.type)?o("v-layout",{attrs:{row:""}},[o("v-icon",{staticClass:"mr-2",attrs:{disabled:"",small:""},on:{click:function(o){return t.roomEditItem(e.item)}}},[t._v("\n                                            edit\n                                        ")]),o("v-icon",{staticClass:"mr-2",attrs:{disabled:"",small:""},on:{click:function(o){return t.roomDeleteItem(e.item)}}},[t._v("\n                                            delete\n                                        ")])],1):o("v-layout",{attrs:{row:""}},[o("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(o){return t.roomEditItem(e.item)}}},[t._v("\n                                            edit\n                                        ")]),o("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(o){return t.roomDeleteItem(e.item)}}},[t._v("\n                                            delete\n                                        ")])],1),o("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(i){var a=i.on;return[o("v-icon",t._g({staticClass:"mr-2",attrs:{small:""},on:{click:function(o){return t.specialRoomPrice(e.item)}}},a),[t._v("\n                                                star\n                                            ")])]}}],null,!0)},[o("span",[t._v("Special prices")])]),o("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(i){var a=i.on;return[o("v-icon",t._g({staticClass:"mr-2",attrs:{small:""},on:{click:function(o){return t.editRooms(e.item)}}},a),[t._v("\n                                                hotel\n                                            ")])]}}],null,!0)},[o("span",[t._v("Rooms")])])],1)]}}],null,!1,2009091040)}),o("div",{staticClass:"text-xs-center pt-2"},[o("v-pagination",{attrs:{length:t.roomPages},model:{value:t.roomPagination.page,callback:function(e){t.$set(t.roomPagination,"page",e)},expression:"roomPagination.page"}})],1)],1),o("div",{staticClass:"mt-2",attrs:{id:"cenovnik-dodatnih"}},[o("v-toolbar",{attrs:{color:"indigo lighten-3",flat:""}},[o("v-toolbar-title",{staticClass:"text-uppercase font-weight-light"},[t._v("Additional services")]),o("v-spacer"),o("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[o("v-btn",t._g({staticClass:"mb-2",attrs:{color:"indigo",dark:""}},i),[t._v("New service")])]}}],null,!1,2014777471),model:{value:t.serviceDialog,callback:function(e){t.serviceDialog=e},expression:"serviceDialog"}},[o("v-card",[o("v-card-title",[o("span",{staticClass:"headline"},[t._v(t._s(t.serviceFormTitle))])]),o("v-card-text",[o("v-container",{attrs:{"grid-list-md":""}},[o("v-layout",{attrs:{wrap:""}},[o("v-flex",{attrs:{xs12:""}},[o("v-text-field",{attrs:{label:"Name"},model:{value:t.serviceEditedItem.name,callback:function(e){t.$set(t.serviceEditedItem,"name",e)},expression:"serviceEditedItem.name"}})],1),o("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[o("v-text-field",{attrs:{label:"Price",type:"number",min:"1",oninput:"validity.valid||(value='');"},model:{value:t.serviceEditedItem.price,callback:function(e){t.$set(t.serviceEditedItem,"price",e)},expression:"serviceEditedItem.price"}})],1),o("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[o("v-text-field",{attrs:{label:"Discount",type:"number",min:"0",oninput:"validity.valid||(value='');"},model:{value:t.serviceEditedItem.discount,callback:function(e){t.$set(t.serviceEditedItem,"discount",e)},expression:"serviceEditedItem.discount"}})],1),o("v-flex",{attrs:{xs12:""}},[o("v-textarea",{attrs:{label:"Description"},model:{value:t.serviceEditedItem.description,callback:function(e){t.$set(t.serviceEditedItem,"description",e)},expression:"serviceEditedItem.description"}})],1)],1)],1)],1),o("v-card-actions",[o("v-spacer"),o("v-btn",{attrs:{color:"indigo darken-1",flat:""},on:{click:t.serviceClose}},[t._v("Cancel")]),o("v-btn",{attrs:{color:"indigo darken-1",flat:""},on:{click:t.serviceSave}},[t._v("Save")])],1)],1)],1)],1),o("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.servicesHeaders,items:t.selectedHotel.additionalServicesPriceList.priceListItems,"hide-actions":"",servicePagination:t.servicePagination},on:{"update:servicePagination":function(e){t.servicePagination=e},"update:service-pagination":function(e){t.servicePagination=e}},scopedSlots:t._u([{key:"items",fn:function(e){return[o("td",[t._v(t._s(e.item.name))]),o("td",[t._v(t._s(e.item.price))]),o("td",[t._v(t._s(e.item.discount))]),o("td",{staticClass:"justify-center layout px-0"},[o("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(o){return t.editItem(e.item)}}},[t._v("\n                                        edit\n                                        ")]),o("v-icon",{attrs:{small:""},on:{click:function(o){return t.deleteItem(e.item)}}},[t._v("\n                                        delete\n                                        ")])],1)]}}],null,!1,2296718756)}),o("div",{staticClass:"text-xs-center pt-2"},[o("v-pagination",{attrs:{length:t.servicePages},model:{value:t.servicePagination.page,callback:function(e){t.$set(t.servicePagination,"page",e)},expression:"servicePagination.page"}})],1)],1)])],1)],1)],1)],1),o("v-flex",{attrs:{xs6:"",sm6:"",md6:"","offset-sm3":""}},[o("v-btn",{staticClass:"mt-2",attrs:{block:"",outline:"",flat:"",color:"indigo",dark:""},on:{click:t.submit}},[t._v("submit")])],1)],1)])]):t._e()},n=[],r=(o("6762"),o("2fdb"),o("ac6a"),o("7f7f"),o("1dce")),l=o("b5ae"),c=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-card",[o("v-toolbar",{attrs:{color:"indigo lighten-2"}},[o("v-dialog",{attrs:{"max-width":"600",persistent:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[o("v-btn",t._g({staticClass:"mt-3 mr-3",attrs:{absolute:"",color:"indigo",dark:"",fab:"",right:"",small:""}},i),[o("v-icon",[t._v("add")])],1)]}}]),model:{value:t.addDialog,callback:function(e){t.addDialog=e},expression:"addDialog"}},[o("v-card",{attrs:{id:"addSpecialPrice"}},[o("v-card-title",[o("span",{staticClass:"headline"},[t._v("New special price")])]),o("v-card-text",[o("v-container",{attrs:{"grid-list-md":""}},[o("v-layout",{attrs:{wrap:""}},[o("v-flex",{attrs:{xs4:""}},[o("v-text-field",{attrs:{label:"Special price","prepend-icon":"attach_money",type:"number"},model:{value:t.newPrice,callback:function(e){t.newPrice=e},expression:"newPrice"}})],1),o("v-flex",{attrs:{xs4:""}},[o("v-menu",{attrs:{"close-on-content-click":!0,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[o("v-text-field",t._g({attrs:{"prepend-icon":"event",readonly:"",label:"Start date"},model:{value:t.addStartDate,callback:function(e){t.addStartDate=e},expression:"addStartDate"}},i))]}}]),model:{value:t.addStartDateMenu,callback:function(e){t.addStartDateMenu=e},expression:"addStartDateMenu"}},[o("v-date-picker",{attrs:{min:t.minDate},on:{input:function(e){t.startMenu=!1}},model:{value:t.addStartDate,callback:function(e){t.addStartDate=e},expression:"addStartDate"}})],1)],1),o("v-flex",{attrs:{xs4:""}},[o("v-menu",{attrs:{"close-on-content-click":!0,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[o("v-text-field",t._g({attrs:{"prepend-icon":"event",readonly:"",label:"End date"},model:{value:t.addEndDate,callback:function(e){t.addEndDate=e},expression:"addEndDate"}},i))]}}]),model:{value:t.addEndDateMenu,callback:function(e){t.addEndDateMenu=e},expression:"addEndDateMenu"}},[o("v-date-picker",{attrs:{min:t.minDate},on:{input:function(e){t.endMenu=!1}},model:{value:t.addEndDate,callback:function(e){t.addEndDate=e},expression:"addEndDate"}})],1)],1)],1)],1)],1),o("v-card-actions",[o("v-spacer"),o("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:t.closeAddDialog}},[t._v("Cancel")]),o("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:t.savePrice}},[t._v("Save")])],1)],1)],1)],1),o("v-data-table",{staticClass:"elevation-1",attrs:{items:t.selectedRoomType.specialRoomPrices,headers:t.headers,"hide-actions":""},scopedSlots:t._u([{key:"items",fn:function(e){return[o("td",[o("v-edit-dialog",{attrs:{"return-value":e.item.price,large:"",lazy:"",persistent:""},on:{"update:returnValue":function(o){return t.$set(e.item,"price",o)},"update:return-value":function(o){return t.$set(e.item,"price",o)}},scopedSlots:t._u([{key:"input",fn:function(){return[o("v-text-field",{attrs:{label:"Edit","single-line":"",type:"number"},model:{value:e.item.price,callback:function(o){t.$set(e.item,"price",o)},expression:"props.item.price"}})]},proxy:!0}],null,!0)},[t._v("\n          "+t._s(e.item.price)+"\n            ")])],1),o("td",[o("v-edit-dialog",{attrs:{"return-value":e.item.validFrom,large:"",lazy:"",persistent:""},on:{"update:returnValue":function(o){return t.$set(e.item,"validFrom",o)},"update:return-value":function(o){return t.$set(e.item,"validFrom",o)}},scopedSlots:t._u([{key:"input",fn:function(){return[o("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(i){var a=i.on;return[o("v-text-field",t._g({attrs:{"prepend-icon":"event",readonly:""},model:{value:e.item.validFrom,callback:function(o){t.$set(e.item,"validFrom",o)},expression:"props.item.validFrom"}},a))]}}],null,!0),model:{value:t.startMenu,callback:function(e){t.startMenu=e},expression:"startMenu"}},[o("v-date-picker",{attrs:{min:t.minDate},on:{input:function(e){t.startMenu=!1}},model:{value:e.item.validFrom,callback:function(o){t.$set(e.item,"validFrom",o)},expression:"props.item.validFrom"}})],1)]},proxy:!0}],null,!0)},[t._v("\n            "+t._s(e.item.validFrom)+"\n              ")])],1),o("td",[o("v-edit-dialog",{attrs:{"return-value":e.item.validTo,large:"",lazy:"",persistent:""},on:{"update:returnValue":function(o){return t.$set(e.item,"validTo",o)},"update:return-value":function(o){return t.$set(e.item,"validTo",o)}},scopedSlots:t._u([{key:"input",fn:function(){return[o("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(i){var a=i.on;return[o("v-text-field",t._g({attrs:{"prepend-icon":"event",readonly:""},model:{value:e.item.validTo,callback:function(o){t.$set(e.item,"validTo",o)},expression:"props.item.validTo"}},a))]}}],null,!0),model:{value:t.endMenu,callback:function(e){t.endMenu=e},expression:"endMenu"}},[o("v-date-picker",{attrs:{min:t.minDate},on:{input:function(e){t.endMenu=!1}},model:{value:e.item.validTo,callback:function(o){t.$set(e.item,"validTo",o)},expression:"props.item.validTo"}})],1)]},proxy:!0}],null,!0)},[t._v("\n              "+t._s(e.item.validTo)+"\n              ")])],1),o("td",{staticClass:"justify-center layout px-0"},[o("v-icon",{attrs:{size:"20px"},on:{click:function(o){return t.deletePrice(e.item)}}},[t._v("delete")])],1)]}}])})],1)},d=[],u={props:["selectedRoomType"],data:function(){return{startDate:(new Date).toISOString().substr(0,10),startMenu:!1,endDate:(new Date).toISOString().substr(0,10),endMenu:!1,minDate:(new Date).toISOString().substr(0,10),addDialog:!1,newPrice:null,addStartDate:(new Date).toISOString().substr(0,10),addStartDateMenu:!1,addEndDate:(new Date).toISOString().substr(0,10),addEndDateMenu:!1,newSpecialPrice:{},headers:[{text:"Price",align:"left",sortable:!1,value:"price"},{text:"Start date",align:"left",sortable:!1,value:"startDate"},{text:"End date",align:"left",sortable:!1,value:"endDate"},{text:"",align:"right",sortable:!1,value:"actions"}]}},methods:{savePrice:function(){this.newSpecialPrice={price:this.newPrice,validFrom:this.addStartDate.substr(0,10),validTo:this.addEndDate.substr(0,10)},this.selectedRoomType.specialRoomPrices.push(this.newSpecialPrice),this.closeAddDialog()},closeAddDialog:function(){this.addDialog=!1,this.newPrice=null,this.addStartDate=(new Date).toISOString().substr(0,10),this.addEndDate=(new Date).toISOString().substr(0,10)},deletePrice:function(t){var e=this.selectedRoomType.specialRoomPrices.indexOf(t);this.selectedRoomType.specialRoomPrices.splice(e,1)}}},m=u,v=o("2877"),p=o("6544"),f=o.n(p),h=o("8336"),g=o("b0af"),b=o("99d9"),x=o("12b2"),y=o("a523"),k=o("8fea"),_=o("2e4b"),D=o("169a"),C=(o("97b8"),o("e949")),T=o("6a18"),S=o("80d2"),I=o("afdd"),w=o("326d"),P={name:"v-edit-dialog",mixins:[C["a"],T["a"]],props:{cancelText:{default:"Cancel"},large:Boolean,lazy:Boolean,persistent:Boolean,saveText:{default:"Save"},transition:{type:String,default:"slide-x-reverse-transition"}},data:function(){return{isActive:!1}},watch:{isActive:function(t){t?(this.$emit("open"),setTimeout(this.focus,50)):this.$emit("close")}},methods:{cancel:function(){this.isActive=!1,this.$emit("cancel")},focus:function(){var t=this.$refs.content.querySelector("input");t&&t.focus()},genButton:function(t,e){return this.$createElement(I["a"],{props:{flat:!0,color:"primary",light:!0},on:{click:t}},e)},genActions:function(){var t=this;return this.$createElement("div",{class:"v-small-dialog__actions"},[this.genButton(this.cancel,this.cancelText),this.genButton(function(){t.save(t.returnValue),t.$emit("save")},this.saveText)])},genContent:function(){var t=this;return this.$createElement("div",{on:{keydown:function(e){var o=t.$refs.content.querySelector("input");e.keyCode===S["r"].esc&&t.cancel(),e.keyCode===S["r"].enter&&o&&(t.save(o.value),t.$emit("save"))}},ref:"content"},[this.$slots.input])}},render:function(t){var e=this;return t(w["a"],{staticClass:"v-small-dialog",class:this.themeClasses,props:{contentClass:"v-small-dialog__content",transition:this.transition,origin:"top right",right:!0,value:this.isActive,closeOnClick:!this.persistent,closeOnContentClick:!1,lazy:this.lazy,light:this.light,dark:this.dark},on:{input:function(t){return e.isActive=t}}},[t("a",{slot:"activator"},this.$slots.default),this.genContent(),this.large?this.genActions():null])}},E=o("0e8f"),R=o("132d"),$=o("a722"),V=o("e449"),H=o("9910"),F=o("2677"),A=o("71d9"),M=Object(v["a"])(m,c,d,!1,null,null,null),B=M.exports;f()(M,{VBtn:h["a"],VCard:g["a"],VCardActions:b["a"],VCardText:b["b"],VCardTitle:x["a"],VContainer:y["a"],VDataTable:k["a"],VDatePicker:_["a"],VDialog:D["a"],VEditDialog:P,VFlex:E["a"],VIcon:R["a"],VLayout:$["a"],VMenu:V["a"],VSpacer:H["a"],VTextField:F["a"],VToolbar:A["a"]});var O=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-card",[o("v-toolbar",{attrs:{color:"indigo lighten-2"}},[o("v-dialog",{attrs:{"max-width":"300px",persistent:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[o("v-btn",t._g({staticClass:"mt-3 mr-3",attrs:{absolute:"",color:"indigo",dark:"",fab:"",right:"",small:""}},i),[o("v-icon",[t._v("add")])],1)]}}]),model:{value:t.addDialog,callback:function(e){t.addDialog=e},expression:"addDialog"}},[o("v-card",{attrs:{id:"addRoom"}},[o("v-card-title",[o("span",{staticClass:"headline "},[t._v("New room")])]),o("v-card-text",[o("v-container",{staticClass:"pt-0 pb-1",attrs:{"grid-list-md":""}},[o("v-layout",{attrs:{wrap:"",column:""}},[o("v-flex",{attrs:{xs4:""}},[o("v-text-field",{attrs:{label:"Floor",type:"number"},model:{value:t.newRoom.floor,callback:function(e){t.$set(t.newRoom,"floor",e)},expression:"newRoom.floor"}})],1),o("v-flex",{attrs:{xs4:""}},[o("v-text-field",{attrs:{label:"Room",type:"number"},model:{value:t.newRoom.roomNumber,callback:function(e){t.$set(t.newRoom,"roomNumber",e)},expression:"newRoom.roomNumber"}})],1)],1)],1)],1),o("v-card-actions",{staticClass:"pt-1"},[o("v-spacer"),o("v-btn",{attrs:{color:"indigo darken-1",flat:""},on:{click:t.closeAddDialog}},[t._v("Cancel")]),o("v-btn",{attrs:{color:"indigo darken-1",flat:""},on:{click:t.saveRoom}},[t._v("Save")])],1)],1)],1)],1),o("v-data-table",{staticClass:"elevation-1",attrs:{items:t.selectedHotel.rooms.filter(function(e){return e.roomType.type==t.selectedRoomType.type}),headers:t.headers,"hide-actions":""},scopedSlots:t._u([{key:"items",fn:function(e){return[o("td",[o("v-edit-dialog",{attrs:{"return-value":e.item.floor,large:"",lazy:"",persistent:""},on:{"update:returnValue":function(o){return t.$set(e.item,"floor",o)},"update:return-value":function(o){return t.$set(e.item,"floor",o)}},scopedSlots:t._u([{key:"input",fn:function(){return[o("v-text-field",{attrs:{label:"Edit","single-line":"",type:"number"},model:{value:e.item.floor,callback:function(o){t.$set(e.item,"floor",o)},expression:"props.item.floor"}})]},proxy:!0}],null,!0)},[t._v("\n                "+t._s(e.item.floor)+"\n                ")])],1),o("td",[o("v-edit-dialog",{attrs:{"return-value":e.item.roomNumber,large:"",lazy:"",persistent:""},on:{"update:returnValue":function(o){return t.$set(e.item,"roomNumber",o)},"update:return-value":function(o){return t.$set(e.item,"roomNumber",o)}},scopedSlots:t._u([{key:"input",fn:function(){return[o("v-text-field",{attrs:{label:"Edit","single-line":"",type:"number"},model:{value:e.item.roomNumber,callback:function(o){t.$set(e.item,"roomNumber",o)},expression:"props.item.roomNumber"}})]},proxy:!0}],null,!0)},[t._v("\n                "+t._s(e.item.roomNumber)+"\n                ")])],1),o("td",{staticClass:"justify-center layout px-0"},[o("v-icon",{attrs:{disabled:e.item.reserved,size:"20px"},on:{click:function(o){return t.deletePrice(e.item)}}},[t._v("delete")])],1)]}}])})],1)},N=[],L={props:["selectedRoomType","selectedHotel"],data:function(){return{addDialog:!1,headers:[{text:"Floor",align:"left",sortable:!1,value:"floor"},{text:"Room number",align:"left",sortable:!1,value:"roomNumber"},{text:"",align:"right",sortable:!1,value:"actions"}],newRoom:{}}},methods:{closeAddDialog:function(){this.addDialog=!1,this.newRoom={}},saveRoom:function(){this.newRoom.roomType=Object.assign({},this.selectedRoomType),this.selectedHotel.rooms.push(this.newRoom),this.closeAddDialog()}}},q=L,z=Object(v["a"])(q,O,N,!1,null,null,null),j=z.exports;f()(z,{VBtn:h["a"],VCard:g["a"],VCardActions:b["a"],VCardText:b["b"],VCardTitle:x["a"],VContainer:y["a"],VDataTable:k["a"],VDialog:D["a"],VEditDialog:P,VFlex:E["a"],VIcon:R["a"],VLayout:$["a"],VSpacer:H["a"],VTextField:F["a"],VToolbar:A["a"]});var Q={components:{specialRoomPrices:B,editRooms:j},mixins:[r["validationMixin"]],validations:{selectedHotel:{name:{required:l["required"]},location:{street:{required:l["required"]}}}},data:function(){return{specialPricesComp:"specialRoomPrices",editRoomsComp:"editRooms",selectedRoomType:{},rooms:[],serviceDialog:!1,servicePagination:{},servicesHeaders:[{text:"Name",align:"left",sortable:!1,value:"name"},{text:"Price (€)",value:"price"},{text:"Discount (%)",value:"discount"},{text:"",value:"name",sortable:!1}],serviceEditedIndex:-1,serviceEditedItem:{},serviceDefaultItem:{},roomDialog:!1,specialPricesDialog:!1,editRoomsDialog:!1,roomPagination:{},roomsHeaders:[{text:"Type",align:"left",sortable:!1,value:"name"},{text:"Price per night (€)",value:"price"},{text:"Capacity",value:"discount"},{text:"Single beds",value:"singleBeds",sortable:!1},{text:"Double beds",value:"doubleBeds",sortable:!1},{text:"Has TV",value:"hasTV",sortable:!1},{text:"Has Balcony",value:"hasBalcony",sortable:!1},{text:"Square ft.",value:"squareFootage",sortable:!0},{text:"Average Feedback",value:"avgFdbk"},{text:"",value:"actions",sortable:!1}],roomEditedIndex:-1,roomEditedItem:{},roomDefaultItem:{},selectedHotel:null}},computed:{nameErrors:function(){var t=[];return this.$v.selectedHotel.name.$dirty?(!this.$v.selectedHotel.name.required&&t.push("Name is required."),t):t},addressErrors:function(){var t=[];return this.$v.selectedHotel.location.street.$dirty?(!this.$v.selectedHotel.location.street.required&&t.push("Address is required."),t):t},serviceFormTitle:function(){return-1===this.serviceEditedIndex?"New Service":"Edit Service"},roomFormTitle:function(){return-1===this.roomEditedIndex?"New Room Type":"Edit Room Type"},servicePages:function(){return null==this.servicePagination.rowsPerPage||null==this.servicePagination.totalItems?0:Math.ceil(this.servicePagination.totalItems/this.servicePagination.rowsPerPage)},roomPages:function(){return null==this.roomPagination.rowsPerPage||null==this.roomPagination.totalItems?0:Math.ceil(this.roomPagination.totalItems/this.roomPagination.rowsPerPage)},currentMapCenter:function(){return{lat:this.selectedHotel.location.latitude,lng:this.selectedHotel.location.longitude}}},watch:{serviceDialog:function(t){t||this.serviceClose()},roomsDialog:function(t){t||this.roomClose()}},methods:{submit:function(){this.$v.$touch(),this.$v.$invalid||this.editHotel()},editHotel:function(){var t=this,e={headers:{Authorization:"Bearer "+localStorage.getItem("token")}};this.$axios.put("/api/hotels/"+this.selectedHotel.id,this.selectedHotel,e).then(function(){t.$swal("Hotel edited successfully","","success").then(function(){return t.$router.push("/hotels")})}).catch(function(e){t.$swal("Error",e.message.data,"error")})},getLocationData:function(t){t&&(this.selectedHotel.location=this.extractLocationData(t),this.currentMapCenter={lat:this.selectedHotel.location.latitude,lng:this.selectedHotel.location.longitude})},extractLocationData:function(t){var e={};return e.latitude=t.geometry.location.lat(),e.longitude=t.geometry.location.lng(),e.street=t.name,e.formattedAddress=t.formatted_address,t.address_components.forEach(function(t){t.types.includes("country")?e.country=t.long_name:t.types.includes("locality")&&(e.city=t.long_name)}),e},editItem:function(t){this.serviceEditedIndex=this.selectedHotel.additionalServicesPriceList.priceListItems.indexOf(t),this.serviceEditedItem=Object.assign({},t),this.serviceDialog=!0},deleteItem:function(t){var e=this.selectedHotel.additionalServicesPriceList.priceListItems.indexOf(t);this.selectedHotel.additionalServicesPriceList.priceListItems.splice(e,1)},serviceClose:function(){var t=this;this.serviceDialog=!1,setTimeout(function(){t.serviceEditedItem=Object.assign({},t.serviceDefaultItem),t.serviceEditedIndex=-1},300)},serviceSave:function(){this.serviceEditedIndex>-1?Object.assign(this.selectedHotel.additionalServicesPriceList.priceListItems[this.serviceEditedIndex],this.serviceEditedItem):this.selectedHotel.additionalServicesPriceList.priceListItems.push(this.serviceEditedItem),this.serviceClose()},roomEditItem:function(t){this.roomEditedIndex=this.selectedHotel.roomTypes.indexOf(t),this.roomEditedItem=Object.assign({},t),this.roomDialog=!0},roomDeleteItem:function(t){var e=this.selectedHotel.roomTypes.indexOf(t);this.selectedHotel.roomTypes.splice(e,1)},roomClose:function(){var t=this;this.roomDialog=!1,setTimeout(function(){t.roomEditedItem=Object.assign({},t.roomDefaultItem),t.roomEditedIndex=-1},300)},roomSave:function(){this.roomEditedIndex>-1?Object.assign(this.selectedHotel.roomTypes[this.roomEditedIndex],this.roomEditedItem):this.selectedHotel.roomTypes.push(this.roomEditedItem),this.roomClose()},specialRoomPrice:function(t){this.selectedRoomType=t,this.specialPricesDialog=!0},editRooms:function(t){this.selectedRoomType=t,this.editRoomsDialog=!0},isReserved:function(t){for(var e=this.selectedHotel.rooms.filter(function(e){return e.roomType.type==t}),o=0;o<e.length;o++)if(e[o].reserved)return!0;return!1},goToQuickReservations:function(){this.$emit("goToQuickReservations",this.selectedHotel)}},beforeCreate:function(){var t=this,e={headers:{Authorization:"Bearer "+localStorage.getItem("token")}};this.$axios.get("/api/hotels/hotelToEdit/"+localStorage.getItem("username"),e).then(function(e){t.selectedHotel=e.data})}},W=Q,G=(o("83ad"),o("ac7c")),Y=o("891e"),J=o("a844"),X=o("2a7f"),U=o("3a2f"),Z=Object(v["a"])(W,s,n,!1,null,"5d5c45c2",null),K=Z.exports;f()(Z,{VBtn:h["a"],VCard:g["a"],VCardActions:b["a"],VCardText:b["b"],VCardTitle:x["a"],VCheckbox:G["a"],VContainer:y["a"],VDataTable:k["a"],VDialog:D["a"],VFlex:E["a"],VIcon:R["a"],VLayout:$["a"],VPagination:Y["a"],VSpacer:H["a"],VTextField:F["a"],VTextarea:J["a"],VToolbar:A["a"],VToolbarTitle:X["b"],VTooltip:U["a"]});var tt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"quickRoomReservation"}},[o("v-layout",{staticClass:"d-flex"},[o("v-flex",{staticClass:"ml-4",attrs:{id:"tabela",xs6:"",md6:""}},[o("v-btn",{attrs:{icon:"",flat:""},on:{click:t.goBack}},[o("v-icon",[t._v("\n                    arrow_back\n                ")])],1),o("v-toolbar",{staticClass:"mt-2",attrs:{dense:"",color:"indigo lighten-4"}},[o("v-toolbar-title",{staticClass:"text-uppercase font-weight-regular indigo--text"},[t._v("Quick room reservations")]),o("v-spacer")],1),o("v-layout",{staticStyle:{height:"800px"},attrs:{column:""}},[o("v-flex",{staticStyle:{overflow:"auto"}},[o("v-data-table",{staticClass:"elevation-5",attrs:{headers:t.headers,items:t.quickRoomReservations,"hide-actions":""},scopedSlots:t._u([{key:"items",fn:function(e){return[o("td",[t._v(t._s(e.item.room.roomType.type))]),o("td",[t._v(t._s(e.item.room.roomNumber))]),o("td",[t._v(t._s(e.item.dateFrom))]),o("td",[t._v(t._s(e.item.dateTo))]),o("td",[t._v(t._s(e.item.totalPrice))]),o("td",[t._v(t._s(t.calcDiscountedPrice(e.item.totalPrice,e.item.discount)))]),o("td",[t._v(t._s(e.item.discount)+"%")]),o("td",{staticClass:"justify-center layout px-0"},[o("v-icon",{attrs:{small:""}},[t._v("\n                                delete\n                            ")])],1)]}}])})],1)],1)],1),o("v-flex",{staticClass:"mt-5 mx-3",attrs:{id:"forma"}},[o("form",{staticClass:"pt-2"},[o("v-layout",{attrs:{row:"",id:"dates"}},[o("v-menu",{attrs:{"close-on-content-click":!0,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[o("v-flex",{attrs:{xs6:"",md6:""}},[o("v-text-field",t._g({staticClass:"mx-3",attrs:{"append-icon":"event",label:"Date from","max-width":"30px"},model:{value:t.dateFrom,callback:function(e){t.dateFrom=e},expression:"dateFrom"}},i))],1)]}}]),model:{value:t.dateFromMenu,callback:function(e){t.dateFromMenu=e},expression:"dateFromMenu"}},[o("v-date-picker",{attrs:{color:"indigo lighten-1"},on:{input:function(e){t.dateFromMenu=!1}},model:{value:t.dateFrom,callback:function(e){t.dateFrom=e},expression:"dateFrom"}})],1),o("v-menu",{attrs:{"close-on-content-click":!0,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[o("v-flex",{attrs:{xs6:"",md6:""}},[o("v-text-field",t._g({staticClass:"mx-3",attrs:{"append-icon":"event",label:"Date to"},model:{value:t.dateTo,callback:function(e){t.dateTo=e},expression:"dateTo"}},i))],1)]}}]),model:{value:t.dateToMenu,callback:function(e){t.dateToMenu=e},expression:"dateToMenu"}},[o("v-date-picker",{attrs:{color:"indigo lighten-1"},on:{input:function(e){t.dateToMenu=!1}},model:{value:t.dateTo,callback:function(e){t.dateTo=e},expression:"dateTo"}})],1)],1),o("v-slider",{staticClass:"mx-3",attrs:{label:"Discount",max:100,min:0,step:5,"thumb-label":"","thumb-color":"indigo"},model:{value:t.discount,callback:function(e){t.discount=e},expression:"discount"}}),o("v-dialog",{attrs:{id:"roomSelection","max-width":"300px"},model:{value:t.roomsDialog,callback:function(e){t.roomsDialog=e},expression:"roomsDialog"}},[o("v-card",{attrs:{height:"500px"}},[o("v-layout",{staticStyle:{height:"500px"},attrs:{column:""}},[o("v-flex",{staticStyle:{overflow:"auto"}},[o("v-data-table",{attrs:{items:t.rooms,headers:t.roomHeaders,"headers-length":t.headersLength,"item-key":"roomNumber","hide-actions":""},scopedSlots:t._u([{key:"items",fn:function(e){return[o("td",[t._v(t._s(e.item.roomNumber))]),o("td",[t._v(t._s(e.item.floor))]),o("td",[o("v-checkbox",{attrs:{"hide-details":"",color:"indigo"},model:{value:e.selected,callback:function(o){t.$set(e,"selected",o)},expression:"props.selected"}})],1)]}}]),model:{value:t.selectedRooms,callback:function(e){t.selectedRooms=e},expression:"selectedRooms"}})],1)],1)],1)],1),o("v-layout",{attrs:{row:""}},[o("v-flex",{staticClass:"ml-3",attrs:{xs5:"",md5:"",id:"roomTypes"}},[o("v-toolbar",{attrs:{flat:"",dense:"",color:"indigo lighten-4"}},[o("v-toolbar-title",{staticClass:"text-uppercase font-weight-regular indigo--text"},[t._v("Rooms")])],1),o("v-layout",{staticStyle:{height:"500px"},attrs:{column:""}},[o("v-flex",{staticStyle:{overflow:"auto"}},[o("v-data-table",{staticClass:"elevation-5",attrs:{items:t.selectedHotel.roomTypes,"hide-headers":"","hide-actions":"","headers-length":t.headersLength},scopedSlots:t._u([{key:"items",fn:function(e){return[o("td",[t._v(t._s(e.item.type))]),o("td",{staticClass:"justify-center layout px-0"},[o("v-icon",{attrs:{color:"indigo"},on:{click:function(o){return t.openRoomsDialog(e.item.type)}}},[t._v("\n                                        add\n                                    ")])],1)]}}])})],1)],1)],1),o("v-flex",{staticClass:"mx-3",attrs:{xs7:"",md7:"",id:"additionalServices"}},[o("v-toolbar",{attrs:{flat:"",dense:"",color:"indigo lighten-4"}},[o("v-toolbar-title",{staticClass:"text-uppercase font-weight-regular indigo--text"},[t._v("Additional services")])],1),o("v-layout",{staticStyle:{height:"500px"},attrs:{column:""}},[o("v-flex",{staticStyle:{overflow:"auto"}},[o("v-data-table",{staticClass:"elevation-5",attrs:{items:t.selectedHotel.additionalServicesPriceList.priceListItems,"hide-headers":"","hide-actions":"","item-key":"name"},scopedSlots:t._u([{key:"items",fn:function(e){return[o("td",[t._v(t._s(e.item.name))]),o("td",[t._v(t._s(e.item.price))]),o("td",[o("v-checkbox",{attrs:{"hide-details":"",color:"indigo"},model:{value:e.selected,callback:function(o){t.$set(e,"selected",o)},expression:"props.selected"}})],1)]}}]),model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],1)],1)],1)],1),o("v-layout",{staticClass:"mr-2",attrs:{row:"",align:"",right:""}},[o("v-btn",{attrs:{outline:"",color:"indigo",flat:""},on:{click:t.addQuickReservation}},[t._v("\n                        Add quick reservation \n                        "),o("v-icon",{attrs:{right:""}},[t._v("add")])],1)],1)],1)])],1)],1)},et=[],ot={props:["selectedHotel"],data:function(){return{dateFromMenu:!1,dateFrom:(new Date).toISOString().substr(0,10),dateToMenu:!1,dateTo:(new Date).toISOString().substr(0,10),headersLength:2,roomsDialog:!1,rooms:[],selected:[],selectedRooms:[],discount:0,temp:[{roomType:"Single",roomNumber:1,dateFrom:"nesto",dateTo:"nesto",oldPrice:33,newPrice:15}],headers:[{text:"Room type",align:"left",sortable:!1,value:"roomType"},{text:"Room number",align:"left",sortable:!1,value:"roomNumber"},{text:"Date from",align:"left",sortable:!1,value:"dateFrom"},{text:"Date to",align:"left",sortable:!1,value:"dateTo"},{text:"Total price",align:"left",sortable:!1,value:"oldPrice"},{text:"Discounted price",align:"left",sortable:!1,value:"newPrice"},{text:"Discount",align:"left",sortable:!1,value:"discount"},{text:"",value:"actions",sortable:!1}],roomHeaders:[{text:"Room number",align:"left",sortable:!1,value:"roomNumber"},{text:"Floor",align:"left",sortable:!1,value:"floor"},{text:"",align:"left",sortable:!1,value:"check"}],quickRoomReservations:[]}},methods:{openRoomsDialog:function(t){this.rooms=this.selectedHotel.rooms.filter(function(e){return e.roomType.type==t}),this.roomsDialog=!0},goBack:function(){this.$emit("goBack")},addQuickReservation:function(){var t=this,e={headers:{Authorization:"Bearer "+localStorage.getItem("token")}},o=this.calculateAdditionalService();if(this.validateData())for(var i=0;i<this.selectedRooms.length;i++){var a={additionalServices:this.selected,discount:this.discount,totalPrice:o},s=this.selectedRooms[i];a.room=s,a.totalPrice+=this.calculateRoomPrice(s.roomType.pricePerNight),a.totalPrice=Math.floor(a.totalPrice),this.$axios.post("/api/hotels/quickRoomReservations/"+this.selectedHotel.id+"/"+this.dateFrom+"/"+this.dateTo,a,e).then(function(e){t.$swal("Reservations added successfuly","","success").then(function(){return t.$router.push("hotels")})}).catch(function(e){t.$swal("","Sorry, a mistake happened","error")})}},calculateAdditionalService:function(){for(var t=0,e=(new Date(this.dateTo)-new Date(this.dateFrom))/864e5,o=0;o<this.selected.length;o++)t+=this.selected[o].price*e;return t},calculateRoomPrice:function(t){var e=(new Date(this.dateTo)-new Date(this.dateFrom))/864e5;return t*e},calcDiscountedPrice:function(t,e){return Math.floor(t-t*(e/100))},validateData:function(){return this.dateFrom==this.dateTo||this.dateTo<this.dateFrom?(this.$swal("Invalid check-in/check-out dates","","error"),!1):0==this.discount?(this.$swal("Dicount can't be 0","","error"),!1):0!=this.selectedRooms.length||(this.$swal("At least 1 room must be selected","","error"),!1)}},mounted:function(){var t=this,e={headers:{Authorization:"Bearer "+localStorage.getItem("token")}};this.$axios.get("/api/hotels/quickRoomReservations/"+this.selectedHotel.id,e).then(function(e){t.quickRoomReservations=e.data})}},it=ot,at=o("ba0d"),st=Object(v["a"])(it,tt,et,!1,null,null,null),nt=st.exports;f()(st,{VBtn:h["a"],VCard:g["a"],VCheckbox:G["a"],VDataTable:k["a"],VDatePicker:_["a"],VDialog:D["a"],VFlex:E["a"],VIcon:R["a"],VLayout:$["a"],VMenu:V["a"],VSlider:at["a"],VSpacer:H["a"],VTextField:F["a"],VToolbar:A["a"],VToolbarTitle:X["b"]});var rt={components:{"edit-hotel":K,"quick-room-reservations":nt},data:function(){return{component:"edit-hotel",hotel:{}}},methods:{goToQuickRes:function(t){this.hotel=t,this.component="quick-room-reservations"}}},lt=rt,ct=Object(v["a"])(lt,i,a,!1,null,null,null);e["default"]=ct.exports},"97b8":function(t,e,o){}}]);
//# sourceMappingURL=chunk-77e20c86.bcb660e4.js.map