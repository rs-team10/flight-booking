(function(e){function t(t){for(var s,n,o=t[0],l=t[1],c=t[2],d=0,v=[];d<o.length;d++)n=o[d],i[n]&&v.push(i[n][0]),i[n]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(e[s]=l[s]);u&&u(t);while(v.length)v.shift()();return r.push.apply(r,c||[]),a()}function a(){for(var e,t=0;t<r.length;t++){for(var a=r[t],s=!0,o=1;o<a.length;o++){var l=a[o];0!==i[l]&&(s=!1)}s&&(r.splice(t--,1),e=n(n.s=a[0]))}return e}var s={},i={app:0},r=[];function n(t){if(s[t])return s[t].exports;var a=s[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=s,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(a,s,function(t){return e[t]}.bind(null,s));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var u=l;r.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"0162":function(e,t,a){},"023a":function(e,t,a){},"034f":function(e,t,a){"use strict";var s=a("1356"),i=a.n(s);i.a},"0767":function(e,t,a){},"0aa8":function(e,t,a){"use strict";var s=a("c742"),i=a.n(s);i.a},"0f71":function(e,t,a){e.exports=a.p+"img/user.1897f975.png"},"10d5":function(e,t,a){"use strict";var s=a("2765"),i=a.n(s);i.a},1356:function(e,t,a){},1430:function(e,t,a){},"18fe":function(e,t,a){e.exports=a.p+"img/mercedes.1d48e40e.jpg"},"1c96":function(e,t,a){},"1f55":function(e,t,a){"use strict";var s=a("31ea"),i=a.n(s);i.a},2765:function(e,t,a){},2857:function(e,t,a){},2876:function(e,t,a){"use strict";var s=a("f614"),i=a.n(s);i.a},"2f26":function(e,t,a){"use strict";var s=a("1430"),i=a.n(s);i.a},"31ea":function(e,t,a){},3742:function(e,t,a){},"40be":function(e,t,a){"use strict";var s=a("2857"),i=a.n(s);i.a},4678:function(e,t,a){var s={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb718","./de-ch.js":"bb718","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function i(e){var t=r(e);return a(t)}function r(e){var t=s[e];if(!(t+1)){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}return t}i.keys=function(){return Object.keys(s)},i.resolve=r,e.exports=i,i.id="4678"},"4adb":function(e,t,a){},"53a8":function(e,t,a){},5549:function(e,t,a){"use strict";var s=a("0162"),i=a.n(s);i.a},"56d7":function(e,t,a){"use strict";a.r(t);a("cadf"),a("551c"),a("f751"),a("097d");var s=a("2b0e"),i=a("bb71");a("da64");s["default"].use(i["a"],{iconfont:"md"});var r=a("ce5b"),n=a.n(r),o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("Header",{ref:"header"}),a("v-content",[a("router-view",{on:{logged:e.changeText}})],1)],1)},l=[],c=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("nav",[a("v-toolbar",{attrs:{flat:"",app:"",dense:""}},[a("v-toolbar-title",{staticClass:"text-uppercase grey--text"},[a("router-link",{attrs:{to:"/"}},[a("span",{staticClass:"font-weight-light"},[e._v("Flight")]),a("span",[e._v("Booking")])])],1),a("v-spacer"),a("v-toolbar-items",[a("v-btn",{attrs:{flat:"",router:"",to:"/userProfile"}},[a("v-icon",{attrs:{left:""}},[e._v("account_circle")]),a("span",[e._v("My profile")])],1),a("v-btn",{attrs:{flat:"",router:"",to:"/airlineProfile"}},[a("v-icon",{attrs:{left:""}},[e._v("flight")]),a("span",[e._v("Airlines")])],1),a("v-btn",{attrs:{flat:"",router:"",to:"/searchFlights"}},[a("v-icon",{attrs:{left:""}},[e._v("search")]),a("span",[e._v("Search Flights")])],1),a("v-btn",{attrs:{flat:"",router:"",to:"/hotels",blur:""}},[a("v-icon",{attrs:{left:""}},[e._v("hotel")]),a("span",[e._v("Hotels")])],1),a("v-btn",{attrs:{flat:"",router:"",to:"/rentACars"}},[a("v-icon",{attrs:{left:""}},[e._v("directions_car")]),a("span",[e._v("Rent a cars")])],1),a("v-btn",{attrs:{flat:"",router:"",to:"/rentACar/1"}},[a("v-icon",{attrs:{left:""}},[e._v("directions_boat")]),a("span",[e._v("RentACar flow")])],1),a("v-btn",{attrs:{flat:"",router:"",to:e.route},on:{click:function(t){return e.log()}}},[a("v-icon",{attrs:{left:""}},[e._v("rowing")]),a("span",[e._v(e._s(this.title))])],1),e.showSignUp?a("v-btn",{attrs:{flat:"",router:"",to:"/signup"}},[a("span",[e._v("Sign up")])]):e._e()],1)],1)],1)},u=[],d={data:function(){return{title:"login",route:"/login"}},methods:{log:function(){void 0==localStorage.getItem("token")?(this.title="login",this.route="/login"):(this.title="logout",this.route="/logout")}},computed:{showSignUp:function(){return null===localStorage.getItem("token")}},mounted:function(){this.log()}},v=d,h=(a("2876"),a("2877")),m=a("6544"),p=a.n(m),f=a("8336"),g=a("132d"),b=a("9910"),x=a("71d9"),y=a("2a7f"),C=Object(h["a"])(v,c,u,!1,null,"0a546565",null),w=C.exports;p()(C,{VBtn:f["a"],VIcon:g["a"],VSpacer:b["a"],VToolbar:x["a"],VToolbarItems:y["a"],VToolbarTitle:y["b"]});var k={name:"App",components:{Header:w},data:function(){return{}},methods:{changeText:function(){this.$refs.header.log()}}},_=k,$=(a("034f"),a("7496")),S=a("549c"),D=Object(h["a"])(_,o,l,!1,null,null,null),V=D.exports;p()(D,{VApp:$["a"],VContent:S["a"]});var I=a("8c4f"),T=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},A=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"home"},[a("h1",{staticClass:"text-xs-center mt-3"},[e._v("Homepage")])])}],R={},E=R,P=Object(h["a"])(E,T,A,!1,null,null,null),L=P.exports,q=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"hotels"},[a("v-tabs",{attrs:{"fixed-tabs":"",color:"#F5F4F9"}},[a("v-tab",{attrs:{outline:"",color:"indigo"},on:{click:function(t){e.component="hotels"}}},[e._v("View hotels")]),a("v-tab",{attrs:{outline:"",color:"indigo"},on:{click:function(t){e.component="add-hotel"}}},[e._v("Add hotel")])],1),a(e.component,{tag:"component",attrs:{selectedHotel:e.selectedHotel},on:{hotelSelected:function(t){return e.changeComp(t)},generateReports:function(t){return e.generateReports(t)},goToQuickReservations:function(t){e.component="quick-room-reservations"},goBack:function(t){e.component="edit-hotel"}}})],1)},O=[],F=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"hotels"},[a("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":"",id:"search"}},[a("v-layout",{attrs:{row:""}},[a("v-text-field",{staticClass:"mx-3",attrs:{"append-icon":"search",label:"Hotel name","single-line":""},model:{value:e.hotelName,callback:function(t){e.hotelName=t},expression:"hotelName"}}),a("v-text-field",{staticClass:"mx-3",attrs:{"append-icon":"location_on",label:"Hotel location","single-line":""},model:{value:e.hotelLocation,callback:function(t){e.hotelLocation=t},expression:"hotelLocation"}}),a("v-menu",{attrs:{"close-on-content-click":!0,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on;return[a("v-text-field",e._g({staticClass:"mx-3",attrs:{"append-icon":"event",label:"From","single-line":""}},s))]}}]),model:{value:e.startDateMenu,callback:function(t){e.startDateMenu=t},expression:"startDateMenu"}},[a("v-date-picker",{on:{input:function(t){e.startDateMenu=!1}},model:{value:e.startDate,callback:function(t){e.startDate=t},expression:"startDate"}})],1),a("v-menu",{attrs:{"close-on-content-click":!0,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on;return[a("v-text-field",e._g({staticClass:"mx-3",attrs:{"append-icon":"event",label:"To","single-line":""}},s))]}}]),model:{value:e.endDateMenu,callback:function(t){e.endDateMenu=t},expression:"endDateMenu"}},[a("v-date-picker",{on:{input:function(t){e.endDateMenu=!1}},model:{value:e.endDate,callback:function(t){e.endDate=t},expression:"endDate"}})],1),a("v-btn",{on:{click:e.searchHotels}},[a("span",[e._v("Search")])])],1)],1),a("v-item-group",[a("v-flex",{attrs:{xs10:"","offset-sm1":""}},[a("v-layout",{attrs:{wrap:""}},e._l(e.hotels,function(t){return a("v-flex",{key:t.name,staticClass:"d-inline-flex"},[a("v-item",[a("v-card",{staticClass:"mt-2 mx-1",attrs:{width:"344"}},[a("v-img",{attrs:{"aspect-ratio":16/9,src:"https://3.bp.blogspot.com/--2G5-blY_NE/U8LBLJLDwDI/AAAAAAAAIrQ/wQtHbEhbzNI/s1600/luxury-hotel-HD-Wallpapers.jpg"}}),a("v-card-title",[a("div",[a("span",{staticClass:"headline"},[e._v(e._s(t.name))]),a("br"),a("v-icon",{staticClass:"mr-1",attrs:{small:""}},[e._v("location_on")]),a("span",{staticClass:"grey--text text--darken-2 body-1"},[e._v(e._s(t.location.street))]),a("div",{staticClass:"d-flex"},[a("v-rating",{attrs:{value:e.value,color:"amber",dense:"","half-increments":"",readonly:"",size:"14"}}),a("div",{staticClass:"ml-2 grey--text text--darken-2"},[a("span",[e._v(e._s(e.value))]),a("span",[e._v("("+e._s(e.reviews)+")")])])],1)],1),a("v-spacer"),e.checkAdmin()?a("v-btn",{attrs:{icon:""},on:{click:function(a){return e.hotelSelected(t)}}},[a("v-icon",{attrs:{medium:"",color:"indigo"}},[e._v("edit")])],1):e._e(),e.checkAdmin()?a("v-btn",{attrs:{icon:""},on:{click:function(a){return e.generateReports(t)}}},[a("v-icon",{attrs:{medium:"",color:"indigo"}},[e._v("assessment")])],1):e._e(),a("v-btn",{attrs:{icon:""}},[a("v-icon",{attrs:{medium:"",color:"indigo"}},[e._v("face")])],1)],1)],1)],1)],1)}),1)],1)],1)],1)},N=[],B={headers:{Authorization:"Bearer "+localStorage.getItem("token")}},j={name:"hotels",data:function(){return{hotels:[],selectedHotel:{},page:0,size:5,value:3.8,reviews:356,hotelName:"",hotelLocation:"",startDate:(new Date).toISOString().substr(0,10),startDateMenu:!1,endDate:(new Date).toISOString().substr(0,10),endDateMenu:!1}},methods:{fetchHotels:function(){var e=this;this.$axios.get("http://localhost:8080/api/hotels",B).then(function(t){e.hotels=t.data})},hotelSelected:function(e){var t=this;this.$axios.get("http://localhost:8080/api/hotels/getHotelRooms/"+e.id,B).then(function(a){e=a.data,t.$emit("hotelSelected",e)})},generateReports:function(e){this.$emit("generateReports",e)},searchHotels:function(){var e=this;this.$axios.get("http://localhost:8080/api/hotels/searchHotels",{params:{page:this.page,size:this.size,hotelName:this.hotelName,hotelLocation:this.hotelLocation}}).then(function(t){console.log(t),e.hotels=t.data}).catch(function(e){console.log(e.response.data)})},checkAdmin:function(){return"ROLE_HOTEL_ADMIN"==localStorage.getItem("role")}},mounted:function(){this.fetchHotels()}},M=j,U=a("b0af"),z=a("12b2"),H=a("2e4b"),W=a("0e8f"),Y=a("adda"),Q=a("d903"),G=a("604c"),J=a("a722"),K=a("e449"),Z=a("1d4d"),X=a("2677"),ee=Object(h["a"])(M,F,N,!1,null,null,null),te=ee.exports;p()(ee,{VBtn:f["a"],VCard:U["a"],VCardTitle:z["a"],VDatePicker:H["a"],VFlex:W["a"],VIcon:g["a"],VImg:Y["a"],VItem:Q["a"],VItemGroup:G["b"],VLayout:J["a"],VMenu:K["a"],VRating:Z["a"],VSpacer:b["a"],VTextField:X["a"]});var ae=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"add-hotel"}},[a("div",{attrs:{id:"alerts"}},[a("v-alert",{attrs:{value:e.success,type:"success",transition:"scale-transition"}},[e._v("\n        Hotel: "),a("b",[e._v(e._s(e.hotel.name))]),e._v(" registered successfully.\n        ")]),a("v-alert",{attrs:{value:e.error,type:"error",dismissible:""}},[e._v("\n            "+e._s(this.error)+"\n        ")])],1),a("div",{staticClass:"mt-3",attrs:{id:"add-form"}},[a("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[a("h1",{staticClass:"text-xs-center indigo--text"},[e._v("Register new hotel")]),a("v-form",[a("v-text-field",{attrs:{"error-messages":e.nameErrors,label:"Name",required:""},model:{value:e.hotel.name,callback:function(t){e.$set(e.hotel,"name",t)},expression:"hotel.name"}}),a("v-text-field",{attrs:{"error-messages":e.addressErrors,label:"Address",required:""},model:{value:e.hotel.location.street,callback:function(t){e.$set(e.hotel.location,"street",t)},expression:"hotel.location.street"}}),a("v-layout",{attrs:{row:"","justify-center":""}},[a("v-dialog",{attrs:{persistent:"","max-width":"600px"},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on;return[a("v-btn",e._g({attrs:{block:"",color:"indigo darken-2",dark:""}},s),[e._v("Add administrator")])]}}]),model:{value:e.adminDialog,callback:function(t){e.adminDialog=t},expression:"adminDialog"}},[a("div",[a("v-alert",{attrs:{value:e.adminError,type:"error",dismissible:""}},[e._v("\n                            "+e._s(this.adminError)+"\n                        ")])],1),a("v-form",{ref:"adminForm"},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v("New Hotel administrator")])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"First name"},model:{value:e.tempAdmin.firstName,callback:function(t){e.$set(e.tempAdmin,"firstName",t)},expression:"tempAdmin.firstName"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Last name"},model:{value:e.tempAdmin.lastName,callback:function(t){e.$set(e.tempAdmin,"lastName",t)},expression:"tempAdmin.lastName"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Username*","error-messages":e.usernameErrors},model:{value:e.tempAdmin.username,callback:function(t){e.$set(e.tempAdmin,"username",t)},expression:"tempAdmin.username"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Password*","error-messages":e.passwordErrors},model:{value:e.tempAdmin.password,callback:function(t){e.$set(e.tempAdmin,"password",t)},expression:"tempAdmin.password"}})],1),a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{label:"Email*","error-messages":e.emailErrors},model:{value:e.tempAdmin.email,callback:function(t){e.$set(e.tempAdmin,"email",t)},expression:"tempAdmin.email"}})],1)],1)],1),a("small",[e._v("*indicates required field")])],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"indigo darken-1",flat:""},on:{click:e.close}},[e._v("Close")]),a("v-btn",{attrs:{color:"indigo darken-1",flat:""},on:{click:e.save}},[e._v("Save")])],1)],1)],1)],1)],1),a("v-layout",{attrs:{row:""}},[a("v-flex",[a("v-card",[a("v-toolbar",{attrs:{color:"indigo",dark:""}},[a("v-toolbar-title",{staticClass:"text-xs-center"},[e._v("Hotel administrators")]),a("v-spacer")],1),a("v-list",{staticClass:"indigo darken-2 scroll-y",staticStyle:{height:"400px"},attrs:{"two-line":"",dark:""}},[e._l(this.hotel.administrators,function(t){return[a("v-list-tile",{key:t.id},[a("v-list-tile-content",[a("v-list-tile-title",{staticClass:"font-weight-bold"},[a("span",{staticClass:"font-weight-black"},[e._v("Username:")]),e._v(" "+e._s(t.username)+"\n                                                "),a("span",{staticClass:"font-weight-black"},[e._v("Password:")]),e._v(" "+e._s(t.password)+"\n                                            ")]),a("v-list-tile-sub-title",[e._v(e._s(t.firstName)+"  "+e._s(t.lastName))]),a("v-list-tile-sub-title",[e._v(e._s(t.email))])],1),a("v-icon",{staticClass:"mr-1",on:{click:function(a){return e.deleteAdmin(t)}}},[e._v("\n                                            delete\n                                        ")])],1)]})],2)],1)],1)],1),a("div",[a("v-btn",{attrs:{block:""},on:{click:e.submit}},[e._v("submit")])],1)],1)],1)],1)])},se=[],ie=(a("7f7f"),a("1dce")),re=a.n(ie),ne=a("b5ae"),oe=a.n(ne),le={headers:{Authorization:"Bearer "+localStorage.getItem("token")}},ce={mixins:[ie["validationMixin"]],validations:{hotel:{name:{required:ne["required"]},location:{street:{required:ne["required"]}}},tempAdmin:{username:{required:ne["required"],minLength:Object(ne["minLength"])(5)},password:{required:ne["required"],minLength:Object(ne["minLength"])(6)},email:{required:ne["required"],email:ne["email"]}}},data:function(){return{hotel:{name:"",location:{street:""},description:"",administrators:[]},success:!1,error:!1,adminError:!1,adminDialog:!1,tempAdmin:{}}},computed:{nameErrors:function(){var e=[];return this.$v.hotel.name.$dirty?(!this.$v.hotel.name.required&&e.push("Name is required."),e):e},addressErrors:function(){var e=[];return this.$v.hotel.location.street.$dirty?(!this.$v.hotel.location.street.required&&e.push("Address is required."),e):e},usernameErrors:function(){var e=[];return this.$v.tempAdmin.username.$dirty?(!this.$v.tempAdmin.username.minLength&&e.push("Username must be at least 5 characters long"),!this.$v.tempAdmin.username.required&&e.push("Username is required."),e):e},passwordErrors:function(){var e=[];return this.$v.tempAdmin.password.$dirty?(!this.$v.tempAdmin.password.minLength&&e.push("Password must be at least 6 characters long"),!this.$v.tempAdmin.password.required&&e.push("Password is required."),e):e},emailErrors:function(){var e=[];return this.$v.tempAdmin.email.$dirty?(!this.$v.tempAdmin.email.email&&e.push("E-mail invalid."),!this.$v.tempAdmin.email.required&&e.push("Email is required."),e):e}},methods:{submit:function(){this.$v.hotel.$touch(),this.$v.hotel.$invalid||(this.adminEmpty()?this.error="At least one administrator must be added!":this.addHotel())},addHotel:function(){var e=this;this.$axios.post("http://localhost:8080/api/hotels",this.hotel,le).then(function(){e.success=!0,setTimeout(function(){e.success=!1},3e3)}).catch(function(t){e.error=t.response.data})},close:function(){this.$v.tempAdmin.$reset(),this.adminDialog=!1,this.tempAdmin=Object.assign({},{})},save:function(){this.$v.tempAdmin.$touch(),this.$v.tempAdmin.$invalid||(this.adminExists(this.tempAdmin.username)?this.adminError="Administrator with that username already added":(this.hotel.administrators.push(this.tempAdmin),this.close()))},adminExists:function(e){for(var t=0;t<this.hotel.administrators.length;t++)if(this.hotel.administrators[t].username==e)return!0;return!1},adminEmpty:function(){return 0==this.hotel.administrators.length},deleteAdmin:function(e){var t=this.hotel.administrators.indexOf(e);this.hotel.administrators.splice(t,1)}}},ue=ce,de=a("0798"),ve=a("99d9"),he=a("a523"),me=a("169a"),pe=a("4bd4"),fe=a("8860"),ge=a("ba95"),be=a("5d23"),xe=Object(h["a"])(ue,ae,se,!1,null,null,null),ye=xe.exports;p()(xe,{VAlert:de["a"],VBtn:f["a"],VCard:U["a"],VCardActions:ve["a"],VCardText:ve["b"],VCardTitle:z["a"],VContainer:he["a"],VDialog:me["a"],VFlex:W["a"],VForm:pe["a"],VIcon:g["a"],VLayout:J["a"],VList:fe["a"],VListTile:ge["a"],VListTileContent:be["a"],VListTileSubTitle:be["b"],VListTileTitle:be["c"],VSpacer:b["a"],VTextField:X["a"],VToolbar:x["a"],VToolbarTitle:y["b"]});var Ce=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"edit-hotel"}},[a("div",{attrs:{id:"alerts"}},[a("v-alert",{attrs:{value:e.success,type:"success",transition:"scale-transition"}},[e._v("\n        Hotel: "),a("b",[e._v(e._s(e.selectedHotel.name))]),e._v(" updated successfully.\n        ")]),a("v-alert",{attrs:{value:e.error,dismissible:"",type:"error"}},[e._v("\n            "+e._s(this.error)+"\n        ")])],1),a("div",{staticClass:"mt-3",attrs:{id:"edit-form"}},[a("v-flex",{attrs:{xs12:"",sm10:"",md10:"","offset-sm1":""}},[a("v-layout",{attrs:{row:"",align:"",right:""}},[a("v-btn",{attrs:{color:"indigo",outline:"",flat:""},on:{click:e.goToQuickReservations}},[e._v("\n                    Quick Room Reservations\n                    "),a("v-icon",{attrs:{right:""}},[e._v("arrow_forward")])],1)],1),a("form",[a("v-text-field",{attrs:{"error-messages":e.nameErrors,label:"Name",required:""},model:{value:e.selectedHotel.name,callback:function(t){e.$set(e.selectedHotel,"name",t)},expression:"selectedHotel.name"}}),a("v-text-field",{attrs:{"error-messages":e.addressErrors,label:"Address",required:""},model:{value:e.selectedHotel.location.street,callback:function(t){e.$set(e.selectedHotel.location,"street",t)},expression:"selectedHotel.location.street"}}),a("v-textarea",{attrs:{label:"Description"},model:{value:e.selectedHotel.description,callback:function(t){e.$set(e.selectedHotel,"description","string"===typeof t?t.trim():t)},expression:"selectedHotel.description"}}),a("div",{attrs:{id:"cenovnik-soba"}},[a("v-toolbar",{attrs:{color:"indigo lighten-2"}},[a("v-toolbar-title",[e._v("Room types")]),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on;return[a("v-btn",e._g({staticClass:"mb-2",attrs:{color:"indigo",dark:""}},s),[e._v("New room type")])]}}]),model:{value:e.roomDialog,callback:function(t){e.roomDialog=t},expression:"roomDialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.roomFormTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{label:"Type"},model:{value:e.roomEditedItem.type,callback:function(t){e.$set(e.roomEditedItem,"type",t)},expression:"roomEditedItem.type"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Price per night",type:"number",min:"1",oninput:"validity.valid||(value='');"},model:{value:e.roomEditedItem.pricePerNight,callback:function(t){e.$set(e.roomEditedItem,"pricePerNight",t)},expression:"roomEditedItem.pricePerNight"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Capacity",type:"number",min:"1",oninput:"validity.valid||(value='');"},model:{value:e.roomEditedItem.capacity,callback:function(t){e.$set(e.roomEditedItem,"capacity",t)},expression:"roomEditedItem.capacity"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Single beds",type:"number",min:"0",oninput:"validity.valid||(value='');"},model:{value:e.roomEditedItem.singleBedCount,callback:function(t){e.$set(e.roomEditedItem,"singleBedCount",t)},expression:"roomEditedItem.singleBedCount"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Double beds",type:"number",min:"0",oninput:"validity.valid||(value='');"},model:{value:e.roomEditedItem.doubleBedCount,callback:function(t){e.$set(e.roomEditedItem,"doubleBedCount",t)},expression:"roomEditedItem.doubleBedCount"}})],1),a("v-flex",{attrs:{xs12:""}},[a("v-textarea",{attrs:{label:"Description"},model:{value:e.roomEditedItem.description,callback:function(t){e.$set(e.roomEditedItem,"description",t)},expression:"roomEditedItem.description"}})],1),a("v-flex",[a("v-text-field",{attrs:{label:"Square footage",type:"number",min:"0",oninput:"validity.valid||(value='');"},model:{value:e.roomEditedItem.squareFootage,callback:function(t){e.$set(e.roomEditedItem,"squareFootage",t)},expression:"roomEditedItem.squareFootage"}})],1),a("v-flex",[a("v-checkbox",{attrs:{label:"TV"},model:{value:e.roomEditedItem.hasTV,callback:function(t){e.$set(e.roomEditedItem,"hasTV",t)},expression:"roomEditedItem.hasTV"}})],1),a("v-flex",[a("v-checkbox",{attrs:{label:"Balcony"},model:{value:e.roomEditedItem.hasBalcony,callback:function(t){e.$set(e.roomEditedItem,"hasBalcony",t)},expression:"roomEditedItem.hasBalcony"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"indigo darken-1",flat:""},on:{click:e.roomClose}},[e._v("Cancel")]),a("v-btn",{attrs:{color:"indigo darken-1",flat:""},on:{click:e.roomSave}},[e._v("Save")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"800px"},model:{value:e.specialPricesDialog,callback:function(t){e.specialPricesDialog=t},expression:"specialPricesDialog"}},[a(e.specialPricesComp,{tag:"component",attrs:{selectedRoomType:e.selectedRoomType}})],1),a("v-dialog",{attrs:{"max-width":"800px"},model:{value:e.editRoomsDialog,callback:function(t){e.editRoomsDialog=t},expression:"editRoomsDialog"}},[a(e.editRoomsComp,{tag:"component",attrs:{selectedRoomType:e.selectedRoomType,hotelRooms:e.selectedHotel.rooms,selectedHotel:e.selectedHotel}})],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.roomsHeaders,items:e.selectedHotel.roomTypes,"hide-actions":"",servicePagination:e.roomPagination},on:{"update:servicePagination":function(t){e.roomPagination=t},"update:service-pagination":function(t){e.roomPagination=t}},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",[e._v(e._s(t.item.type))]),a("td",[e._v(e._s(t.item.pricePerNight))]),a("td",[e._v(e._s(t.item.capacity))]),a("td",[e._v(e._s(t.item.singleBedCount))]),a("td",[e._v(e._s(t.item.doubleBedCount))]),a("td",[e._v(e._s(t.item.hasTV))]),a("td",[e._v(e._s(t.item.hasBalcony))]),a("td",[e._v(e._s(t.item.squareFootage))]),a("td",[e._v(e._s(t.item.averageFeedback))]),a("td",{staticClass:"justify-center layout px-0"},[e.isReserved(t.item.type)?a("v-layout",{attrs:{row:""}},[a("v-icon",{staticClass:"mr-2",attrs:{disabled:"",small:""},on:{click:function(a){return e.roomEditItem(t.item)}}},[e._v("\n                                    edit\n                                ")]),a("v-icon",{staticClass:"mr-2",attrs:{disabled:"",small:""},on:{click:function(a){return e.roomDeleteItem(t.item)}}},[e._v("\n                                    delete\n                                ")])],1):a("v-layout",{attrs:{row:""}},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return e.roomEditItem(t.item)}}},[e._v("\n                                    edit\n                                ")]),a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return e.roomDeleteItem(t.item)}}},[e._v("\n                                    delete\n                                ")])],1),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(s){var i=s.on;return[a("v-icon",e._g({staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return e.specialRoomPrice(t.item)}}},i),[e._v("\n                                        star\n                                    ")])]}}],null,!0)},[a("span",[e._v("Special prices")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(s){var i=s.on;return[a("v-icon",e._g({staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return e.editRooms(t.item)}}},i),[e._v("\n                                        hotel\n                                    ")])]}}],null,!0)},[a("span",[e._v("Rooms")])])],1)]}}])}),a("div",{staticClass:"text-xs-center pt-2"},[a("v-pagination",{attrs:{length:e.roomPages},model:{value:e.roomPagination.page,callback:function(t){e.$set(e.roomPagination,"page",t)},expression:"roomPagination.page"}})],1)],1),a("div",{staticClass:"mt-2",attrs:{id:"cenovnik-dodatnih"}},[a("v-toolbar",{attrs:{color:"indigo lighten-2"}},[a("v-toolbar-title",[e._v("Additional services")]),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on;return[a("v-btn",e._g({staticClass:"mb-2",attrs:{color:"indigo",dark:""}},s),[e._v("New service")])]}}]),model:{value:e.serviceDialog,callback:function(t){e.serviceDialog=t},expression:"serviceDialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.serviceFormTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{label:"Name"},model:{value:e.serviceEditedItem.name,callback:function(t){e.$set(e.serviceEditedItem,"name",t)},expression:"serviceEditedItem.name"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Price",type:"number",min:"1",oninput:"validity.valid||(value='');"},model:{value:e.serviceEditedItem.price,callback:function(t){e.$set(e.serviceEditedItem,"price",t)},expression:"serviceEditedItem.price"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Discount",type:"number",min:"0",oninput:"validity.valid||(value='');"},model:{value:e.serviceEditedItem.discount,callback:function(t){e.$set(e.serviceEditedItem,"discount",t)},expression:"serviceEditedItem.discount"}})],1),a("v-flex",{attrs:{xs12:""}},[a("v-textarea",{attrs:{label:"Description"},model:{value:e.serviceEditedItem.description,callback:function(t){e.$set(e.serviceEditedItem,"description",t)},expression:"serviceEditedItem.description"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"indigo darken-1",flat:""},on:{click:e.serviceClose}},[e._v("Cancel")]),a("v-btn",{attrs:{color:"indigo darken-1",flat:""},on:{click:e.serviceSave}},[e._v("Save")])],1)],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.servicesHeaders,items:e.selectedHotel.additionalServicesPriceList.priceListItems,"hide-actions":"",servicePagination:e.servicePagination},on:{"update:servicePagination":function(t){e.servicePagination=t},"update:service-pagination":function(t){e.servicePagination=t}},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",[e._v(e._s(t.item.name))]),a("td",[e._v(e._s(t.item.price))]),a("td",[e._v(e._s(t.item.discount))]),a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return e.editItem(t.item)}}},[e._v("\n                                edit\n                                ")]),a("v-icon",{attrs:{small:""},on:{click:function(a){return e.deleteItem(t.item)}}},[e._v("\n                                delete\n                                ")])],1)]}}])}),a("div",{staticClass:"text-xs-center pt-2"},[a("v-pagination",{attrs:{length:e.servicePages},model:{value:e.servicePagination.page,callback:function(t){e.$set(e.servicePagination,"page",t)},expression:"servicePagination.page"}})],1)],1),a("v-btn",{staticClass:"mt-2",attrs:{block:"",color:"indigo",dark:""},on:{click:e.submit}},[e._v("submit")])],1)],1)],1)])},we=[],ke=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",[a("v-toolbar",{attrs:{color:"indigo lighten-2"}},[a("v-dialog",{attrs:{"max-width":"600",persistent:""},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on;return[a("v-btn",e._g({staticClass:"mt-3 mr-3",attrs:{absolute:"",color:"indigo",dark:"",fab:"",right:"",small:""}},s),[a("v-icon",[e._v("add")])],1)]}}]),model:{value:e.addDialog,callback:function(t){e.addDialog=t},expression:"addDialog"}},[a("v-card",{attrs:{id:"addSpecialPrice"}},[a("v-card-title",[a("span",{staticClass:"headline"},[e._v("New special price")])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs4:""}},[a("v-text-field",{attrs:{label:"Special price","prepend-icon":"attach_money",type:"number"},model:{value:e.newPrice,callback:function(t){e.newPrice=t},expression:"newPrice"}})],1),a("v-flex",{attrs:{xs4:""}},[a("v-menu",{attrs:{"close-on-content-click":!0,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on;return[a("v-text-field",e._g({attrs:{"prepend-icon":"event",readonly:"",label:"Start date"},model:{value:e.addStartDate,callback:function(t){e.addStartDate=t},expression:"addStartDate"}},s))]}}]),model:{value:e.addStartDateMenu,callback:function(t){e.addStartDateMenu=t},expression:"addStartDateMenu"}},[a("v-date-picker",{attrs:{min:e.minDate},on:{input:function(t){e.startMenu=!1}},model:{value:e.addStartDate,callback:function(t){e.addStartDate=t},expression:"addStartDate"}})],1)],1),a("v-flex",{attrs:{xs4:""}},[a("v-menu",{attrs:{"close-on-content-click":!0,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on;return[a("v-text-field",e._g({attrs:{"prepend-icon":"event",readonly:"",label:"End date"},model:{value:e.addEndDate,callback:function(t){e.addEndDate=t},expression:"addEndDate"}},s))]}}]),model:{value:e.addEndDateMenu,callback:function(t){e.addEndDateMenu=t},expression:"addEndDateMenu"}},[a("v-date-picker",{attrs:{min:e.minDate},on:{input:function(t){e.endMenu=!1}},model:{value:e.addEndDate,callback:function(t){e.addEndDate=t},expression:"addEndDate"}})],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:e.closeAddDialog}},[e._v("Cancel")]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:e.savePrice}},[e._v("Save")])],1)],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{items:e.selectedRoomType.specialRoomPrices,headers:e.headers,"hide-actions":""},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",[a("v-edit-dialog",{attrs:{"return-value":t.item.price,large:"",lazy:"",persistent:""},on:{"update:returnValue":function(a){return e.$set(t.item,"price",a)},"update:return-value":function(a){return e.$set(t.item,"price",a)}},scopedSlots:e._u([{key:"input",fn:function(){return[a("v-text-field",{attrs:{label:"Edit","single-line":"",type:"number"},model:{value:t.item.price,callback:function(a){e.$set(t.item,"price",a)},expression:"props.item.price"}})]},proxy:!0}],null,!0)},[e._v("\n          "+e._s(t.item.price)+"\n            ")])],1),a("td",[a("v-edit-dialog",{attrs:{"return-value":t.item.validFrom,large:"",lazy:"",persistent:""},on:{"update:returnValue":function(a){return e.$set(t.item,"validFrom",a)},"update:return-value":function(a){return e.$set(t.item,"validFrom",a)}},scopedSlots:e._u([{key:"input",fn:function(){return[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(s){var i=s.on;return[a("v-text-field",e._g({attrs:{"prepend-icon":"event",readonly:""},model:{value:t.item.validFrom,callback:function(a){e.$set(t.item,"validFrom",a)},expression:"props.item.validFrom"}},i))]}}],null,!0),model:{value:e.startMenu,callback:function(t){e.startMenu=t},expression:"startMenu"}},[a("v-date-picker",{attrs:{min:e.minDate},on:{input:function(t){e.startMenu=!1}},model:{value:t.item.validFrom,callback:function(a){e.$set(t.item,"validFrom",a)},expression:"props.item.validFrom"}})],1)]},proxy:!0}],null,!0)},[e._v("\n            "+e._s(t.item.validFrom)+"\n              ")])],1),a("td",[a("v-edit-dialog",{attrs:{"return-value":t.item.validTo,large:"",lazy:"",persistent:""},on:{"update:returnValue":function(a){return e.$set(t.item,"validTo",a)},"update:return-value":function(a){return e.$set(t.item,"validTo",a)}},scopedSlots:e._u([{key:"input",fn:function(){return[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(s){var i=s.on;return[a("v-text-field",e._g({attrs:{"prepend-icon":"event",readonly:""},model:{value:t.item.validTo,callback:function(a){e.$set(t.item,"validTo",a)},expression:"props.item.validTo"}},i))]}}],null,!0),model:{value:e.endMenu,callback:function(t){e.endMenu=t},expression:"endMenu"}},[a("v-date-picker",{attrs:{min:e.minDate},on:{input:function(t){e.endMenu=!1}},model:{value:t.item.validTo,callback:function(a){e.$set(t.item,"validTo",a)},expression:"props.item.validTo"}})],1)]},proxy:!0}],null,!0)},[e._v("\n              "+e._s(t.item.validTo)+"\n              ")])],1),a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{attrs:{size:"20px"},on:{click:function(a){return e.deletePrice(t.item)}}},[e._v("delete")])],1)]}}])})],1)},_e=[],$e={props:["selectedRoomType"],data:function(){return{startDate:(new Date).toISOString().substr(0,10),startMenu:!1,endDate:(new Date).toISOString().substr(0,10),endMenu:!1,minDate:(new Date).toISOString().substr(0,10),addDialog:!1,newPrice:null,addStartDate:(new Date).toISOString().substr(0,10),addStartDateMenu:!1,addEndDate:(new Date).toISOString().substr(0,10),addEndDateMenu:!1,newSpecialPrice:{},headers:[{text:"Price",align:"left",sortable:!1,value:"price"},{text:"Start date",align:"left",sortable:!1,value:"startDate"},{text:"End date",align:"left",sortable:!1,value:"endDate"},{text:"",align:"right",sortable:!1,value:"actions"}]}},methods:{savePrice:function(){this.newSpecialPrice={price:this.newPrice,validFrom:this.addStartDate.substr(0,10),validTo:this.addEndDate.substr(0,10)},this.selectedRoomType.specialRoomPrices.push(this.newSpecialPrice),this.closeAddDialog()},closeAddDialog:function(){this.addDialog=!1,this.newPrice=null,this.addStartDate=(new Date).toISOString().substr(0,10),this.addEndDate=(new Date).toISOString().substr(0,10)},deletePrice:function(e){var t=this.selectedRoomType.specialRoomPrices.indexOf(e);this.selectedRoomType.specialRoomPrices.splice(t,1)}}},Se=$e,De=a("8fea"),Ve=a("7679"),Ie=Object(h["a"])(Se,ke,_e,!1,null,null,null),Te=Ie.exports;p()(Ie,{VBtn:f["a"],VCard:U["a"],VCardActions:ve["a"],VCardText:ve["b"],VCardTitle:z["a"],VContainer:he["a"],VDataTable:De["a"],VDatePicker:H["a"],VDialog:me["a"],VEditDialog:Ve["a"],VFlex:W["a"],VIcon:g["a"],VLayout:J["a"],VMenu:K["a"],VSpacer:b["a"],VTextField:X["a"],VToolbar:x["a"]});var Ae=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",[a("v-toolbar",{attrs:{color:"indigo lighten-2"}},[a("v-dialog",{attrs:{"max-width":"300px",persistent:""},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on;return[a("v-btn",e._g({staticClass:"mt-3 mr-3",attrs:{absolute:"",color:"indigo",dark:"",fab:"",right:"",small:""}},s),[a("v-icon",[e._v("add")])],1)]}}]),model:{value:e.addDialog,callback:function(t){e.addDialog=t},expression:"addDialog"}},[a("v-card",{attrs:{id:"addRoom"}},[a("v-card-title",[a("span",{staticClass:"headline "},[e._v("New room")])]),a("v-card-text",[a("v-container",{staticClass:"pt-0 pb-1",attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:"",column:""}},[a("v-flex",{attrs:{xs4:""}},[a("v-text-field",{attrs:{label:"Floor",type:"number"},model:{value:e.newRoom.floor,callback:function(t){e.$set(e.newRoom,"floor",t)},expression:"newRoom.floor"}})],1),a("v-flex",{attrs:{xs4:""}},[a("v-text-field",{attrs:{label:"Room",type:"number"},model:{value:e.newRoom.roomNumber,callback:function(t){e.$set(e.newRoom,"roomNumber",t)},expression:"newRoom.roomNumber"}})],1)],1)],1)],1),a("v-card-actions",{staticClass:"pt-1"},[a("v-spacer"),a("v-btn",{attrs:{color:"indigo darken-1",flat:""},on:{click:e.closeAddDialog}},[e._v("Cancel")]),a("v-btn",{attrs:{color:"indigo darken-1",flat:""},on:{click:e.saveRoom}},[e._v("Save")])],1)],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{items:e.selectedHotel.rooms.filter(function(t){return t.roomType.type==e.selectedRoomType.type}),headers:e.headers,"hide-actions":""},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",[a("v-edit-dialog",{attrs:{"return-value":t.item.floor,large:"",lazy:"",persistent:""},on:{"update:returnValue":function(a){return e.$set(t.item,"floor",a)},"update:return-value":function(a){return e.$set(t.item,"floor",a)}},scopedSlots:e._u([{key:"input",fn:function(){return[a("v-text-field",{attrs:{label:"Edit","single-line":"",type:"number"},model:{value:t.item.floor,callback:function(a){e.$set(t.item,"floor",a)},expression:"props.item.floor"}})]},proxy:!0}],null,!0)},[e._v("\n                "+e._s(t.item.floor)+"\n                ")])],1),a("td",[a("v-edit-dialog",{attrs:{"return-value":t.item.roomNumber,large:"",lazy:"",persistent:""},on:{"update:returnValue":function(a){return e.$set(t.item,"roomNumber",a)},"update:return-value":function(a){return e.$set(t.item,"roomNumber",a)}},scopedSlots:e._u([{key:"input",fn:function(){return[a("v-text-field",{attrs:{label:"Edit","single-line":"",type:"number"},model:{value:t.item.roomNumber,callback:function(a){e.$set(t.item,"roomNumber",a)},expression:"props.item.roomNumber"}})]},proxy:!0}],null,!0)},[e._v("\n                "+e._s(t.item.roomNumber)+"\n                ")])],1),a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{attrs:{disabled:t.item.reserved,size:"20px"},on:{click:function(a){return e.deletePrice(t.item)}}},[e._v("delete")])],1)]}}])})],1)},Re=[],Ee={props:["selectedRoomType","selectedHotel"],data:function(){return{addDialog:!1,headers:[{text:"Floor",align:"left",sortable:!1,value:"floor"},{text:"Room number",align:"left",sortable:!1,value:"roomNumber"},{text:"",align:"right",sortable:!1,value:"actions"}],newRoom:{}}},methods:{closeAddDialog:function(){this.addDialog=!1,this.newRoom={},console.log(this.selectedHotel.rooms)},saveRoom:function(){this.newRoom.roomType=Object.assign({},this.selectedRoomType),this.selectedHotel.rooms.push(this.newRoom),this.closeAddDialog()}}},Pe=Ee,Le=Object(h["a"])(Pe,Ae,Re,!1,null,null,null),qe=Le.exports;p()(Le,{VBtn:f["a"],VCard:U["a"],VCardActions:ve["a"],VCardText:ve["b"],VCardTitle:z["a"],VContainer:he["a"],VDataTable:De["a"],VDialog:me["a"],VEditDialog:Ve["a"],VFlex:W["a"],VIcon:g["a"],VLayout:J["a"],VSpacer:b["a"],VTextField:X["a"],VToolbar:x["a"]});var Oe={headers:{Authorization:"Bearer "+localStorage.getItem("token")}},Fe={components:{specialRoomPrices:Te,editRooms:qe},props:["selectedHotel"],mixins:[ie["validationMixin"]],validations:{selectedHotel:{name:{required:ne["required"]},location:{street:{required:ne["required"]}}}},data:function(){return{specialPricesComp:"specialRoomPrices",editRoomsComp:"editRooms",selectedRoomType:{},rooms:[],serviceDialog:!1,servicePagination:{},servicesHeaders:[{text:"Name",align:"left",sortable:!1,value:"name"},{text:"Price (€)",value:"price"},{text:"Discount (%)",value:"discount"},{text:"",value:"name",sortable:!1}],serviceEditedIndex:-1,serviceEditedItem:{},serviceDefaultItem:{},roomDialog:!1,specialPricesDialog:!1,editRoomsDialog:!1,roomPagination:{},roomsHeaders:[{text:"Type",align:"left",sortable:!1,value:"name"},{text:"Price per night (€)",value:"price"},{text:"Capacity",value:"discount"},{text:"Single beds",value:"singleBeds",sortable:!1},{text:"Double beds",value:"doubleBeds",sortable:!1},{text:"Has TV",value:"hasTV",sortable:!1},{text:"Has Balcony",value:"hasBalcony",sortable:!1},{text:"Square ft.",value:"squareFootage",sortable:!0},{text:"Average Feedback",value:"avgFdbk"},{text:"",value:"actions",sortable:!1}],roomEditedIndex:-1,roomEditedItem:{},roomDefaultItem:{},success:!1,error:!1}},computed:{nameErrors:function(){var e=[];return this.$v.selectedHotel.name.$dirty?(!this.$v.selectedHotel.name.required&&e.push("Name is required."),e):e},addressErrors:function(){var e=[];return this.$v.selectedHotel.location.street.$dirty?(!this.$v.selectedHotel.location.street.required&&e.push("Address is required."),e):e},serviceFormTitle:function(){return-1===this.serviceEditedIndex?"New Service":"Edit Service"},roomFormTitle:function(){return-1===this.roomEditedIndex?"New Room Type":"Edit Room Type"},servicePages:function(){return null==this.servicePagination.rowsPerPage||null==this.servicePagination.totalItems?0:Math.ceil(this.servicePagination.totalItems/this.servicePagination.rowsPerPage)},roomPages:function(){return null==this.roomPagination.rowsPerPage||null==this.roomPagination.totalItems?0:Math.ceil(this.roomPagination.totalItems/this.roomPagination.rowsPerPage)}},watch:{serviceDialog:function(e){e||this.serviceClose()},roomsDialog:function(e){e||this.roomClose()}},methods:{submit:function(){this.$v.$touch(),this.$v.$invalid||this.editHotel()},editHotel:function(){var e=this;this.$axios.put("http://localhost:8080/api/hotels/"+this.selectedHotel.id,this.selectedHotel,Oe).then(function(){e.success=!0,setTimeout(function(){e.success=!1},3e3)}).catch(function(e){console.log("Edit hotel GRESKA")})},editItem:function(e){this.serviceEditedIndex=this.selectedHotel.additionalServicesPriceList.priceListItems.indexOf(e),this.serviceEditedItem=Object.assign({},e),this.serviceDialog=!0},deleteItem:function(e){var t=this.selectedHotel.additionalServicesPriceList.priceListItems.indexOf(e);this.selectedHotel.additionalServicesPriceList.priceListItems.splice(t,1)},serviceClose:function(){var e=this;this.serviceDialog=!1,setTimeout(function(){e.serviceEditedItem=Object.assign({},e.serviceDefaultItem),e.serviceEditedIndex=-1},300)},serviceSave:function(){this.serviceEditedIndex>-1?Object.assign(this.selectedHotel.additionalServicesPriceList.priceListItems[this.serviceEditedIndex],this.serviceEditedItem):this.selectedHotel.additionalServicesPriceList.priceListItems.push(this.serviceEditedItem),this.serviceClose()},roomEditItem:function(e){this.roomEditedIndex=this.selectedHotel.roomTypes.indexOf(e),this.roomEditedItem=Object.assign({},e),this.roomDialog=!0},roomDeleteItem:function(e){var t=this.selectedHotel.roomTypes.indexOf(e);this.selectedHotel.roomTypes.splice(t,1)},roomClose:function(){var e=this;this.roomDialog=!1,setTimeout(function(){e.roomEditedItem=Object.assign({},e.roomDefaultItem),e.roomEditedIndex=-1},300)},roomSave:function(){this.roomEditedIndex>-1?Object.assign(this.selectedHotel.roomTypes[this.roomEditedIndex],this.roomEditedItem):this.selectedHotel.roomTypes.push(this.roomEditedItem),this.roomClose()},specialRoomPrice:function(e){this.selectedRoomType=e,this.specialPricesDialog=!0},editRooms:function(e){this.selectedRoomType=e,this.editRoomsDialog=!0},isReserved:function(e){for(var t=this.selectedHotel.rooms.filter(function(t){return t.roomType.type==e}),a=0;a<t.length;a++)if(t[a].reserved)return!0;return!1},goToQuickReservations:function(){this.$emit("goToQuickReservations")}},created:function(){console.log(this.selectedHotel)}},Ne=Fe,Be=a("ac7c"),je=a("891e"),Me=a("a844"),Ue=a("3a2f"),ze=Object(h["a"])(Ne,Ce,we,!1,null,null,null),He=ze.exports;p()(ze,{VAlert:de["a"],VBtn:f["a"],VCard:U["a"],VCardActions:ve["a"],VCardText:ve["b"],VCardTitle:z["a"],VCheckbox:Be["a"],VContainer:he["a"],VDataTable:De["a"],VDialog:me["a"],VFlex:W["a"],VIcon:g["a"],VLayout:J["a"],VPagination:je["a"],VSpacer:b["a"],VTextField:X["a"],VTextarea:Me["a"],VToolbar:x["a"],VToolbarTitle:y["b"],VTooltip:Ue["a"]});var We=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"quickRoomReservation"}},[a("v-layout",{staticClass:"d-flex"},[a("v-flex",{staticClass:"ml-4",attrs:{id:"tabela",xs6:"",md6:""}},[a("v-btn",{attrs:{icon:"",flat:""},on:{click:e.goBack}},[a("v-icon",[e._v("\n                    arrow_back\n                ")])],1),a("v-toolbar",{staticClass:"mt-2",attrs:{dense:"",color:"indigo lighten-4"}},[a("v-toolbar-title",{staticClass:"text-uppercase font-weight-regular indigo--text"},[e._v("Quick room reservations")]),a("v-spacer"),a("v-btn",{attrs:{color:"indigo",flat:""},on:{click:e.saveData}},[e._v("\n                    save\n                    "),a("v-icon",{attrs:{right:""}},[e._v("save")])],1)],1),a("v-layout",{staticStyle:{height:"800px"},attrs:{column:""}},[a("v-flex",{staticStyle:{overflow:"auto"}},[a("v-data-table",{staticClass:"elevation-5",attrs:{headers:e.headers,items:e.quickRoomReservations,"hide-actions":""},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",[e._v(e._s(t.item.room.roomType.type))]),a("td",[e._v(e._s(t.item.room.roomNumber))]),a("td",[e._v(e._s(t.item.dateFrom))]),a("td",[e._v(e._s(t.item.dateTo))]),a("td",[e._v(e._s(t.item.totalPrice))]),a("td",[e._v(e._s(e.calcDiscountedPrice(t.item.totalPrice,t.item.discount)))]),a("td",[e._v(e._s(t.item.discount)+"%")]),a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{attrs:{small:""},on:{click:function(a){return e.deleteItem(t.item)}}},[e._v("\n                            delete\n                            ")])],1)]}}])})],1)],1)],1),a("v-flex",{staticClass:"mt-5 mx-3",attrs:{id:"forma"}},[a("form",{staticClass:"pt-2"},[a("v-layout",{attrs:{row:"",id:"dates"}},[a("v-menu",{attrs:{"close-on-content-click":!0,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on;return[a("v-flex",{attrs:{xs6:"",md6:""}},[a("v-text-field",e._g({staticClass:"mx-3",attrs:{"append-icon":"event",label:"Date from","max-width":"30px"},model:{value:e.dateFrom,callback:function(t){e.dateFrom=t},expression:"dateFrom"}},s))],1)]}}]),model:{value:e.dateFromMenu,callback:function(t){e.dateFromMenu=t},expression:"dateFromMenu"}},[a("v-date-picker",{attrs:{color:"indigo lighten-1"},on:{input:function(t){e.dateFromMenu=!1}},model:{value:e.dateFrom,callback:function(t){e.dateFrom=t},expression:"dateFrom"}})],1),a("v-menu",{attrs:{"close-on-content-click":!0,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on;return[a("v-flex",{attrs:{xs6:"",md6:""}},[a("v-text-field",e._g({staticClass:"mx-3",attrs:{"append-icon":"event",label:"Date to"},model:{value:e.dateTo,callback:function(t){e.dateTo=t},expression:"dateTo"}},s))],1)]}}]),model:{value:e.dateToMenu,callback:function(t){e.dateToMenu=t},expression:"dateToMenu"}},[a("v-date-picker",{attrs:{color:"indigo lighten-1"},on:{input:function(t){e.dateToMenu=!1}},model:{value:e.dateTo,callback:function(t){e.dateTo=t},expression:"dateTo"}})],1)],1),a("v-slider",{staticClass:"mx-3",attrs:{label:"Discount",max:100,min:0,step:5,"thumb-label":"","thumb-color":"indigo"},model:{value:e.discount,callback:function(t){e.discount=t},expression:"discount"}}),a("v-dialog",{attrs:{id:"roomSelection","max-width":"300px"},model:{value:e.roomsDialog,callback:function(t){e.roomsDialog=t},expression:"roomsDialog"}},[a("v-card",{attrs:{height:"500px"}},[a("v-layout",{staticStyle:{height:"500px"},attrs:{column:""}},[a("v-flex",{staticStyle:{overflow:"auto"}},[a("v-data-table",{attrs:{items:e.rooms,headers:e.roomHeaders,"headers-length":e.headersLength,"item-key":"roomNumber","hide-actions":""},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",[e._v(e._s(t.item.roomNumber))]),a("td",[e._v(e._s(t.item.floor))]),a("td",[a("v-checkbox",{attrs:{"hide-details":"",color:"indigo"},model:{value:t.selected,callback:function(a){e.$set(t,"selected",a)},expression:"props.selected"}})],1)]}}]),model:{value:e.selectedRooms,callback:function(t){e.selectedRooms=t},expression:"selectedRooms"}})],1)],1)],1)],1),a("v-layout",{attrs:{row:""}},[a("v-flex",{staticClass:"ml-3",attrs:{xs5:"",md5:"",id:"roomTypes"}},[a("v-toolbar",{attrs:{flat:"",dense:"",color:"indigo lighten-4"}},[a("v-toolbar-title",{staticClass:"text-uppercase font-weight-regular indigo--text"},[e._v("Rooms")])],1),a("v-layout",{staticStyle:{height:"500px"},attrs:{column:""}},[a("v-flex",{staticStyle:{overflow:"auto"}},[a("v-data-table",{staticClass:"elevation-5",attrs:{items:e.selectedHotel.roomTypes,"hide-headers":"","hide-actions":"","headers-length":e.headersLength},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",[e._v(e._s(t.item.type))]),a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{attrs:{color:"indigo"},on:{click:function(a){return e.openRoomsDialog(t.item.type)}}},[e._v("\n                                        add\n                                    ")])],1)]}}])})],1)],1)],1),a("v-flex",{staticClass:"mx-3",attrs:{xs7:"",md7:"",id:"additionalServices"}},[a("v-toolbar",{attrs:{flat:"",dense:"",color:"indigo lighten-4"}},[a("v-toolbar-title",{staticClass:"text-uppercase font-weight-regular indigo--text"},[e._v("Additional services")])],1),a("v-layout",{staticStyle:{height:"500px"},attrs:{column:""}},[a("v-flex",{staticStyle:{overflow:"auto"}},[a("v-data-table",{staticClass:"elevation-5",attrs:{items:e.selectedHotel.additionalServicesPriceList.priceListItems,"hide-headers":"","hide-actions":"","item-key":"name"},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",[e._v(e._s(t.item.name))]),a("td",[e._v(e._s(t.item.price))]),a("td",[a("v-checkbox",{attrs:{"hide-details":"",color:"indigo"},model:{value:t.selected,callback:function(a){e.$set(t,"selected",a)},expression:"props.selected"}})],1)]}}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1)],1)],1)],1),a("v-layout",{staticClass:"mr-2",attrs:{row:"",align:"",right:""}},[a("v-btn",{attrs:{outline:"",color:"indigo",flat:""},on:{click:e.addQuickReservation}},[e._v("\n                        Add quick reservation \n                        "),a("v-icon",{attrs:{right:""}},[e._v("add")])],1)],1)],1)])],1)],1)},Ye=[],Qe={props:["selectedHotel"],data:function(){return{dateFromMenu:!1,dateFrom:(new Date).toISOString().substr(0,10),dateToMenu:!1,dateTo:(new Date).toISOString().substr(0,10),headersLength:2,roomsDialog:!1,rooms:[],selected:[],selectedRooms:[],discount:0,temp:[{roomType:"Single",roomNumber:1,dateFrom:"nesto",dateTo:"nesto",oldPrice:33,newPrice:15}],headers:[{text:"Room type",align:"left",sortable:!1,value:"roomType"},{text:"Room number",align:"left",sortable:!1,value:"roomNumber"},{text:"Date from",align:"left",sortable:!1,value:"dateFrom"},{text:"Date to",align:"left",sortable:!1,value:"dateTo"},{text:"Total price",align:"left",sortable:!1,value:"oldPrice"},{text:"Discounted price",align:"left",sortable:!1,value:"newPrice"},{text:"Discount",align:"left",sortable:!1,value:"discount"},{text:"",value:"actions",sortable:!1}],roomHeaders:[{text:"Room number",align:"left",sortable:!1,value:"roomNumber"},{text:"Floor",align:"left",sortable:!1,value:"floor"},{text:"",align:"left",sortable:!1,value:"check"}],quickRoomReservations:[]}},methods:{openRoomsDialog:function(e){this.rooms=this.selectedHotel.rooms.filter(function(t){return t.roomType.type==e}),this.roomsDialog=!0},goBack:function(){this.$emit("goBack")},addQuickReservation:function(){var e=this.calculateAdditionalService();if(this.validateData())for(var t={dateFrom:this.dateFrom,dateTo:this.dateTo,additionalServices:this.selected,discount:this.discount,totalPrice:e},a=0;a<this.selectedRooms.length;a++){var s=this.selectedRooms[a];t.room=s,t.totalPrice+=this.calculateRoomPrice(s.roomType.pricePerNight),this.quickRoomReservations.push(t)}},calculateAdditionalService:function(){for(var e=0,t=(new Date(this.dateTo)-new Date(this.dateFrom))/864e5,a=0;a<this.selected.length;a++)e+=this.selected[a].price*t;return e},calculateRoomPrice:function(e){var t=(new Date(this.dateTo)-new Date(this.dateFrom))/864e5;return e*t},saveData:function(){var e=this;this.$axios.post("http://localhost:8080/api/hotels/quickRoomReservations/"+this.selectedHotel.id,this.quickRoomReservations).then(function(t){e.$swal("Reservations added successfuly","","success")}).catch(function(e){console.log(e)})},calcDiscountedPrice:function(e,t){return e-e*(t/100)},validateData:function(){return this.dateFrom==this.dateTo||this.dateTo<this.dateFrom?(this.$swal("Invalid check-in/check-out dates","","error"),!1):0==this.discount?(this.$swal("Dicount can't be 0","","error"),!1):0!=this.selectedRooms.length||(this.$swal("At least 1 room must be selected","","error"),!1)}},mounted:function(){var e=this;this.$axios.get("http://localhost:8080/api/hotels/quickRoomReservations/"+this.selectedHotel.id).then(function(t){console.log(t),e.quickRoomReservations=t.data})}},Ge=Qe,Je=a("ba0d"),Ke=Object(h["a"])(Ge,We,Ye,!1,null,null,null),Ze=Ke.exports;p()(Ke,{VBtn:f["a"],VCard:U["a"],VCheckbox:Be["a"],VDataTable:De["a"],VDatePicker:H["a"],VDialog:me["a"],VFlex:W["a"],VIcon:g["a"],VLayout:J["a"],VMenu:K["a"],VSlider:Je["a"],VSpacer:b["a"],VTextField:X["a"],VToolbar:x["a"],VToolbarTitle:y["b"]});var Xe,et,tt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"izvestaji"}},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs3:"",md3:"",sm3:""}},[a("v-layout",{attrs:{column:""}},[a("v-card",{staticClass:"ma-3",attrs:{id:"hotelFeedback"}},[a("v-card-title",{staticClass:"headline text-xs-left font-weight-light indigo--text"},[e._v("Average hotel feedback")]),a("v-divider"),a("v-card-text",[a("v-layout",{attrs:{row:""}},[a("span",{staticClass:"mr-2 display-1 indigo--text font-weight-regular"},[e._v(e._s(e.report.averageFeedback))]),a("v-rating",{staticClass:"pb-1",attrs:{value:e.report.averageFeedback,color:"indigo lighten-1",dense:"",large:"","half-increments":"",readonly:""}}),a("span",{staticClass:"mt-3 ml-1 grey--text text--darken-2 font-weight-light caption"},[e._v(e._s(e.report.numberOfFeedbacks)+" reviews")])],1)],1)],1),a("v-card",{staticClass:"ma-3",attrs:{id:"roomsFeedback"}},[a("v-item-group",[a("v-layout",{attrs:{column:""}},[a("v-list",{staticClass:"scroll-y",staticStyle:{height:"1325px"}},e._l(this.report.roomTypes,function(t){return a("v-flex",{key:t.id,staticClass:"d-inline align-center"},[a("v-item",{attrs:{width:"100%"}},[a("div",{staticStyle:{margin:"auto"}},[a("v-card",{attrs:{flat:""}},[a("v-card-text",[a("v-layout",{attrs:{row:""}},[a("span",{staticClass:"mb-1 headline indigo--text font-weight-light"},[e._v(e._s(t.type))]),a("v-spacer"),a("v-rating",{attrs:{value:t.averageFeedback,color:"indigo lighten-1",dense:"","half-increments":"",readonly:""}}),a("span",{staticClass:"mt-2 ml-1 grey--text text--darken-2 font-weight-light caption"},[e._v(e._s(e.numberOfRoomReviews(t.id))+" reviews")])],1)],1),a("v-divider")],1)],1)])],1)}),1)],1)],1)],1)],1)],1),a("v-flex",{staticClass:"mr-2",attrs:{xs5:"",md5:"",sm5:""}},[a("v-layout",{staticClass:"mt-3",attrs:{column:""}},[a("v-flex",{attrs:{id:"dailyVisits"}},[e.canRender?a("v-card",{staticClass:"mt-4",attrs:{"max-width":"760px"}},[a("v-sheet",{staticClass:"v-sheet--offset mx-auto",attrs:{color:"indigo lighten-4",elevation:"12","max-width":"calc(100% - 32px)"}},[a("bar-chart",{staticClass:"pt-2 temp",attrs:{"chart-data":e.dailyReport}})],1),a("v-card-text",{staticClass:"py-0"},[a("v-layout",{attrs:{row:""}},[a("div",{staticClass:"title indigo--text font-weight-regular mt-2"},[e._v("Daily visits")]),a("v-spacer"),a("v-flex",{attrs:{xs5:"",sm5:"",md5:""}},[a("v-menu",{attrs:{"close-on-content-click":!0,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on;return[a("v-text-field",e._g({staticClass:"my-0 py-0",attrs:{"append-icon":"event"},model:{value:e.dailyDate,callback:function(t){e.dailyDate=t},expression:"dailyDate"}},s))]}}],null,!1,2907854603),model:{value:e.dailyDateMenu,callback:function(t){e.dailyDateMenu=t},expression:"dailyDateMenu"}},[a("v-date-picker",{attrs:{color:"indigo lighten-1"},on:{change:function(t){return e.getDailyVisits()},input:function(t){e.dailyDateMenu=!1}},model:{value:e.dailyDate,callback:function(t){e.dailyDate=t},expression:"dailyDate"}})],1)],1)],1)],1)],1):e._e()],1),a("v-flex",{attrs:{id:"weeklyVisits"}},[e.canRender?a("v-card",{staticClass:"mt-5",attrs:{"max-width":"760px"}},[a("v-sheet",{staticClass:"v-sheet--offset mx-auto",attrs:{color:"indigo lighten-4",elevation:"12","max-width":"calc(100% - 32px)"}},[a("bar-chart",{staticClass:"pt-2 temp",attrs:{"chart-data":e.weeklyReport}})],1),a("v-card-text",{staticClass:"py-0"},[a("v-layout",{attrs:{row:""}},[a("div",{staticClass:"title indigo--text font-weight-regular mt-2"},[e._v("Weekly visits")]),a("v-spacer"),a("v-flex",{attrs:{xs5:"",sm5:"",md5:""}},[a("v-menu",{attrs:{"close-on-content-click":!0,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on;return[a("v-text-field",e._g({staticClass:"my-0 py-0",attrs:{"append-icon":"event"},model:{value:e.weeklyDate,callback:function(t){e.weeklyDate=t},expression:"weeklyDate"}},s))]}}],null,!1,171278395),model:{value:e.weeklyDateMenu,callback:function(t){e.weeklyDateMenu=t},expression:"weeklyDateMenu"}},[a("v-date-picker",{attrs:{color:"indigo lighten-1","allowed-dates":e.allowedDates},on:{change:function(t){return e.getWeeklyVisits()},input:function(t){e.weeklyDateMenu=!1}},model:{value:e.weeklyDate,callback:function(t){e.weeklyDate=t},expression:"weeklyDate"}})],1)],1)],1)],1)],1):e._e()],1),a("v-flex",{attrs:{id:"monthlyVisits"}},[e.canRender?a("v-card",{staticClass:"my-5",attrs:{"max-width":"760px"}},[a("v-sheet",{staticClass:"v-sheet--offset mx-auto",attrs:{color:"indigo lighten-4",elevation:"12","max-width":"calc(100% - 32px)"}},[a("bar-chart",{staticClass:"pt-2 temp",attrs:{"chart-data":e.yearlyReport}})],1),a("v-card-text",{staticClass:"py-0"},[a("v-layout",{attrs:{row:""}},[a("div",{staticClass:"title indigo--text font-weight-regular mt-2"},[e._v("Monthly visits")]),a("v-spacer"),a("v-flex",{attrs:{xs3:"",sm3:"",md3:""}},[a("v-select",{staticClass:"my-0 py-0",attrs:{items:e.years},on:{change:function(t){return e.getMonthlyVisits()}},model:{value:e.year,callback:function(t){e.year=t},expression:"year"}})],1)],1)],1)],1):e._e()],1)],1)],1),a("v-flex",{attrs:{xs4:"",sm4:"",md4:""}},[a("v-card",{staticClass:"mt-3 mr-3",attrs:{id:"hotelIncome"}},[a("v-card-title",{staticClass:"headline text-xs-left font-weight-light indigo--text"},[e._v("Hotel income")]),a("v-divider"),a("v-card-text",[a("v-layout",{attrs:{row:""}},[a("v-menu",{attrs:{"close-on-content-click":!0,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on;return[a("v-flex",{attrs:{xs6:"",md6:""}},[a("v-text-field",e._g({staticClass:"mx-3",attrs:{"append-icon":"event",label:"From","max-width":"30px"},model:{value:e.dateFrom,callback:function(t){e.dateFrom=t},expression:"dateFrom"}},s))],1)]}}]),model:{value:e.dateFromMenu,callback:function(t){e.dateFromMenu=t},expression:"dateFromMenu"}},[a("v-date-picker",{attrs:{color:"indigo lighten-1",max:e.maxDate},on:{input:function(t){e.dateFromMenu=!1}},model:{value:e.dateFrom,callback:function(t){e.dateFrom=t},expression:"dateFrom"}})],1),a("v-menu",{attrs:{"close-on-content-click":!0,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on;return[a("v-flex",{attrs:{xs6:"",md6:""}},[a("v-text-field",e._g({staticClass:"mx-3",attrs:{"append-icon":"event",label:"To"},model:{value:e.dateTo,callback:function(t){e.dateTo=t},expression:"dateTo"}},s))],1)]}}]),model:{value:e.dateToMenu,callback:function(t){e.dateToMenu=t},expression:"dateToMenu"}},[a("v-date-picker",{attrs:{color:"indigo lighten-1",max:e.maxDate},on:{input:function(t){e.dateToMenu=!1}},model:{value:e.dateTo,callback:function(t){e.dateTo=t},expression:"dateTo"}})],1),a("v-btn",{staticClass:"mt-2",attrs:{outline:"",block:"",flat:"",color:"indigo lighten-3"},on:{click:e.getIncomeReport}},[e._v("Show")])],1)],1),e.showIncome?a("div",[a("v-divider"),e.showIncome?a("v-card-text",[a("v-layout",{attrs:{column:""}},[a("v-layout",{staticClass:"title font-weight-light indigo--text",attrs:{row:""}},[a("span",[e._v("From:")]),a("v-spacer"),a("span",[e._v(e._s(e.showDateFrom))])],1),a("br"),a("v-layout",{staticClass:"title font-weight-light indigo--text",attrs:{row:""}},[a("span",[e._v("To:")]),a("v-spacer"),a("span",[e._v(e._s(e.showDateTo))])],1),a("br"),a("v-divider",{attrs:{light:""}}),a("br"),a("v-layout",{staticClass:"headline font-weight-medium indigo--text text-uppercase",attrs:{row:""}},[a("span",[e._v("Total income:")]),a("v-spacer"),a("span",[e._v(e._s(e.income)+"€")])],1)],1)],1):e._e()],1):e._e()],1)],1)],1)],1)},at=[],st=(a("a481"),a("8615"),a("ac6a"),a("456d"),a("5df3"),a("1c4c"),a("1fca")),it=st["c"].reactiveProp,rt={extends:st["a"],mixins:[it],data:function(){return{gradient:null,datacollection:{labels:["January","February","March","April","May","June","July","August","September","October","November","December"],datasets:[{label:"Data One",backgroundColor:this.gradient,pointBackgroundColor:"white",borderWidth:1,pointBorderColor:"#249EBF",data:[40,20,30,50,90,10,20,40,50,70,90,100]}]},options:{scales:{yAxes:[{ticks:{beginAtZero:!0},gridLines:{display:!1}}],xAxes:[{ticks:{beginAtZero:!0},gridLines:{display:!1}}]},legend:{display:!1},tooltips:{enabled:!0,mode:"single",callbacks:{label:function(e,t){return e.yLabel+" visits"}}},responsive:!0,maintainAspectRatio:!1,height:200}}},mounted:function(){this.renderChart(this.chartData,this.options)}},nt=rt,ot=Object(h["a"])(nt,Xe,et,!1,null,null,null),lt=ot.exports,ct={components:{"bar-chart":lt},props:["selectedHotel"],data:function(){return{report:{},dateFromMenu:!1,dateFrom:(new Date).toISOString().substr(0,10),dateToMenu:!1,dateTo:(new Date).toISOString().substr(0,10),maxDate:(new Date).toISOString().substr(0,10),income:"",canRender:!1,showIncome:!1,showDateFrom:"",showDateTo:"",dailyReport:{},dailyDate:(new Date).toISOString().substr(0,10),dailyDateMenu:!1,weeklyReport:{},weeklyDate:(new Date).toISOString().substr(0,10),weeklyDateMenu:!1,yearlyReport:{},year:"",months:{0:"JAN",1:"FEB",2:"MAR",3:"APR",4:"MAY",5:"JUN",6:"JUL",7:"AUG",8:"SEP",9:"OCT",10:"NOV",11:"DEC"}}},methods:{numberOfRoomReviews:function(e){return 0},getIncomeReport:function(){var e=this;this.$axios.get("http://localhost:8080/api/hotels/getIncomeReport/",{params:{hotelId:this.selectedHotel.id,dateFrom:this.dateFrom,dateTo:this.dateTo}}).then(function(t){e.income=t.data,e.showDateFrom=e.dateFrom,e.showDateTo=e.dateTo,e.showIncome=!0})},getMonthlyVisits:function(){var e=this;this.$axios.get("http://localhost:8080/api/hotels/monthlyReport/",{params:{hotelId:this.selectedHotel.id,numberOfYears:(new Date).getFullYear()-this.year}}).then(function(t){e.yearlyReport={labels:Array.from(Object.keys(t.data),function(t){return e.months[new Date(parseInt(t)).getMonth()]}),datasets:[{backgroundColor:"#5c6bc0",hoverBackgroundColor:"#7986cb",borderWidth:1,pointBorderColor:"#249EBF",data:Object.values(t.data)}]},e.year=new Date(parseInt(Object.keys(t.data)[0])).getFullYear()})},getWeeklyVisits:function(){var e=this;this.$axios.get("http://localhost:8080/api/hotels/weeklyReport/",{params:{hotelId:this.selectedHotel.id,dateFrom:this.weeklyDate}}).then(function(t){e.weeklyReport={labels:Array.from(Object.keys(t.data),function(e){return new Date(parseInt(e)).toLocaleString(void 0,{month:"2-digit",day:"2-digit"}).substr(0,5).replace("-","/")}),datasets:[{backgroundColor:"#5c6bc0",hoverBackgroundColor:"#7986cb",borderWidth:1,pointBorderColor:"#249EBF",data:Object.values(t.data)}]}})},getDailyVisits:function(){var e=this;this.$axios.get("http://localhost:8080/api/hotels/dailyReport/",{params:{hotelId:this.selectedHotel.id,dateFrom:this.dailyDate}}).then(function(t){console.log(t.data),e.dailyReport={labels:Array.from(Object.keys(t.data),function(e){return new Date(parseInt(e)).toLocaleString(void 0,{month:"2-digit",day:"2-digit"}).substr(0,5).replace("-","/")}),datasets:[{backgroundColor:"#5c6bc0",hoverBackgroundColor:"#7986cb",borderWidth:1,pointBorderColor:"#249EBF",data:Object.values(t.data)}]}})},allowedDates:function(e){return 1==new Date(e).getDay()}},computed:{years:function(){var e=(new Date).getFullYear();return Array.from({length:e-1969},function(e,t){return 1970+t})}},created:function(){var e=this;this.$axios.get("http://localhost:8080/api/hotels/getReport/"+this.selectedHotel.id).then(function(t){e.report=t.data,e.dailyReport.labels=Array.from(Object.keys(e.report.dailyReports),function(e){return new Date(parseInt(e)).toLocaleString(void 0,{month:"2-digit",day:"2-digit"}).substr(0,5)}),e.dailyReport.datasets=[{backgroundColor:"#5c6bc0",hoverBackgroundColor:"#7986cb",borderWidth:1,pointBorderColor:"#249EBF",data:Object.values(e.report.dailyReports)}],e.weeklyReport.labels=Array.from(Object.keys(e.report.weeklyReports),function(e){return new Date(parseInt(e)).toLocaleString(void 0,{month:"2-digit",day:"2-digit"}).substr(0,5).replace("-","/")}),e.weeklyReport.datasets=[{backgroundColor:"#5c6bc0",hoverBackgroundColor:"#7986cb",borderWidth:1,pointBorderColor:"#249EBF",data:Object.values(e.report.weeklyReports)}],e.yearlyReport.labels=Array.from(Object.keys(e.report.yearlyReport),function(t){return e.months[new Date(parseInt(t)).getMonth()]}),e.yearlyReport.datasets=[{backgroundColor:"#5c6bc0",hoverBackgroundColor:"#7986cb",borderWidth:1,pointBorderColor:"#249EBF",data:Object.values(e.report.yearlyReport)}],e.year=new Date(parseInt(Object.keys(e.report.yearlyReport)[0])).getFullYear(),e.canRender=!0})}},ut=ct,dt=(a("40be"),a("ce7e")),vt=a("b56d"),ht=a("8dd9"),mt=Object(h["a"])(ut,tt,at,!1,null,"82a69942",null),pt=mt.exports;p()(mt,{VBtn:f["a"],VCard:U["a"],VCardText:ve["b"],VCardTitle:z["a"],VDatePicker:H["a"],VDivider:dt["a"],VFlex:W["a"],VItem:Q["a"],VItemGroup:G["b"],VLayout:J["a"],VList:fe["a"],VMenu:K["a"],VRating:Z["a"],VSelect:vt["a"],VSheet:ht["a"],VSpacer:b["a"],VTextField:X["a"]});var ft={components:{hotels:te,"add-hotel":ye,"edit-hotel":He,"quick-room-reservations":Ze,reports:pt},data:function(){return{component:"hotels",selectedHotel:{}}},methods:{changeComp:function(e){this.selectedHotel=e,this.component="edit-hotel"},generateReports:function(e){this.selectedHotel=e,this.component="reports"},fetchHotels:function(){var e=this;this.$axios.get("http://localhost:8080/api/hotels").then(function(t){return e.hotels=t.data})}}},gt=ft,bt=a("71a3"),xt=a("fe57"),yt=Object(h["a"])(gt,q,O,!1,null,null,null),Ct=yt.exports;p()(yt,{VTab:bt["a"],VTabs:xt["a"]});var wt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"rentACars"},[a("div",{attrs:{id:"rentACar-buttons"}},[a("v-btn",{attrs:{outline:"",color:"indigo"},on:{click:function(t){e.component="rentACars"}}},[e._v("View rent-a-cars")]),a("v-btn",{attrs:{outline:"",color:"indigo"},on:{click:function(t){e.component="add-rentACar"}}},[e._v("Add rent-a-car")])],1),a(e.component,{tag:"component",attrs:{selectedRentACar:e.selectedRentACar},on:{selectedRentACar:function(t){return e.changeComp(t)}}})],1)},kt=[],_t=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h1",[e._v("Available Rent-a-cars")]),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[a("v-card",[a("v-list",{attrs:{"two-line":""}},[e._l(e.rentACars,function(t){return[a("v-list-tile",{key:t.name},[a("v-list-tile-content",{on:{click:function(a){return e.rentACarSelected(t)}}},[a("v-list-tile-title",[e._v(e._s(t.name))]),a("v-list-tile-sub-title",[e._v(e._s(t.description))])],1)],1)]})],2)],1)],1)],1)],1)},$t=[],St={name:"rentACars",data:function(){return{rentACars:[],selectedRentACar:""}},methods:{fetchRentACars:function(){var e=this,t={headers:{Authorization:"Bearer "+localStorage.getItem("token")}};this.$axios.interceptors.request.use(function(e){return console.log("Starting Request",e),e}),this.$axios.get("http://localhost:8080/api/rentACars",t).then(function(t){return e.rentACars=t.data})},rentACarSelected:function(e){alert("Selected"+e.name),this.$emit("selectedRentACar",e)}},mounted:function(){this.fetchRentACars()}},Dt=St,Vt=Object(h["a"])(Dt,_t,$t,!1,null,null,null),It=Vt.exports;p()(Vt,{VCard:U["a"],VFlex:W["a"],VLayout:J["a"],VList:fe["a"],VListTile:ge["a"],VListTileContent:be["a"],VListTileSubTitle:be["b"],VListTileTitle:be["c"]});var Tt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"add-rentacar"}},[a("div",{attrs:{id:"alerts"}},[a("v-alert",{attrs:{value:e.success,type:"success",transition:"scale-transition"}},[e._v("\n        RentACar service: "),a("b",[e._v(e._s(e.rentacar.name))]),e._v(" registered successfully.\n        ")]),a("v-alert",{attrs:{value:e.error,type:"error",dismissible:""}},[e._v("\n            "+e._s(this.error)+"\n        ")])],1),a("div",{attrs:{id:"add-form"}},[a("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[a("h1",{staticClass:"text-xs-center indigo--text"},[e._v("Register new RentACar service")]),a("v-form",[a("v-text-field",{attrs:{"error-messages":e.nameErrors,label:"Name",required:""},model:{value:e.rentacar.name,callback:function(t){e.$set(e.rentacar,"name",t)},expression:"rentacar.name"}}),a("v-text-field",{attrs:{"error-messages":e.addressErrors,label:"Address",required:""},model:{value:e.rentacar.location.street,callback:function(t){e.$set(e.rentacar.location,"street",t)},expression:"rentacar.location.street"}}),a("v-layout",{attrs:{row:"","justify-center":""}},[a("v-dialog",{attrs:{persistent:"","max-width":"600px"},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on;return[a("v-btn",e._g({attrs:{block:"",color:"indigo darken-2",dark:""}},s),[e._v("Add administrator")])]}}]),model:{value:e.adminDialog,callback:function(t){e.adminDialog=t},expression:"adminDialog"}},[a("div",[a("v-alert",{attrs:{value:e.adminError,type:"error",dismissible:""}},[e._v("\n                            "+e._s(this.adminError)+"\n                        ")])],1),a("v-form",{ref:"adminForm"},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v("New RentACar administrator")])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"First name"},model:{value:e.tempAdmin.firstName,callback:function(t){e.$set(e.tempAdmin,"firstName",t)},expression:"tempAdmin.firstName"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Last name"},model:{value:e.tempAdmin.lastName,callback:function(t){e.$set(e.tempAdmin,"lastName",t)},expression:"tempAdmin.lastName"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Username*","error-messages":e.usernameErrors},model:{value:e.tempAdmin.username,callback:function(t){e.$set(e.tempAdmin,"username",t)},expression:"tempAdmin.username"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Password*","error-messages":e.passwordErrors},model:{value:e.tempAdmin.password,callback:function(t){e.$set(e.tempAdmin,"password",t)},expression:"tempAdmin.password"}})],1),a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{label:"Email*","error-messages":e.emailErrors},model:{value:e.tempAdmin.email,callback:function(t){e.$set(e.tempAdmin,"email",t)},expression:"tempAdmin.email"}})],1)],1)],1),a("small",[e._v("*indicates required field")])],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"indigo darken-1",flat:""},on:{click:e.close}},[e._v("Close")]),a("v-btn",{attrs:{color:"indigo darken-1",flat:""},on:{click:e.save}},[e._v("Save")])],1)],1)],1)],1)],1),a("v-layout",{attrs:{row:""}},[a("v-flex",[a("v-card",[a("v-toolbar",{attrs:{color:"indigo",dark:""}},[a("v-toolbar-title",{staticClass:"text-xs-center"},[e._v("RentACar administrators")]),a("v-spacer")],1),a("v-list",{staticClass:"indigo darken-2 scroll-y",staticStyle:{height:"400px"},attrs:{"two-line":"",dark:""}},[e._l(this.rentacar.administrators,function(t){return[a("v-list-tile",{key:t.id},[a("v-list-tile-content",[a("v-list-tile-title",{staticClass:"font-weight-bold"},[a("span",{staticClass:"font-weight-black"},[e._v("Username:")]),e._v(" "+e._s(t.username)+"\n                                                "),a("span",{staticClass:"font-weight-black"},[e._v("Password:")]),e._v(" "+e._s(t.password)+"\n                                            ")]),a("v-list-tile-sub-title",[e._v(e._s(t.firstName)+"  "+e._s(t.lastName))]),a("v-list-tile-sub-title",[e._v(e._s(t.email))])],1),a("v-icon",{staticClass:"mr-1",on:{click:function(a){return e.deleteAdmin(t)}}},[e._v("\n                                            delete\n                                        ")])],1)]})],2)],1)],1)],1),a("div",[a("v-btn",{attrs:{block:""},on:{click:e.submit}},[e._v("submit")])],1)],1)],1)],1)])},At=[],Rt={mixins:[ie["validationMixin"]],validations:{rentacar:{name:{required:ne["required"]},location:{street:{required:ne["required"]}}},tempAdmin:{username:{required:ne["required"],minLength:Object(ne["minLength"])(5)},password:{required:ne["required"],minLength:Object(ne["minLength"])(6)},email:{required:ne["required"],email:ne["email"]}}},data:function(){return{rentacar:{name:"",location:{street:""},description:"",administrators:[]},success:!1,error:!1,adminError:!1,adminDialog:!1,tempAdmin:{}}},computed:{nameErrors:function(){var e=[];return this.$v.rentacar.name.$dirty?(!this.$v.rentacar.name.required&&e.push("Name is required."),e):e},addressErrors:function(){var e=[];return this.$v.rentacar.location.street.$dirty?(!this.$v.rentacar.location.street.required&&e.push("Address is required."),e):e},usernameErrors:function(){var e=[];return this.$v.tempAdmin.username.$dirty?(!this.$v.tempAdmin.username.minLength&&e.push("Username must be at least 5 characters long"),!this.$v.tempAdmin.username.required&&e.push("Username is required."),e):e},passwordErrors:function(){var e=[];return this.$v.tempAdmin.password.$dirty?(!this.$v.tempAdmin.password.minLength&&e.push("Password must be at least 6 characters long"),!this.$v.tempAdmin.password.required&&e.push("Password is required."),e):e},emailErrors:function(){var e=[];return this.$v.tempAdmin.email.$dirty?(!this.$v.tempAdmin.email.email&&e.push("E-mail invalid."),!this.$v.tempAdmin.email.required&&e.push("Email is required."),e):e}},methods:{submit:function(){this.$v.rentacar.$touch(),this.$v.rentacar.$invalid||(this.adminEmpty()?this.error="At least one administrator must be added!":this.addRentACar())},addRentACar:function(){var e=this;alert(localStorage.getItem("token"));var t={headers:{Authorization:"Bearer "+localStorage.getItem("token")}};this.$axios.interceptors.request.use(function(e){return console.log("Starting Request",e),e}),this.$axios.post("http://localhost:8080/api/rentACars",this.rentacar,t).then(function(t){e.success=!0,setTimeout(function(){e.success=!1},3e3)}).catch(function(t){e.error=t.response.data})},close:function(){this.adminDialog=!1,this.tempAdmin=Object.assign({},{})},save:function(){this.$v.tempAdmin.$touch(),this.$v.tempAdmin.$invalid||(this.adminExists(this.tempAdmin.username)?this.adminError="Administrator with that username already added":(this.rentacar.administrators.push(this.tempAdmin),this.close()))},adminExists:function(e){for(var t=0;t<this.rentacar.administrators.length;t++)if(this.rentacar.administrators[t].username==e)return!0;return!1},adminEmpty:function(){return 0==this.rentacar.administrators.length},deleteAdmin:function(e){this.rentacar.administrators.pop(e)}}},Et=Rt,Pt=Object(h["a"])(Et,Tt,At,!1,null,null,null),Lt=Pt.exports;p()(Pt,{VAlert:de["a"],VBtn:f["a"],VCard:U["a"],VCardActions:ve["a"],VCardText:ve["b"],VCardTitle:z["a"],VContainer:he["a"],VDialog:me["a"],VFlex:W["a"],VForm:pe["a"],VIcon:g["a"],VLayout:J["a"],VList:fe["a"],VListTile:ge["a"],VListTileContent:be["a"],VListTileSubTitle:be["b"],VListTileTitle:be["c"],VSpacer:b["a"],VTextField:X["a"],VToolbar:x["a"],VToolbarTitle:y["b"]});var qt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"edit-rentACar"}},[a("h1",[e._v("Edit "+e._s(e.selectedRentACar.name))]),a("div",{attrs:{id:"edit-form"}},[a("form",[a("v-text-field",{attrs:{"error-messages":e.nameErrors,label:"Name",required:""},on:{input:function(t){return e.$v.selectedRentACar.name.$touch()},blur:function(t){return e.$v.selectedRentACar.name.$touch()}},model:{value:e.selectedRentACar.name,callback:function(t){e.$set(e.selectedRentACar,"name",t)},expression:"selectedRentACar.name"}}),a("v-textarea",{attrs:{"error-messages":e.descriptionErrors,label:"description",required:""},on:{input:function(t){return e.$v.selectedRentACar.description.$touch()},blur:function(t){return e.$v.selectedRentACar.description.$touch()}},model:{value:e.selectedRentACar.description,callback:function(t){e.$set(e.selectedRentACar,"description","string"===typeof t?t.trim():t)},expression:"selectedRentACar.description"}}),a("v-btn",{on:{click:e.submit}},[e._v("submit")])],1)])])},Ot=[],Ft={props:["selectedRentACar"],mixins:[ie["validationMixin"]],validations:{selectedRentACar:{name:{required:ne["required"],maxLength:Object(ne["maxLength"])(10)},description:{required:ne["required"]}}},computed:{nameErrors:function(){var e=[];return this.$v.selectedRentACar.name.$dirty?(!this.$v.selectedRentACar.name.maxLength&&e.push("Name must be at most 10 characters long"),!this.$v.selectedRentACar.name.required&&e.push("Name is required."),e):e},descriptionErrors:function(){var e=[];return this.$v.selectedRentACar.description.$dirty?(!this.$v.selectedRentACar.description.required&&e.push("Description is required."),e):e}},methods:{submit:function(){this.$v.$touch(),this.$v.$invalid||this.editRentACar()},editRentACar:function(){this.$axios.put("http://localhost:8080/api/rentACars/",this.selectedRentACar).then(function(e){alert("Rent-a-car with name "+e.data.name+" is edited")}).catch(function(e){alert(e.response.data.message)})}}},Nt=Ft,Bt=Object(h["a"])(Nt,qt,Ot,!1,null,null,null),jt=Bt.exports;p()(Bt,{VBtn:f["a"],VTextField:X["a"],VTextarea:Me["a"]});var Mt={components:{rentACars:It,"add-rentACar":Lt,"edit-rentACar":jt},data:function(){return{component:"rentACars",selectedRentACar:{}}},methods:{changeComp:function(e){this.selectedRentACar=e,this.component="edit-rentACar"},fetchRentACars:function(){var e=this,t={headers:{Authorization:"Bearer "+localStorage.getItem("token")}};this.$axios.interceptors.request.use(function(e){return console.log("Starting Request",e),e}),this.$axios.get("http://localhost:8080/api/rentACars",t).then(function(t){return e.rentACars=t.data})}}},Ut=Mt,zt=Object(h["a"])(Ut,wt,kt,!1,null,null,null),Ht=zt.exports;p()(zt,{VBtn:f["a"]});var Wt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{"grid-list-xl":"","text-xs-center":""}},[a("v-layout",{attrs:{row:""}},[a("v-layout",{attrs:{"justify-space-between":"",column:"","fill-height":""}},[a("v-flex",{attrs:{xs8:""}},[a("v-toolbar",[a("v-icon",[e._v("info")]),a("v-toolbar-title",[e._v("Information")])],1),a("v-card",[a("v-card-actions",[a("v-spacer"),a("v-btn",{ref:"btn",attrs:{dark:!0,color:"black",fab:"",small:""},on:{click:e.changeCanc}},[e.isEditing?a("v-icon",[e._v("close")]):a("v-icon",[e._v("edit")])],1)],1),e.isEditing?a("v-card-text",[a("v-flex",{attrs:{center:"",xs12:"",sm6:"",md10:"","offset-sm1":""}},[a("v-text-field",{attrs:{label:"Name",placeholder:"Rent-a-car name",outline:""},model:{value:e.rentACar.name,callback:function(t){e.$set(e.rentACar,"name",t)},expression:"rentACar.name"}}),a("v-textarea",{attrs:{outline:"",label:"Description",placeholder:"Rent-a-car descsriptin"},model:{value:e.rentACar.description,callback:function(t){e.$set(e.rentACar,"description",t)},expression:"rentACar.description"}})],1)],1):a("v-card-text",[a("v-flex",{attrs:{center:"",xs12:"",sm6:"",md10:"","offset-sm1":""}},[a("v-text-field",{attrs:{label:"Name",placeholder:"Rent-a-car name",outline:""},on:{focus:function(t){return t.stopPropagation(),e.noClick(t)}},model:{value:e.rentACar.name,callback:function(t){e.$set(e.rentACar,"name",t)},expression:"rentACar.name"}}),a("v-textarea",{attrs:{outline:"",label:"Description",placeholder:"Rent-a-car descsriptin"},on:{focus:function(t){return t.stopPropagation(),e.noClick(t)}},model:{value:e.rentACar.description,callback:function(t){e.$set(e.rentACar,"description",t)},expression:"rentACar.description"}})],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{dark:!0,disabled:!e.isEditing,color:"black"},on:{click:e.save}},[e._v("\n                                Save\n                            ")])],1),a("v-snackbar",{attrs:{timeout:2e3,absolute:"",bottom:"",left:""},model:{value:e.hasSaved,callback:function(t){e.hasSaved=t},expression:"hasSaved"}},[e._v("\n                        Rent a car profile has been updated\n                        ")])],1)],1),a("v-flex",{attrs:{xs8:""}},[a("v-toolbar",[a("v-icon",[e._v("account_balance")]),a("v-toolbar-title",[e._v("Branch offices")])],1),a(e.component1,{tag:"component",attrs:{rentACarId:e.realId}})],1),a("v-flex",{attrs:{xs8:""}},[a(e.component3,{tag:"component",attrs:{quickReservations:e.quickRes,rentACarId:e.realId}})],1)],1),a("v-flex",{attrs:{xs3:""}},[a(e.component2,{tag:"component",attrs:{priceList:e.additionalServicesPriceList}})],1)],1)],1)},Yt=[],Qt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-expansion-panel",{attrs:{focusable:""}},[a("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-text",[a(e.component1,{tag:"component",attrs:{rentACarId:e.rentACarId,branchOfficeInc:e.selectedBranchOffice,currentMapCenter:e.currentMapCenter}})],1)],1)],1),e._l(e.branches,function(t,s){return a("v-expansion-panel-content",{key:s,scopedSlots:e._u([{key:"header",fn:function(){return[a("div",[e._v("\n        "+e._s(t.city)+", "+e._s(t.country)+"\n        "),a("v-menu",{key:s,attrs:{"open-on-hover":"","offset-y":"","close-on-content-click":!1,lazy:""}},[a("v-btn",{staticClass:"mx-0",attrs:{slot:"activator",icon:""},slot:"activator"},[a("v-icon",{attrs:{color:"blue"}},[e._v("label_important")])],1),a("v-list",[a("v-list-tile",{attrs:{avatar:""}},[a("v-btn",{on:{mouseover:function(a){return e.branchSelected(t)},click:e.editItem}},[e._v("Edit")]),a("v-btn",{attrs:{color:"error"},on:{click:function(a){return e.removeOne(t)}}},[e._v("\n                    Delete\n                  ")])],1)],1)],1)],1)]},proxy:!0}],null,!0)},[a("v-card",[a(e.component,{tag:"component",attrs:{branchOfficeId:t.id}})],1)],1)}),a("v-layout",{attrs:{column:"","align-center":""}},[a("v-btn",{attrs:{fab:"",small:"",dark:"",color:"primary"},on:{click:e.addItem}},[a("v-icon",{attrs:{dark:""}},[e._v("add")])],1)],1)],2)},Gt=[],Jt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:"",sm10:"","offset-sm1":""}},[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[e._v("Available vehicles")]),a("v-divider",{staticClass:"mx-1",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("v-divider",{staticClass:"mx-1",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:e._u([{key:"activator",fn:function(t){t.on;return[a("v-btn",{staticClass:"mb-3",attrs:{color:"primary",dark:""},on:{click:e.addItem}},[e._v("Add vehicle")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-text",[a("v-container",[a("v-layout",{attrs:{wrap:""}},[a(e.component,{tag:"component",attrs:{selectedVehicle:e.selectedVehicle,myBranch:e.branchOfficeId}})],1)],1)],1)],1)],1)],1),[a("v-flex",{attrs:{xs3:"",sm4:""}}),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.vehicles,search:e.search},scopedSlots:e._u([{key:"items",fn:function(t){return[a("tr",[a("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.manufacturer))]),a("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.model))]),a("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.year))]),a("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.fuel))]),a("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.engine))]),a("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.transmission))]),a("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.seatsCount))]),a("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.airCondition))]),a("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.dailyRentalPrice))]),a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return e.editItem(t.item)}}},[e._v("\n                       edit\n                    ")]),a("v-icon",{attrs:{small:"",color:"error"},on:{click:function(a){return e.deleteItem(t.item)}}},[e._v("\n                       delete\n                    ")])],1)])]}}])},[a("v-alert",{attrs:{slot:"no-results",value:!0,color:"error",icon:"warning"},slot:"no-results"},[e._v('\n                 Your search for "'+e._s(e.search)+'" found no results.\n              ')])],1)]],2)],1)},Kt=[],Zt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"add-Vehicle"}},[a("h1",[e._v("Add new vehicle")]),a("div",{attrs:{id:"add-form"}},[a("v-form",{ref:"form"},[a("v-text-field",{attrs:{"error-messages":e.manufacturerErrors,counter:10,label:"Manufacturer",required:""},on:{input:function(t){return e.$v.vehicle.manufacturer.$touch()},blur:function(t){return e.$v.vehicle.manufacturer.$touch()}},model:{value:e.vehicle.manufacturer,callback:function(t){e.$set(e.vehicle,"manufacturer",t)},expression:"vehicle.manufacturer"}}),a("v-text-field",{attrs:{"error-messages":e.modelErrors,label:"Model",required:""},on:{input:function(t){return e.$v.vehicle.model.$touch()},blur:function(t){return e.$v.vehicle.model.$touch()}},model:{value:e.vehicle.model,callback:function(t){e.$set(e.vehicle,"model",t)},expression:"vehicle.model"}}),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",[a("v-slider",{attrs:{"error-messages":e.yearErrors,max:2019,min:1900,step:1,label:"Year"},model:{value:e.vehicle.year,callback:function(t){e.$set(e.vehicle,"year",t)},expression:"vehicle.year"}})],1),a("v-flex",{staticStyle:{width:"70px"},attrs:{shrink:""}},[a("v-text-field",{staticClass:"pl-3",attrs:{"hide-details":"","single-line":"",type:"number",readonly:""},model:{value:e.vehicle.year,callback:function(t){e.$set(e.vehicle,"year",t)},expression:"vehicle.year"}})],1)],1),a("v-select",{attrs:{"error-messages":e.fuelErrors,items:e.items,rules:e.rules,label:"Select fuel"},on:{input:function(t){return e.$v.vehicle.fuel.$touch()},blur:function(t){return e.$v.vehicle.fuel.$touch()}},model:{value:e.vehicle.fuel,callback:function(t){e.$set(e.vehicle,"fuel",t)},expression:"vehicle.fuel"}}),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",[a("v-slider",{attrs:{"error-messages":e.engineErrors,max:5,min:.9,step:.1,label:"Engine"},model:{value:e.vehicle.engine,callback:function(t){e.$set(e.vehicle,"engine",t)},expression:"vehicle.engine"}})],1),a("v-flex",{staticStyle:{width:"60px"},attrs:{shrink:""}},[a("v-text-field",{staticClass:"pl-3",attrs:{"hide-details":"","single-line":"",type:"number",readonly:""},model:{value:e.vehicle.engine,callback:function(t){e.$set(e.vehicle,"engine",t)},expression:"vehicle.engine"}})],1)],1),a("v-switch",{attrs:{"error-messages":e.transmissionErrors,label:"Automatic: "+e.vehicle.transmission.toString()},model:{value:e.vehicle.transmission,callback:function(t){e.$set(e.vehicle,"transmission",t)},expression:"vehicle.transmission"}}),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",[a("v-slider",{attrs:{"error-messages":e.seatsCountErrors,max:8,min:1,step:1,label:"Seats count"},model:{value:e.vehicle.seatsCount,callback:function(t){e.$set(e.vehicle,"seatsCount",t)},expression:"vehicle.seatsCount"}})],1),a("v-flex",{staticStyle:{width:"60px"},attrs:{shrink:""}},[a("v-text-field",{staticClass:"pl-3",attrs:{"hide-details":"","single-line":"",type:"number",readonly:""},model:{value:e.vehicle.seatsCount,callback:function(t){e.$set(e.vehicle,"seatsCount",t)},expression:"vehicle.seatsCount"}})],1)],1),a("v-switch",{attrs:{"error-messages":e.airConditionErrors,label:"Aircondition: "+e.vehicle.airCondition.toString()},model:{value:e.vehicle.airCondition,callback:function(t){e.$set(e.vehicle,"airCondition",t)},expression:"vehicle.airCondition"}}),a("v-text-field",{attrs:{"error-messages":e.dailyRentalPriceErrors,label:"Daily rental price",required:"",type:"number"},on:{input:function(t){return e.$v.vehicle.dailyRentalPrice.$touch()},blur:function(t){return e.$v.vehicle.dailyRentalPrice.$touch()}},model:{value:e.vehicle.dailyRentalPrice,callback:function(t){e.$set(e.vehicle,"dailyRentalPrice",t)},expression:"vehicle.dailyRentalPrice"}}),a("v-card-actions",[a("v-spacer"),a("v-btn",{on:{click:e.submit}},[e._v("submit")]),a("v-btn",{attrs:{color:"error"},on:{click:e.cancel}},[e._v("Cancel")])],1)],1)],1)])},Xt=[],ea={props:["myBranch"],mixins:[ie["validationMixin"]],validations:{vehicle:{manufacturer:{required:ne["required"],maxLength:Object(ne["maxLength"])(10)},model:{required:ne["required"]},year:{required:ne["required"]},fuel:{required:ne["required"]},engine:{required:ne["required"]},transmission:{required:ne["required"]},seatsCount:{required:ne["required"]},airCondition:{required:ne["required"]},dailyRentalPrice:{required:ne["required"],numeric:ne["numeric"]}}},data:function(){return{vehicle:{manufacturer:"",model:"",year:"",fuel:"",engine:"",transmission:"",seatsCount:"",airCondition:"",dailyRentalPrice:""},items:["Gasoline","Diesel","Liquified Petroleum","Compressed Natural Gas","Ethanol","Bio-diesel"],rules:[function(e){return!!e||"The value is required"}]}},computed:{manufacturerErrors:function(){var e=[];return this.$v.vehicle.manufacturer.$dirty?(!this.$v.vehicle.manufacturer.maxLength&&e.push("Manufacturer must be at most 10 characters long"),!this.$v.vehicle.manufacturer.required&&e.push("Manufacturer is required."),e):e},modelErrors:function(){var e=[];return this.$v.vehicle.model.$dirty?(!this.$v.vehicle.model.required&&e.push("Model is required."),e):e},yearErrors:function(){var e=[];return this.$v.vehicle.year.$dirty?(!this.$v.vehicle.year.required&&e.push("Year is required."),e):e},fuelErrors:function(){var e=[];return this.$v.vehicle.fuel.$dirty?(!this.$v.vehicle.fuel.required&&e.push("Fuel is required."),e):e},engineErrors:function(){var e=[];return this.$v.vehicle.engine.$dirty?(!this.$v.vehicle.engine.required&&e.push("Engine is required."),e):e},transmissionErrors:function(){var e=[];return this.$v.vehicle.transmission.$dirty?(!this.$v.vehicle.transmission.required&&e.push("Transmission is required."),e):e},seatsCountErrors:function(){var e=[];return this.$v.vehicle.seatsCount.$dirty?(!this.$v.vehicle.seatsCount.required&&e.push("Seats count is required."),e):e},airConditionErrors:function(){var e=[];return this.$v.vehicle.airCondition.$dirty?(!this.$v.vehicle.airCondition.required&&e.push("Aircondition is required."),e):e},dailyRentalPriceErrors:function(){var e=[];return this.$v.vehicle.dailyRentalPrice.$dirty?(!this.$v.vehicle.dailyRentalPrice.required&&e.push("Daily rental price is required."),!this.$v.vehicle.dailyRentalPrice.numeric&&e.push("Daily rental price must be positive number."),e):e}},methods:{submit:function(){this.$v.$touch(),this.$v.$invalid||this.addVehicle()},resetValidation:function(){this.$refs.form.resetValidation()},cancel:function(){this.vehicle={manufacturer:"",model:"",year:"",fuel:"",engine:"",transmission:"",seatsCount:"",airCondition:"",dailyRentalPrice:""},this.resetValidation(),this.$v.$reset()},addVehicle:function(){var e=this;this.$axios.post("http://localhost:8080/api/vehicles/"+this.myBranch,this.vehicle).then(function(t){alert(t.data),e.cancel()}).catch(function(e){alert(e.response.data.message)})}}},ta=ea,aa=a("b73d"),sa=Object(h["a"])(ta,Zt,Xt,!1,null,null,null),ia=sa.exports;p()(sa,{VBtn:f["a"],VCardActions:ve["a"],VFlex:W["a"],VForm:pe["a"],VLayout:J["a"],VSelect:vt["a"],VSlider:Je["a"],VSpacer:b["a"],VSwitch:aa["a"],VTextField:X["a"]});var ra=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"edit-Vehicle"}},[a("h1",[e._v("Edit "+e._s(e.selectedVehicle.manufacturer)+" "+e._s(e.selectedVehicle.model))]),a("div",{attrs:{id:"edit-form"}},[a("form",[a("v-text-field",{attrs:{"error-messages":e.manufacturerErrors,counter:10,label:"Manufacturer",required:""},on:{input:function(t){return e.$v.selectedVehicle.manufacturer.$touch()},blur:function(t){return e.$v.selectedVehicle.manufacturer.$touch()}},model:{value:e.selectedVehicle.manufacturer,callback:function(t){e.$set(e.selectedVehicle,"manufacturer",t)},expression:"selectedVehicle.manufacturer"}}),a("v-text-field",{attrs:{"error-messages":e.modelErrors,label:"Model",required:""},on:{input:function(t){return e.$v.selectedVehicle.model.$touch()},blur:function(t){return e.$v.selectedVehicle.model.$touch()}},model:{value:e.selectedVehicle.model,callback:function(t){e.$set(e.selectedVehicle,"model",t)},expression:"selectedVehicle.model"}}),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",[a("v-slider",{attrs:{"error-messages":e.yearErrors,max:2019,min:1900,step:1,label:"Year"},model:{value:e.selectedVehicle.year,callback:function(t){e.$set(e.selectedVehicle,"year",t)},expression:"selectedVehicle.year"}})],1),a("v-flex",{staticStyle:{width:"70px"},attrs:{shrink:""}},[a("v-text-field",{staticClass:"pl-3",attrs:{"hide-details":"","single-line":"",type:"number",readonly:""},model:{value:e.selectedVehicle.year,callback:function(t){e.$set(e.selectedVehicle,"year",t)},expression:"selectedVehicle.year"}})],1)],1),a("v-select",{attrs:{"error-messages":e.fuelErrors,items:e.items,rules:e.rules,label:"Select fuel"},on:{input:function(t){return e.$v.selectedVehicle.fuel.$touch()},blur:function(t){return e.$v.selectedVehicle.fuel.$touch()}},model:{value:e.selectedVehicle.fuel,callback:function(t){e.$set(e.selectedVehicle,"fuel",t)},expression:"selectedVehicle.fuel"}}),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",[a("v-slider",{attrs:{"error-messages":e.engineErrors,max:5,min:.9,step:.1,label:"Engine"},model:{value:e.selectedVehicle.engine,callback:function(t){e.$set(e.selectedVehicle,"engine",t)},expression:"selectedVehicle.engine"}})],1),a("v-flex",{staticStyle:{width:"60px"},attrs:{shrink:""}},[a("v-text-field",{staticClass:"pl-3",attrs:{"hide-details":"","single-line":"",type:"number",readonly:""},model:{value:e.selectedVehicle.engine,callback:function(t){e.$set(e.selectedVehicle,"engine",t)},expression:"selectedVehicle.engine"}})],1)],1),a("v-switch",{attrs:{"error-messages":e.transmissionErrors,label:"Automatic: "+e.selectedVehicle.transmission.toString()},model:{value:e.selectedVehicle.transmission,callback:function(t){e.$set(e.selectedVehicle,"transmission",t)},expression:"selectedVehicle.transmission"}}),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",[a("v-slider",{attrs:{"error-messages":e.seatsCountErrors,max:8,min:1,step:1,label:"Seats count"},model:{value:e.selectedVehicle.seatsCount,callback:function(t){e.$set(e.selectedVehicle,"seatsCount",t)},expression:"selectedVehicle.seatsCount"}})],1),a("v-flex",{staticStyle:{width:"60px"},attrs:{shrink:""}},[a("v-text-field",{staticClass:"pl-3",attrs:{"hide-details":"","single-line":"",type:"number",readonly:""},model:{value:e.selectedVehicle.seatsCount,callback:function(t){e.$set(e.selectedVehicle,"seatsCount",t)},expression:"selectedVehicle.seatsCount"}})],1)],1),a("v-switch",{attrs:{"error-messages":e.airConditionErrors,label:"Aircondition: "+e.selectedVehicle.airCondition.toString()},model:{value:e.selectedVehicle.airCondition,callback:function(t){e.$set(e.selectedVehicle,"airCondition",t)},expression:"selectedVehicle.airCondition"}}),a("v-text-field",{attrs:{"error-messages":e.dailyRentalPriceErrors,label:"Daily rental price",required:"",type:"number"},on:{input:function(t){return e.$v.selectedVehicle.dailyRentalPrice.$touch()},blur:function(t){return e.$v.selectedVehicle.dailyRentalPrice.$touch()}},model:{value:e.selectedVehicle.dailyRentalPrice,callback:function(t){e.$set(e.selectedVehicle,"dailyRentalPrice",t)},expression:"selectedVehicle.dailyRentalPrice"}}),a("v-btn",{on:{click:e.submit}},[e._v("submit")])],1)])])},na=[],oa={props:["selectedVehicle"],data:function(){return{items:["Gasoline","Diesel","Liquified Petroleum","Compressed Natural Gas","Ethanol","Bio-diesel"],rules:[function(e){return!!e||"The value is required"}]}},mixins:[ie["validationMixin"]],validations:{selectedVehicle:{manufacturer:{required:ne["required"],maxLength:Object(ne["maxLength"])(10)},model:{required:ne["required"]},year:{required:ne["required"]},fuel:{required:ne["required"]},engine:{required:ne["required"]},transmission:{required:ne["required"]},seatsCount:{required:ne["required"]},airCondition:{required:ne["required"]},dailyRentalPrice:{required:ne["required"],numeric:ne["numeric"]}}},computed:{manufacturerErrors:function(){var e=[];return this.$v.selectedVehicle.manufacturer.$dirty?(!this.$v.selectedVehicle.manufacturer.maxLength&&e.push("Manufacturer must be at most 10 characters long"),!this.$v.selectedVehicle.manufacturer.required&&e.push("Manufacturer is required."),e):e},modelErrors:function(){var e=[];return this.$v.selectedVehicle.model.$dirty?(!this.$v.selectedVehicle.model.required&&e.push("Model is required."),e):e},yearErrors:function(){var e=[];return this.$v.selectedVehicle.year.$dirty?(!this.$v.selectedVehicle.year.required&&e.push("Year is required."),e):e},fuelErrors:function(){var e=[];return this.$v.selectedVehicle.fuel.$dirty?(!this.$v.selectedVehicle.fuel.required&&e.push("Fuel is required."),e):e},engineErrors:function(){var e=[];return this.$v.selectedVehicle.engine.$dirty?(!this.$v.selectedVehicle.engine.required&&e.push("Engine is required."),e):e},transmissionErrors:function(){var e=[];return this.$v.selectedVehicle.transmission.$dirty?(!this.$v.selectedVehicle.transmission.required&&e.push("Transmission is required."),e):e},seatsCountErrors:function(){var e=[];return this.$v.selectedVehicle.seatsCount.$dirty?(!this.$v.selectedVehicle.seatsCount.required&&e.push("Seats count is required."),e):e},airConditionErrors:function(){var e=[];return this.$v.selectedVehicle.airCondition.$dirty?(!this.$v.selectedVehicle.airCondition.required&&e.push("Aircondition is required."),e):e},dailyRentalPriceErrors:function(){var e=[];return this.$v.selectedVehicle.dailyRentalPrice.$dirty?(!this.$v.selectedVehicle.dailyRentalPrice.required&&e.push("Daily rental price is required."),!this.$v.selectedVehicle.dailyRentalPrice.numeric&&e.push("Daily rental price must be positive number."),e):e}},methods:{submit:function(){this.$v.$touch(),this.$v.$invalid||confirm("Are you sure you want to edit this vehicle?")&&this.editVehicle()},editVehicle:function(){this.$axios.post("http://localhost:8080/api/vehicles",this.selectedVehicle).then(function(e){alert(e.data)}).catch(function(e){alert(e.response.data.message)})}}},la=oa,ca=Object(h["a"])(la,ra,na,!1,null,null,null),ua=ca.exports;p()(ca,{VBtn:f["a"],VFlex:W["a"],VLayout:J["a"],VSelect:vt["a"],VSlider:Je["a"],VSwitch:aa["a"],VTextField:X["a"]});var da={props:["branchOfficeId"],components:{addVehicle:ia,editVehicle:ua},name:"vehicles",data:function(){return{selectedVehicle:{},search:"",headers:[{text:"Manufacturer",align:"left",sortable:!0,value:"manufacturer"},{text:"Model",align:"left",sortable:!0,value:"model"},{text:"Year",align:"left",sortable:!0,value:"year"},{text:"Fuel",align:"left",sortable:!0,value:"fuel"},{text:"Engine",align:"left",sortable:!0,value:"engine"},{text:"Transmission",align:"left",sortable:!0,value:"transmission"},{text:"Seats count",align:"left",sortable:!0,value:"seatsCount"},{text:"Air condition",align:"left",sortable:!0,value:"airCondition"},{text:"Daily rental price",align:"left",sortable:!0,value:"dailyRentalPrice"},{text:"ACTION",value:"id",sortable:!1}],component:"addVehicle",dialog:!1,vehicles:[]}},methods:{fetchVehicles:function(){var e=this;this.$axios.get("http://localhost:8080/api/vehicles/"+this.branchOfficeId).then(function(t){return e.vehicles=t.data}).catch(function(t){alert(t.resposne.data),e.search="error",e.$slots="no-results"})},showAlert:function(){alert(this.selectedVehicle.manufacturer)},vehicleSelected:function(e){this.$emit("selectedVehicle",e)},changeComp:function(e){this.selectedVehicle=e,this.component="editVehicle"},addItem:function(){this.component="addVehicle",this.dialog=!0},editItem:function(e){this.selectedVehicle=e,this.component="editVehicle",this.dialog=!0},deleteItem:function(e){var t=this;confirm("Are you sure you want to delete this vehicle?")&&this.$axios.delete("http://localhost:8080/api/vehicle/"+e.id).then(function(a){t.vehicles=t.vehicles.filter(function(t){return t!==e}),alert(a.data)})}},watch:{dialog:function(){this.dalogKind=""}},created:function(){this.fetchVehicles()}},va=da,ha=Object(h["a"])(va,Jt,Kt,!1,null,null,null),ma=ha.exports;p()(ha,{VAlert:de["a"],VBtn:f["a"],VCard:U["a"],VCardText:ve["b"],VContainer:he["a"],VDataTable:De["a"],VDialog:me["a"],VDivider:dt["a"],VFlex:W["a"],VIcon:g["a"],VLayout:J["a"],VSpacer:b["a"],VTextField:X["a"],VToolbar:x["a"],VToolbarTitle:y["b"]});var pa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-flex",{attrs:{xs12:""}},[a("h2",[e._v("Add branch office")]),a("form",[a("GmapAutocomplete",{staticClass:"custom-input-field",on:{place_changed:e.getLocationData}}),a("GmapMap",{staticClass:"custom-map",attrs:{center:e.currentMapCenter,zoom:14,"map-type-id":"terrain",options:{zoomControl:!0,mapTypeControl:!0,scaleControl:!1,streetViewControl:!1,rotateControl:!1,fullscreenControl:!1,disableDefaultUi:!1}}},[this.branchOffice.location.latitude?a("GmapMarker",{attrs:{position:e.currentMapCenter,clickable:!1,draggable:!1}}):e._e()],1),a("v-btn",{on:{click:e.addBranchOffice}},[e._v("submit")])],1)])},fa=[],ga=(a("6762"),a("2fdb"),{props:["rentACarId"],data:function(){return{branchOffice:{location:{}},currentMapCenter:{lat:0,lng:0},formattedAddress:""}},validations:{branchOffice:{location:{required:oe.a}}},methods:{addBranchOffice:function(){var e=this;this.$axios.post("http://localhost:8080/api/branchOffice/"+this.rentACarId,this.branchOffice).then(function(t){e.$swal.fire({title:"Success",html:t.data,type:"success",showConfirmButton:!1,timer:2e3}).then(function(t){t.dismiss===e.$swal.DismissReason.timer&&e.$router.go(0)})}).catch(function(t){e.$swal("Error",t.response.data.message,"error")})},getLocationData:function(e){e&&(this.branchOffice.location=this.extractLocationData(e),this.currentMapCenter={lat:this.branchOffice.location.latitude,lng:this.branchOffice.location.longitude})},extractLocationData:function(e){var t={};return t.id=this.branchOffice.location.id,t.latitude=e.geometry.location.lat(),t.longitude=e.geometry.location.lng(),t.street=e.name,t.formattedAddress=e.formatted_address,e.address_components.forEach(function(e){e.types.includes("country")?t.country=e.long_name:e.types.includes("locality")&&(t.city=e.long_name)}),t}}}),ba=ga,xa=(a("86ce"),Object(h["a"])(ba,pa,fa,!1,null,"0278e7dd",null)),ya=xa.exports;p()(xa,{VBtn:f["a"],VFlex:W["a"]});var Ca=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-flex",{attrs:{xs12:""},on:{mouseover:e.focusDialog}},[a("h2",[e._v("Edit branch office")]),a("form",[a("GmapAutocomplete",{staticClass:"custom-input-field",on:{place_changed:e.getLocationData}}),a("GmapMap",{staticClass:"custom-map",attrs:{center:this.currentMapCenter,zoom:14,"map-type-id":"terrain",options:{zoomControl:!0,mapTypeControl:!0,scaleControl:!1,streetViewControl:!1,rotateControl:!1,fullscreenControl:!1,disableDefaultUi:!1}}},[this.branchOfficeInc.location.latitude?a("GmapMarker",{attrs:{position:this.currentMapCenter,clickable:!1,draggable:!1}}):e._e()],1),a("v-btn",{on:{click:e.addBranchOffice}},[e._v("submit")])],1)])},wa=[],ka={props:["branchOfficeInc"],data:function(){return{branchOffice:{location:{}},formattedAddress:""}},validations:{branchOffice:{location:{required:oe.a}}},methods:{focusDialog:function(){this.currentMapCenter.lat=this.branchOfficeInc.location.latitude,this.currentMapCenter.lng=this.branchOfficeInc.location.longitude},addBranchOffice:function(){var e=this;this.branchOffice.id=this.branchOfficeInc.id,this.$axios.put("http://localhost:8080/api/branchOffice/",this.branchOffice).then(function(t){e.$swal.fire({title:"Success",html:t.data,type:"success",showConfirmButton:!1,timer:2e3}).then(function(t){t.dismiss===e.$swal.DismissReason.timer&&e.$router.go(-1)})}).catch(function(t){e.$swal("Error",t.response.data.message,"error")})},getLocationData:function(e){e&&(this.branchOffice.location=this.extractLocationData(e),this.branchOfficeInc.location.latitude=this.branchOffice.location.latitude,this.branchOfficeInc.location.longitude=this.branchOffice.location.longitude)},extractLocationData:function(e){var t={};return t.id=this.branchOffice.location.id,t.latitude=e.geometry.location.lat(),t.longitude=e.geometry.location.lng(),t.street=e.name,t.formattedAddress=e.formatted_address,e.address_components.forEach(function(e){e.types.includes("country")?t.country=e.long_name:e.types.includes("locality")&&(t.city=e.long_name)}),t}},computed:{currentMapCenter:function(){return{lat:this.branchOfficeInc.location.latitude,lng:this.branchOfficeInc.location.longitude}}}},_a=ka,$a=(a("9a5f"),Object(h["a"])(_a,Ca,wa,!1,null,"e27dfdda",null)),Sa=$a.exports;p()($a,{VBtn:f["a"],VFlex:W["a"]});var Da={props:["rentACarId"],components:{viewVehicles:ma,addBranchOffice:ya,editBranchOffice:Sa},name:"branches",data:function(){return{component:"viewVehicles",component1:"addBranchOffice",branches:[],dialog:!1,selectedBranchOffice:"",currentMapCenter:""}},methods:{fetchBranches:function(){var e=this;this.$axios.get("http://localhost:8080/api/branchOffices/"+this.rentACarId).then(function(t){return e.branches=t.data})},removeOne:function(e){var t=this;this.$axios.delete("api/branchOffice/"+e.id).then(function(a){t.branches=t.branches.filter(function(t){return t!==e}),alert(a.data)}).catch(function(e){alert(e.response.data)})},addItem:function(){this.component1="addBranchOffice",this.dialog=!0},editItem:function(){this.component1="editBranchOffice",this.dialog=!0},branchSelected:function(e){this.component1="editBranchOffice",this.selectedBranchOffice={id:e.id,location:{latitude:e.latitude,longitude:e.longitude}},this.currentMapCenter={lat:e.latitude,lng:e.longitude}}},mounted:function(){this.fetchBranches()}},Va=Da,Ia=a("cd55"),Ta=a("49e2"),Aa=Object(h["a"])(Va,Qt,Gt,!1,null,null,null),Ra=Aa.exports;p()(Aa,{VBtn:f["a"],VCard:U["a"],VCardText:ve["b"],VDialog:me["a"],VExpansionPanel:Ia["a"],VExpansionPanelContent:Ta["a"],VIcon:g["a"],VLayout:J["a"],VList:fe["a"],VListTile:ge["a"],VMenu:K["a"]});var Ea=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",[a("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a(e.component,{tag:"component",attrs:{priceListItem:e.priceListItem}})],1),a("v-toolbar",{attrs:{flat:"",color:"gray"}},[a("v-toolbar-title",{staticClass:"text-uppercase grey--text"},[e._v("Price list")]),a("v-spacer")],1),a("v-list",{attrs:{"two-line":""}},[e._l(this.priceList.priceListItems,function(t){return[a("v-list-tile",{key:t.id},[a("v-list-tile-content",[a("v-list-tile-title",[e._v(e._s(t.name)+" €"+e._s(t.price))]),a("v-list-tile-sub-title",{staticClass:"text--primary"},[e._v("Discount: "+e._s(t.discount)+"%")]),a("v-list-tile-sub-title",[e._v(e._s(t.description))])],1),a("v-list-tile-action",[a("v-layout",{attrs:{row:""}},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return e.editItem(t)}}},[e._v("\n                        edit\n                    ")]),a("v-icon",{attrs:{small:"",color:"error"},on:{click:function(a){return e.deleteItem(t)}}},[e._v("\n                        delete\n                    ")])],1)],1)],1)]})],2),a("v-layout",{attrs:{column:"","align-center":""}},[a("v-btn",{attrs:{fab:"",small:"",dark:"",color:"primary",flat:""},on:{click:e.addItem}},[a("v-icon",{attrs:{dark:""}},[e._v("add")])],1)],1)],1)},Pa=[],La=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",[a("v-container",[a("h1",{staticClass:"text-uppercase grey--text"},[e._v("Price list item")]),a("v-form",{ref:"myForm",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-layout",{attrs:{column:""}},[a("v-text-field",{attrs:{rules:e.nameRules,counter:20,label:"Name"},model:{value:e.priceListItem.name,callback:function(t){e.$set(e.priceListItem,"name",t)},expression:"priceListItem.name"}}),a("v-text-field",{attrs:{rules:e.priceRules,counter:3,type:"number",label:"Price"},model:{value:e.priceListItem.price,callback:function(t){e.$set(e.priceListItem,"price",t)},expression:"priceListItem.price"}}),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",[a("v-slider",{attrs:{max:100,min:0,step:1,label:"Discount"},model:{value:e.priceListItem.discount,callback:function(t){e.$set(e.priceListItem,"discount",t)},expression:"priceListItem.discount"}})],1),a("v-flex",{staticStyle:{width:"60px"},attrs:{shrink:""}},[a("v-text-field",{staticClass:"pl-3",attrs:{"hide-details":"","single-line":"",type:"number",readonly:""},model:{value:e.priceListItem.discount,callback:function(t){e.$set(e.priceListItem,"discount",t)},expression:"priceListItem.discount"}})],1),a("v-textarea",{attrs:{label:"Description",placeholder:"Price list item descsriptin"},model:{value:e.priceListItem.description,callback:function(t){e.$set(e.priceListItem,"description",t)},expression:"priceListItem.description"}})],1)],1),0===e.priceListItem.id?a("v-card-actions",[a("v-spacer"),a("v-btn",{on:{click:e.submit}},[e._v("submit")]),a("v-btn",{attrs:{color:"error"},on:{click:e.cancel}},[e._v("Cancel")])],1):a("v-card-actions",[a("v-spacer"),a("v-btn",{on:{click:e.submit}},[e._v("submit")])],1)],1)],1)],1)},qa=[],Oa={props:["priceListItem"],data:function(){return{valid:!0,nameRules:[function(e){return!!e||"Name is required"},function(e){return e&&e.length<=20||"Name must be less than 20 characters"}],priceRules:[function(e){return!!e||"Price is required"},function(e){return e&&0<=e&&e<=100||"0 < price < 100"}]}},methods:{cancel:function(){this.$refs.myForm.reset()},submit:function(){}}},Fa=Oa,Na=Object(h["a"])(Fa,La,qa,!1,null,null,null),Ba=Na.exports;p()(Na,{VBtn:f["a"],VCard:U["a"],VCardActions:ve["a"],VContainer:he["a"],VFlex:W["a"],VForm:pe["a"],VLayout:J["a"],VSlider:Je["a"],VSpacer:b["a"],VTextField:X["a"],VTextarea:Me["a"]});var ja={props:["priceList"],components:{priceItemDialog:Ba},data:function(){return{component:"priceItemDialog",dialog:null,priceListItem:{id:0,name:"",description:"",price:0,discount:0},priceListTEST:[{id:1,name:"Driver",description:"If you have low driver experience this is recommended.",price:50,discount:10},{id:2,name:"Fuel",description:"We can tank vehicle after return.",price:30,discount:5},{id:3,name:"Insurance",description:"Insurance for you and passangers.",price:10,discount:5},{id:4,name:"Something elese",description:"Not needed but you can choose.",price:30,discount:5},{id:5,name:"Something else",description:"Not needed but you can choose.",price:30,discount:5}]}},methods:{editItem:function(e){this.priceListItem=e,this.dialog=!0},deleteItem:function(e){this.priceListItem=e},addItem:function(){this.priceListItem={id:0,name:"",description:"",price:"",discount:""},this.dialog=!0}}},Ma=ja,Ua=a("40fe"),za=Object(h["a"])(Ma,Ea,Pa,!1,null,null,null),Ha=za.exports;p()(za,{VBtn:f["a"],VCard:U["a"],VDialog:me["a"],VIcon:g["a"],VLayout:J["a"],VList:fe["a"],VListTile:ge["a"],VListTileAction:Ua["a"],VListTileContent:be["a"],VListTileSubTitle:be["b"],VListTileTitle:be["c"],VSpacer:b["a"],VToolbar:x["a"],VToolbarTitle:y["b"]});var Wa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",[a("v-dialog",{attrs:{"max-width":"1000px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a(e.component,{tag:"component",attrs:{overview:e.overview,vehicles:e.vehicles}})],1),a("v-toolbar",{attrs:{flat:""}},[a("v-icon",[e._v("update")]),a("v-toolbar-title",[e._v("Quick reservations")])],1),a("v-list",{attrs:{"two-line":""}},[e._l(this.quickReservations,function(t){return[a("v-list-tile",{key:t.id},[a("v-list-tile-content",[a("v-list-tile-title",[e._v(e._s(t.vehicle.manufacturer)+" "+e._s(t.vehicle.model)+" €"+e._s(t.totalPrice))]),a("v-list-tile-sub-title",{staticClass:"text--primary"},[e._v("Discount: "+e._s(t.discount)+"%")]),a("v-list-tile-sub-title",[e._v(e._s(t.dateFrom)+" - "+e._s(t.dateTo))])],1),a("v-list-tile-action",[a("v-layout",{attrs:{row:""}},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return e.editItem(t)}}},[e._v("\n                        edit\n                    ")]),a("v-icon",{attrs:{small:"",color:"error"},on:{click:function(a){return e.deleteItem(t)}}},[e._v("\n                        delete\n                    ")])],1)],1)],1)]})],2),a("v-layout",{attrs:{column:"","align-center":""}},[a("v-btn",{attrs:{fab:"",small:"",dark:"",color:"primary",flat:""},on:{click:e.addItem}},[a("v-icon",{attrs:{dark:""}},[e._v("add")])],1)],1)],1)},Ya=[],Qa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",[a("v-container",[a("v-flex",{attrs:{xs10:""}},[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",{staticClass:"font-weight-medium display-1"},[e._v(e._s(e.overview.rentACarName)+" "+e._s(e.overview.city)+", "+e._s(e.overview.country)+"  ")])],1)],1),a("v-layout",{attrs:{column:""}},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs6:""}},[a("v-layout",{attrs:{column:""}},[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",{staticClass:"font-weight-light headline"},[e._v("From "),a("b",[e._v(e._s(e.overview.from))]),e._v(" to "),a("b",[e._v(e._s(e.overview.to))])])],1),a("v-img",{attrs:{"aspect-ratio":16/9,src:e.overview.vehicle.image}}),a("v-layout",{attrs:{row:""}},[a("v-divider",{attrs:{vertical:""}}),a("v-list",[a("v-list-tile",[a("v-list-tile-content",[a("v-list-tile-title",[e._v(e._s(e.overview.vehicle.manufacturer))]),a("v-list-tile-sub-title",[e._v("Manufacturer")])],1)],1),a("v-list-tile",[a("v-list-tile-content",[a("v-list-tile-title",[e._v(e._s(e.overview.vehicle.model))]),a("v-list-tile-sub-title",[e._v("Model")])],1)],1),a("v-list-tile",[a("v-list-tile-content",[a("v-list-tile-title",[e._v(e._s(e.overview.vehicle.year))]),a("v-list-tile-sub-title",[e._v("Year")])],1)],1),a("v-list-tile",[a("v-list-tile-content",[a("v-list-tile-title",[e._v(e._s(e.overview.vehicle.fuel))]),a("v-list-tile-sub-title",[e._v("Fuel")])],1)],1)],1),a("v-spacer"),a("v-list",[a("v-list-tile",[a("v-list-tile-content",[a("v-list-tile-title",[e._v(e._s(e.overview.vehicle.engine))]),a("v-list-tile-sub-title",[e._v("Engine")])],1)],1),a("v-list-tile",[a("v-list-tile-content",[a("v-list-tile-title",[e._v(e._s(e.overview.vehicle.transmission))]),a("v-list-tile-sub-title",[e._v("Transmission")])],1)],1),a("v-list-tile",[a("v-list-tile-content",[a("v-list-tile-title",[e._v(e._s(e.overview.vehicle.seatsCount))]),a("v-list-tile-sub-title",[e._v("Seats count")])],1)],1),a("v-list-tile",[a("v-list-tile-content",[a("v-list-tile-title",[e._v(e._s(e.overview.vehicle.airCondition))]),a("v-list-tile-sub-title",[e._v("Aircondition")])],1)],1)],1)],1)],1)],1),a("v-divider",{attrs:{vertical:""}}),a("v-flex",{attrs:{xs4:""}},[a("v-toolbar",{attrs:{flat:"",color:"gray"}},[a("v-toolbar-title",{staticClass:"font-weight-light headline"},[e._v("Additional service")])],1),a("v-list",{attrs:{"two-line":""}},[e._l(this.overview.priceList.priceListItems,function(t){return[a("v-list-tile",{key:t.id},[a("v-list-tile-content",[a("v-list-tile-title",[e._v(e._s(t.name)+" €"+e._s(t.price))]),a("v-list-tile-sub-title",{staticClass:"text--primary"},[e._v("Discount: "+e._s(t.discount)+"%")]),a("v-list-tile-sub-title",[e._v(e._s(t.description))])],1),e.quickReser?e._e():a("v-list-tile-action",[a("v-checkbox",{on:{change:function(a){return e.itemHandler(t)}}})],1)],1)]})],2),e.quickV?a("v-layout",{attrs:{row:""}},[a("v-menu",{attrs:{"close-on-content-click":!0,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on;return[a("v-flex",{attrs:{xs6:"",md6:""}},[a("v-text-field",e._g({staticClass:"mx-3",attrs:{"append-icon":"event",label:"From*","max-width":"30px"},model:{value:e.fromDPDate,callback:function(t){e.fromDPDate=t},expression:"fromDPDate"}},s))],1)]}}],null,!1,2587939798),model:{value:e.fromDPMenu,callback:function(t){e.fromDPMenu=t},expression:"fromDPMenu"}},[a("v-date-picker",{attrs:{max:e.maximalFromDate,min:e.minimalFromDate},on:{input:function(t){e.fromDPMenu=!1}},model:{value:e.fromDPDate,callback:function(t){e.fromDPDate=t},expression:"fromDPDate"}})],1),a("v-menu",{attrs:{"close-on-content-click":!0,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on;return[a("v-flex",{attrs:{xs6:"",md6:""}},[a("v-text-field",e._g({staticClass:"mx-3",attrs:{"append-icon":"event",label:"To*"},model:{value:e.toDPDate,callback:function(t){e.toDPDate=t},expression:"toDPDate"}},s))],1)]}}],null,!1,2932141012),model:{value:e.toDPMenu,callback:function(t){e.toDPMenu=t},expression:"toDPMenu"}},[a("v-date-picker",{attrs:{min:e.minimalToDate},on:{input:function(t){e.toDPMenu=!1}},model:{value:e.toDPDate,callback:function(t){e.toDPDate=t},expression:"toDPDate"}})],1)],1):e._e()],1)],1),a("v-card-actions",[a("v-spacer"),a("v-divider")],1),a("v-card-actions",[a("v-spacer"),a("p",{staticClass:"font-weight-light headline"},[e._v("Total price: "),a("b",[e._v("€"+e._s(e.overview.vehicle.totalPrice))])])],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{on:{click:e.confirmResrvation}},[e._v("Accept")]),a("v-btn",{on:{click:e.cancel}},[e._v("Cancel")])],1)],1)],1)],1)},Ga=[],Ja=(a("28a5"),{props:["overview"],data:function(){return{dateDialog:!1,fromDPMenu:!1,fromDPMenuDialog:!1,fromDPDate:(new Date).toISOString().substr(0,10),toDPMenu:!1,toDPMenuDialog:!1,toDPDate:"",minDate:(new Date).toISOString().substr(0,10),selected:[],date:"2018-03-02"}},methods:{itemHandler:function(e){for(var t=0;t<this.selected.length;t++)if(this.selected[t].id===e.id)return this.selected.splice(t,1),void(this.overview.vehicle.totalPrice=(this.overview.vehicle.totalPrice-e.price)*(1/(1-e.discount/100)));this.overview.vehicle.totalPrice=this.overview.vehicle.totalPrice*(1-e.discount/100)+e.price,this.selected.push(e)},confirmResrvation:function(){var e=this;if(this.quickV){var t={dateFrom:this.fromDPDate,dateTo:this.toDPDate,additionalServices:this.selected,vehicleId:this.overview.vehicleId,rentACarId:this.rentACarId};this.overview.edit?this.$axios.post("http://localhost:8080/api/vehicleReservation/",t).then(function(t){alert(t.data),e.$router.go(0)}).catch(function(e){alert(e.resposne)}):this.$axios.post("http://localhost:8080/api/quickVehicleReservation/",t).then(function(t){alert(t.data),e.$router.go(0)}).catch(function(e){alert(e.resposne.data)})}else if(this.quickReser)this.$axios.post("http://localhost:8080/api/confirmQuickVehicle/1",this.overview.reservationId).then(function(t){alert(t.data),e.$router.go(0)}).catch(function(e){alert(e.resposne)});else{var a={dateFrom:this.dateFrom,dateTo:this.dateTo,additionalServices:this.selected,vehicleId:this.overview.vehicleId};this.$axios.post("http://localhost:8080/api/vehicleReservation/1",a).then(function(t){alert(t.data),e.$router.go(0)}).catch(function(e){alert(e.resposne)})}},cancel:function(){this.$router.go(0)}},computed:{minimalFromDate:function(){var e=new Date,t=new Date;return t.setDate(e.getDate()+1),t.toISOString().substr(0,10)},minimalToDate:function(){return this.fromDPDate},maximalFromDate:function(){return this.toDPDate},quickV:function(){var e=this.$route.path;return!e.includes("vehicleReservation")},rentACarId:function(){var e=this.$route.path;if(e.includes("vehicleReservation"))return null;var t=e.split("/");return t[t.length-1]},quickReser:function(){return-1!=this.overview.reservationId}}}),Ka=Ja,Za=Object(h["a"])(Ka,Qa,Ga,!1,null,null,null),Xa=Za.exports;p()(Za,{VBtn:f["a"],VCard:U["a"],VCardActions:ve["a"],VCheckbox:Be["a"],VContainer:he["a"],VDatePicker:H["a"],VDivider:dt["a"],VFlex:W["a"],VImg:Y["a"],VLayout:J["a"],VList:fe["a"],VListTile:ge["a"],VListTileAction:Ua["a"],VListTileContent:be["a"],VListTileSubTitle:be["b"],VListTileTitle:be["c"],VMenu:K["a"],VSpacer:b["a"],VTextField:X["a"],VToolbar:x["a"],VToolbarTitle:y["b"]});var es=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",[a("v-dialog",{attrs:{"max-width":"1000px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a(e.component,{tag:"component",attrs:{overview:e.overview}})],1),a("v-data-iterator",{attrs:{items:e.vehicles,"rows-per-page-items":e.rowsPerPageItems,pagination:e.pagination,"content-tag":"v-layout",row:"",wrap:""},on:{"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"item",fn:function(t){return[a("v-flex",{attrs:{xs12:"",sm6:"",md4:"",lg3:""}},[a("v-hover",{scopedSlots:e._u([{key:"default",fn:function(s){var i=s.hover;return a("v-card",{staticClass:"mx-auto",attrs:{color:"grey lighten-4","max-width":"600"}},[a("v-img",{attrs:{"aspect-ratio":16/9,src:t.item.image}},[a("v-expand-transition",[i?a("div",{staticClass:"d-flex transition-fast-in-fast-out black darken-2 v-card--reveal display-1 white--text",staticStyle:{height:"100%"},on:{click:function(a){return e.showPrev(t.item)}}},[e._v("\r\n                            €"+e._s(t.item.totalPrice)+"                                  \r\n                        ")]):e._e()])],1),a("v-card-text",{staticClass:"pt-4",staticStyle:{position:"relative"}},[a("div",{staticClass:"font-weight-light grey--text title mb-2"},[e._v("For the perfect day")]),a("h3",{staticClass:"display-1 font-weight-light blue--text mb-2"},[e._v(e._s(t.item.manufacturer)+" "+e._s(t.item.model))]),a("div",{staticClass:"font-weight-light title mb-2"},[e._v("\r\n                        Vehicle owner: "),a("br"),e._v(e._s(t.item.mainRentACar)+"\r\n                    ")])])],1)}}],null,!0)})],1)]}}])})],1)},ts=[],as={components:{vehicleReservationPre:Xa},props:["vehicles","from","to"],data:function(){return{overview:{vehicle:"",rentACarId:"",rentACarName:"",branchOfficeId:"",country:"",city:"",vehicleId:"",priceList:{id:"",priceListItems:[]}},dialog:null,component:"vehicleReservationPre",rowsPerPageItems:[4,8,12],pagination:{rowsPerPage:4}}},methods:{showPrev:function(e){var t=this;this.quickReser?this.$axios.get("http://localhost:8080/api/getQuickResFromVehicle/"+this.from+"/"+this.to+"/"+e.id).then(function(e){var a=e.data;t.overview.rentACarId=a.rentACarId,t.overview.rentACarName=a.rentACarName,t.overview.branchOfficeId=a.branchOfficeId,t.overview.country=a.country,t.overview.city=a.city,t.overview.vehicleId=a.vehicleId,t.overview.priceList=a.priceList,t.overview.from=t.trim(a.from),t.overview.to=t.trim(a.to),t.overview.reservationId=a.reservationId}):this.$axios.get("http://localhost:8080/api/vehicleReservationPrew/"+e.id).then(function(e){var a=e.data;t.overview.rentACarId=a.rentACarId,t.overview.rentACarName=a.rentACarName,t.overview.branchOfficeId=a.branchOfficeId,t.overview.country=a.country,t.overview.city=a.city,t.overview.vehicleId=a.vehicleId,t.overview.priceList=a.priceList,t.overview.from=t.from,t.overview.to=t.to,t.overview.reservationId=-1}),this.overview.vehicle=e,this.dialog=!0},trim:function(e){return e.substring(0,10)}},computed:{quickReser:function(){if(0!=this.vehicles.length)return console.log(this.vehicles[1].quick),this.vehicles[1].quick}}},ss=as,is=(a("d6a7"),a("c377")),rs=a("0789"),ns=a("ce87"),os=Object(h["a"])(ss,es,ts,!1,null,"0d17dd0f",null),ls=os.exports;p()(os,{VCard:U["a"],VCardText:ve["b"],VDataIterator:is["a"],VDialog:me["a"],VExpandTransition:rs["a"],VFlex:W["a"],VHover:ns["a"],VImg:Y["a"]});var cs={props:["quickReservations","rentACarId"],components:{pehicleReservationPre:Xa,vehicleForRes:ls},data:function(){return{component:"pehicleReservationPre",overview:{vehicle:"",rentACarId:"",rentACarName:"",branchOfficeId:"",country:"",city:"",vehicleId:"",priceList:{id:"",priceListItems:[]},edit:!1},vehicles:[],quickVehicleSelected:"",dialog:null,quickReservation:{id:1,dateFrom:"2019-03-11",dateTo:"2019-04-11",additionalServices:"neka lista",vehicleId:1,manufacturer:"BMW",model:"520",totalPrice:1e4,discount:3},quickReservationsTEST:[{id:1,dateFrom:"2019-03-11",dateTo:"2019-04-11",additionalServices:"neka lista",vehicleId:1,manufacturer:"BMW",model:"520",totalPrice:1e4,discount:3},{id:2,dateFrom:"2019-03-11",dateTo:"2019-04-11",additionalServices:"neka lista",vehicleId:1,manufacturer:"BMW",model:"520",totalPrice:1e4,discount:3},{id:3,dateFrom:"2019-03-11",dateTo:"2019-04-11",additionalServices:"neka lista",vehicleId:1,manufacturer:"BMW",model:"520",totalPrice:1e4,discount:3},{id:4,dateFrom:"2019-03-11",dateTo:"2019-04-11",additionalServices:"neka lista",vehicleId:1,manufacturer:"BMW",model:"520",totalPrice:1e4,discount:3},{id:5,dateFrom:"2019-03-11",dateTo:"2019-04-11",additionalServices:"neka lista",vehicleId:1,manufacturer:"BMW",model:"520",totalPrice:1e4,discount:3}]}},methods:{getImgUrl:function(e){var t=a("883a");return t("./"+e)},fetchVehicles:function(){var e=this;this.$axios.get("http://localhost:8080/api/vehiclesRentACar/"+this.rentACarId).then(function(t){var a=t.data;e.vehicles=[],a.forEach(function(t){return e.vehicles.push({id:t.id,manufacturer:t.manufacturer,model:t.model,year:t.year,fuel:t.fuel,engine:t.engine,transmission:t.transmission,seatsCount:t.seatsCount,airCondition:t.airCondition,dailyRentalPrice:t.dailyRentalPrice,image:e.getImgUrl(t.image),totalPrice:t.dailyRentalPrice,mainRentACar:e.rentACarId})})}).catch(function(t){alert("STA!?"),e.$slots="no-results"})},editItem:function(e){var t=this;this.quickVehicleSelected=e,this.component="pehicleReservationPre",this.$axios.get("http://localhost:8080/api/vehicleReservationPrew/"+e.id).then(function(e){var a=e.data;t.overview.rentACarId=a.rentACarId,t.overview.rentACarName=a.rentACarName,t.overview.branchOfficeId=a.branchOfficeId,t.overview.country=a.country,t.overview.city=a.city,t.overview.vehicleId=a.vehicleId,t.overview.priceList=a.priceList}),this.overview.vehicle=e,this.overview.edit=!0,this.dialog=!0},deleteItem:function(e){this.quickVehicleSelected=e},addItem:function(){this.component="vehicleForRes",this.fetchVehicles(),this.dialog=!0}}},us=cs,ds=Object(h["a"])(us,Wa,Ya,!1,null,null,null),vs=ds.exports;p()(ds,{VBtn:f["a"],VCard:U["a"],VDialog:me["a"],VIcon:g["a"],VLayout:J["a"],VList:fe["a"],VListTile:ge["a"],VListTileAction:Ua["a"],VListTileContent:be["a"],VListTileSubTitle:be["b"],VListTileTitle:be["c"],VToolbar:x["a"],VToolbarTitle:y["b"]});var hs={props:{rentACarId:{type:String,default:"0"}},components:{viewBranchOffices:Ra,vehiclePriceList:Ha,quickReservations:vs},data:function(){return{rentACar:{id:0,name:"",description:""},additionalServicesPriceList:[],beforeChange:{name:"",description:""},hasSaved:!1,isEditing:!1,no:"",component1:"viewBranchOffices",component2:"vehiclePriceList",component3:"quickReservations",text:"Ovde ce trenutnom adminu da se pokazuju podaci o njegovom rent-a-car servisu",realId:0,vehicles:[],quickRes:[]}},methods:{fetchRentACar:function(){var e=this;this.$axios.get("http://localhost:8080/api/rentACar/"+this.rentACarId).then(function(t){e.rentACar.id=t.data.id,e.rentACar.name=t.data.name,e.rentACar.description=t.data.description,e.additionalServicesPriceList=t.data.additionalServicesPriceList})},fetchQuickReservations:function(){var e=this;this.$axios.get("http://localhost:8080/api/getQuickReservations/"+this.rentACarId).then(function(t){var a=t.data;e.quickRes=[],a.forEach(function(t){return e.quickRes.push({id:t.id,dateFrom:e.trim(t.dateFrom),dateTo:e.trim(t.dateTo),totalPrice:t.totalPrice,additionalServices:t.additionalServices,discount:3,vehicle:t.vehicle})})})},trim:function(e){return e.substring(0,10)},noClick:function(){this.$refs.btn.$el.focus()},changeCanc:function(){0==this.isEditing?(this.beforeChange.name=this.rentACar.name,this.beforeChange.description=this.rentACar.description):(this.rentACar.name=this.beforeChange.name,this.rentACar.description=this.beforeChange.description),this.isEditing=!this.isEditing},save:function(){this.isEditing=!this.isEditing,this.editOnBackend()},editOnBackend:function(){var e=this;this.$axios.put("http://localhost:8080/api/rentACars/",this.rentACar).then(function(){e.beforeChange.name=e.rentACar.name,e.beforeChange.description=e.rentACar.description,e.hasSaved=!0}).catch(function(t){alert(t.response.data.message),e.rentACar.name=e.beforeChange.name,e.rentACar.description=e.beforeChange.description})}},created:function(){this.realId=this.rentACarId,this.fetchRentACar(),this.fetchQuickReservations()}},ms=hs,ps=a("2db4"),fs=Object(h["a"])(ms,Wt,Yt,!1,null,null,null),gs=fs.exports;p()(fs,{VBtn:f["a"],VCard:U["a"],VCardActions:ve["a"],VCardText:ve["b"],VContainer:he["a"],VFlex:W["a"],VIcon:g["a"],VLayout:J["a"],VSnackbar:ps["a"],VSpacer:b["a"],VTextField:X["a"],VTextarea:Me["a"],VToolbar:x["a"],VToolbarTitle:y["b"]});var bs=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"add-user"}},[a("h1",[e._v(" Register new user")]),a("div",[a("v-alert",{attrs:{value:e.success,type:"success",transition:"scale-transition"}},[e._v("\n        User registered successfully.\n        ")]),a("v-alert",{attrs:{value:e.error,type:"error"}},[e._v("\n            "+e._s(this.error)+"\n        ")])],1),a("div",{attrs:{id:"add-form"}},[a("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[a("form",[a("v-text-field",{attrs:{"error-messages":e.usernameErrors,label:"Username",required:""},on:{input:function(t){return e.$v.registeredUser.username.$touch()},blur:function(t){return e.$v.registeredUser.username.$touch()}},model:{value:e.registeredUser.username,callback:function(t){e.$set(e.registeredUser,"username",t)},expression:"registeredUser.username"}}),a("v-text-field",{attrs:{"append-icon":e.showPassword?"visibility":"visibility_off",type:e.showPassword?"text":"password","error-messages":e.passwordErrors,label:"Password",required:"",counter:""},on:{"click:append":function(t){e.showPassword=!e.showPassword},input:function(t){return e.$v.registeredUser.password.$touch()},blur:function(t){return e.$v.registeredUser.password.$touch()}},model:{value:e.registeredUser.password,callback:function(t){e.$set(e.registeredUser,"password",t)},expression:"registeredUser.password"}}),a("v-text-field",{attrs:{"append-icon":e.showPasswordConfirmation?"visibility":"visibility_off",type:e.showPasswordConfirmation?"text":"password","error-messages":e.passwordConfirmationErrors,label:"Password confirmation",required:"",counter:""},on:{"click:append":function(t){e.showPasswordConfirmation=!e.showPasswordConfirmation},input:function(t){return e.$v.registeredUser.passwordConfirmation.$touch()},blur:function(t){return e.$v.registeredUser.passwordConfirmation.$touch()}},model:{value:e.registeredUser.passwordConfirmation,callback:function(t){e.$set(e.registeredUser,"passwordConfirmation",t)},expression:"registeredUser.passwordConfirmation"}}),a("v-text-field",{attrs:{"error-messages":e.firstNameErrors,label:"First Name",required:""},on:{input:function(t){return e.$v.registeredUser.firstName.$touch()},blur:function(t){return e.$v.registeredUser.firstName.$touch()}},model:{value:e.registeredUser.firstName,callback:function(t){e.$set(e.registeredUser,"firstName",t)},expression:"registeredUser.firstName"}}),a("v-text-field",{attrs:{"error-messages":e.lastNameErrors,label:"Last Name",required:""},on:{input:function(t){return e.$v.registeredUser.lastName.$touch()},blur:function(t){return e.$v.registeredUser.lastName.$touch()}},model:{value:e.registeredUser.lastName,callback:function(t){e.$set(e.registeredUser,"lastName",t)},expression:"registeredUser.lastName"}}),a("v-text-field",{attrs:{"error-messages":e.emailErrors,label:"E-Mail",required:""},on:{input:function(t){return e.$v.registeredUser.email.$touch()},blur:function(t){return e.$v.registeredUser.email.$touch()}},model:{value:e.registeredUser.email,callback:function(t){e.$set(e.registeredUser,"email",t)},expression:"registeredUser.email"}}),a("v-text-field",{attrs:{"error-messages":e.phoneErrors,label:"Phone number",required:""},on:{input:function(t){return e.$v.registeredUser.phone.$touch()},blur:function(t){return e.$v.registeredUser.phone.$touch()}},model:{value:e.registeredUser.phone,callback:function(t){e.$set(e.registeredUser,"phone",t)},expression:"registeredUser.phone"}}),a("v-btn",{on:{click:e.submit}},[e._v("submit")])],1)])],1)])},xs=[],ys={mixins:[ie["validationMixin"]],data:function(){return{registeredUser:{username:"",password:"",passwordConfirmation:"",firstName:"",lastName:"",email:"",phone:""},savePassword:"",showPassword:!1,showPasswordConfirmation:!1,success:!1,error:!1}},validations:{registeredUser:{username:{required:ne["required"],minLength:Object(ne["minLength"])(5)},password:{required:ne["required"],minLength:Object(ne["minLength"])(6)},passwordConfirmation:{required:ne["required"],minLength:Object(ne["minLength"])(6),sameAs:Object(ne["sameAs"])("password")},firstName:{required:ne["required"]},lastName:{required:ne["required"]},email:{required:ne["required"],email:ne["email"]},phone:{numeric:ne["numeric"]}}},computed:{usernameErrors:function(){var e=[];return this.$v.registeredUser.username.$dirty?(!this.$v.registeredUser.username.minLength&&e.push("Username must be at least 5 characters long"),!this.$v.registeredUser.username.required&&e.push("Username is required."),e):e},passwordErrors:function(){var e=[];return this.$v.registeredUser.password.$dirty?(!this.$v.registeredUser.password.minLength&&e.push("Password must be at least 6 characters long"),!this.$v.registeredUser.password.required&&e.push("Password is required."),e):e},passwordConfirmationErrors:function(){var e=[];return this.$v.registeredUser.passwordConfirmation.$dirty?(!this.$v.registeredUser.passwordConfirmation.sameAs&&e.push("Passwords do not match."),!this.$v.registeredUser.passwordConfirmation.required&&e.push("Password confirmation is required."),e):e},firstNameErrors:function(){var e=[];return this.$v.registeredUser.firstName.$dirty?(!this.$v.registeredUser.firstName.required&&e.push("First Name is required."),e):e},lastNameErrors:function(){var e=[];return this.$v.registeredUser.lastName.$dirty?(!this.$v.registeredUser.lastName.required&&e.push("Last Name is required."),e):e},emailErrors:function(){var e=[];return this.$v.registeredUser.email.$dirty?(!this.$v.registeredUser.email.email&&e.push("E-mail invalid."),!this.$v.registeredUser.email.required&&e.push("Username is required."),e):e},phoneErrors:function(){var e=[];return this.$v.registeredUser.phone.$dirty?(!this.$v.registeredUser.phone.numeric&&e.push("Phone number invalid."),e):e},addressErrors:function(){var e=[];return e}},methods:{submit:function(){this.$v.$touch(),this.$v.$invalid||this.addUser()},addUser:function(){var e=this;this.savePassword=this.registeredUser.passwordConfirmation,delete this.registeredUser.passwordConfirmation,this.$axios.post("/auth/signup",this.registeredUser).then(function(t){e.success=!0,e.registeredUser.passwordConfirmation=e.savePassword}).catch(function(t){e.registeredUser.passwordConfirmation=e.savePassword,e.error=t.response.data})}}},Cs=ys,ws=Object(h["a"])(Cs,bs,xs,!1,null,null,null),ks=ws.exports;p()(ws,{VAlert:de["a"],VBtn:f["a"],VFlex:W["a"],VTextField:X["a"]});var _s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"add-user"}},[a("h1",[e._v(" Register new user")]),a("div",[a("v-alert",{attrs:{value:e.success,type:"success",transition:"scale-transition"}},[e._v("\n        Admin registered successfully.\n        ")]),a("v-alert",{attrs:{value:e.error,type:"error"}},[e._v("\n            "+e._s(this.error)+"\n        ")])],1),a("div",{attrs:{id:"add-form"}},[a("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[a("form",[a("v-text-field",{attrs:{"error-messages":e.usernameErrors,label:"Username",required:""},on:{input:function(t){return e.$v.registeredUser.username.$touch()},blur:function(t){return e.$v.registeredUser.username.$touch()}},model:{value:e.registeredUser.username,callback:function(t){e.$set(e.registeredUser,"username",t)},expression:"registeredUser.username"}}),a("v-text-field",{attrs:{"append-icon":e.showPassword?"visibility":"visibility_off",type:e.showPassword?"text":"password","error-messages":e.passwordErrors,label:"Password",required:"",counter:""},on:{"click:append":function(t){e.showPassword=!e.showPassword},input:function(t){return e.$v.registeredUser.password.$touch()},blur:function(t){return e.$v.registeredUser.password.$touch()}},model:{value:e.registeredUser.password,callback:function(t){e.$set(e.registeredUser,"password",t)},expression:"registeredUser.password"}}),a("v-text-field",{attrs:{"append-icon":e.showPasswordConfirmation?"visibility":"visibility_off",type:e.showPasswordConfirmation?"text":"password","error-messages":e.passwordConfirmationErrors,label:"Password confirmation",required:"",counter:""},on:{"click:append":function(t){e.showPasswordConfirmation=!e.showPasswordConfirmation},input:function(t){return e.$v.registeredUser.passwordConfirmation.$touch()},blur:function(t){return e.$v.registeredUser.passwordConfirmation.$touch()}},model:{value:e.registeredUser.passwordConfirmation,callback:function(t){e.$set(e.registeredUser,"passwordConfirmation",t)},expression:"registeredUser.passwordConfirmation"}}),a("v-text-field",{attrs:{"error-messages":e.firstNameErrors,label:"First Name",required:""},on:{input:function(t){return e.$v.registeredUser.firstName.$touch()},blur:function(t){return e.$v.registeredUser.firstName.$touch()}},model:{value:e.registeredUser.firstName,callback:function(t){e.$set(e.registeredUser,"firstName",t)},expression:"registeredUser.firstName"}}),a("v-text-field",{attrs:{"error-messages":e.lastNameErrors,label:"Last Name",required:""},on:{input:function(t){return e.$v.registeredUser.lastName.$touch()},blur:function(t){return e.$v.registeredUser.lastName.$touch()}},model:{value:e.registeredUser.lastName,callback:function(t){e.$set(e.registeredUser,"lastName",t)},expression:"registeredUser.lastName"}}),a("v-text-field",{attrs:{"error-messages":e.emailErrors,label:"E-Mail",required:""},on:{input:function(t){return e.$v.registeredUser.email.$touch()},blur:function(t){return e.$v.registeredUser.email.$touch()}},model:{value:e.registeredUser.email,callback:function(t){e.$set(e.registeredUser,"email",t)},expression:"registeredUser.email"}}),a("v-text-field",{attrs:{"error-messages":e.phoneErrors,label:"Phone number",required:""},on:{input:function(t){return e.$v.registeredUser.phone.$touch()},blur:function(t){return e.$v.registeredUser.phone.$touch()}},model:{value:e.registeredUser.phone,callback:function(t){e.$set(e.registeredUser,"phone",t)},expression:"registeredUser.phone"}}),a("v-select",{attrs:{"error-messages":e.authorityErrors,items:e.items,rules:e.rules,label:"Select authority"},on:{input:function(t){return e.$v.registeredUser.authority.$touch()},blur:function(t){return e.$v.registeredUser.authority.$touch()}},model:{value:e.registeredUser.authority,callback:function(t){e.$set(e.registeredUser,"authority",t)},expression:"registeredUser.authority"}}),a("v-btn",{on:{click:e.submit}},[e._v("submit")])],1)])],1)])},$s=[],Ss={mixins:[ie["validationMixin"]],data:function(){return{registeredUser:{username:"",password:"",passwordConfirmation:"",firstName:"",lastName:"",email:"",phone:"",authority:""},savePassword:"",showPassword:!1,showPasswordConfirmation:!1,success:!1,error:!1,items:["SYSTEM_ADMIN","AIRLINE_ADMIN","HOTEL_ADMIN","RENT_A_CAR_ADMIN","REGISTERED_USER"],rules:[function(e){return!!e||"The value is required"}]}},validations:{registeredUser:{username:{required:ne["required"],minLength:Object(ne["minLength"])(5)},password:{required:ne["required"],minLength:Object(ne["minLength"])(6)},passwordConfirmation:{required:ne["required"],minLength:Object(ne["minLength"])(6),sameAs:Object(ne["sameAs"])("password")},firstName:{required:ne["required"]},lastName:{required:ne["required"]},email:{required:ne["required"],email:ne["email"]},phone:{numeric:ne["numeric"]},authority:{required:ne["required"]}}},computed:{usernameErrors:function(){var e=[];return this.$v.registeredUser.username.$dirty?(!this.$v.registeredUser.username.minLength&&e.push("Username must be at least 5 characters long"),!this.$v.registeredUser.username.required&&e.push("Username is required."),e):e},passwordErrors:function(){var e=[];return this.$v.registeredUser.password.$dirty?(!this.$v.registeredUser.password.minLength&&e.push("Password must be at least 6 characters long"),!this.$v.registeredUser.password.required&&e.push("Password is required."),e):e},passwordConfirmationErrors:function(){var e=[];return this.$v.registeredUser.passwordConfirmation.$dirty?(!this.$v.registeredUser.passwordConfirmation.sameAs&&e.push("Passwords do not match."),!this.$v.registeredUser.passwordConfirmation.required&&e.push("Password confirmation is required."),e):e},firstNameErrors:function(){var e=[];return this.$v.registeredUser.firstName.$dirty?(!this.$v.registeredUser.firstName.required&&e.push("First Name is required."),e):e},lastNameErrors:function(){var e=[];return this.$v.registeredUser.lastName.$dirty?(!this.$v.registeredUser.lastName.required&&e.push("Last Name is required."),e):e},emailErrors:function(){var e=[];return this.$v.registeredUser.email.$dirty?(!this.$v.registeredUser.email.email&&e.push("E-mail invalid."),!this.$v.registeredUser.email.required&&e.push("Username is required."),e):e},phoneErrors:function(){var e=[];return this.$v.registeredUser.phone.$dirty?(!this.$v.registeredUser.phone.numeric&&e.push("Phone number invalid."),e):e},addressErrors:function(){var e=[];return e},authorityErrors:function(){var e=[];return this.$v.registeredUser.authority.$dirty?(!this.$v.registeredUser.authority.required&&e.push("Authority is required."),e):e}},methods:{submit:function(){this.$v.$touch(),this.$v.$invalid||this.addUser()},addUser:function(){var e=this;this.savePassword=this.registeredUser.passwordConfirmation,delete this.registeredUser.passwordConfirmation,this.$axios.post("http://localhost:8081/api/registeredUsers",this.registeredUser).then(function(t){alert(t.data.username),e.success=!0,e.registeredUser.passwordConfirmation=e.savePassword}).catch(function(t){e.registeredUser.passwordConfirmation=e.savePassword,e.error=t.response.data})}}},Ds=Ss,Vs=Object(h["a"])(Ds,_s,$s,!1,null,null,null),Is=Vs.exports;p()(Vs,{VAlert:de["a"],VBtn:f["a"],VFlex:W["a"],VSelect:vt["a"],VTextField:X["a"]});var Ts=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"view-user-profile"},[a("v-container",{attrs:{"grid-list":""}},[a("v-layout",{attrs:{row:"","justify-space-around":""}},[a("user-profile"),a("v-layout",{attrs:{"align-space-around":"","justify-start":"",column:""}},[a("v-tabs",{attrs:{color:"light blue",dark:"","slider-color":"black","ma-4":""}},[a("v-tab",[e._v("Friends list")]),a("v-tab",{attrs:{ripple:""}},[e._v("Friend requests")]),a("v-spacer"),a("v-tab",{on:{click:function(t){return e.redirectToSearch()}}},[a("v-btn",[e._v("Search users")])],1),a("v-tab-item",[a("v-card",[a("friendships")],1)],1),a("v-tab-item",[a("v-card",[a("friend-requests")],1)],1)],1)],1)],1),a("invitations")],1)],1)},As=[],Rs=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-layout",{staticClass:"user-data",attrs:{column:"","align-center":"","justify-center":"","ma-4":""}},[s("v-avatar",{attrs:{tile:!1,size:192,color:"grey lighten-4"}},[s("img",{attrs:{src:a("0f71"),alt:"avatar"}})]),s("h2",{staticClass:"text-xs-center"},[e._v(e._s(e.user.firstName+" "+e.user.lastName))]),s("h4",{staticClass:"text-xs-center"},[e._v(e._s(e.user.email))]),s("h4",{staticClass:"text-xs-center"},[e._v(e._s(e.user.phone))]),s("h4",{staticClass:"text-xs-center"},[e._v(e._s(e.user.address))]),s("div",{staticClass:"text-xs-center"},[s("v-layout",{attrs:{column:""}},[s("v-btn",{attrs:{round:"",small:"",flat:"",color:"primary",dark:""},on:{click:function(t){return e.redirectToEdit()}}},[e._v("Edit Profile")]),s("v-divider")],1)],1),s("v-spacer")],1)},Es=[],Ps={props:{userAvatar:{type:String,default:a("0f71")}},data:function(){return{user:{firstName:"",lastName:"",email:"",phone:"",address:""}}},methods:{redirectToEdit:function(){this.$router.push("editUserProfile")}},created:function(){var e=this,t={headers:{Authorization:"Bearer "+localStorage.getItem("token")}};this.$axios.get("http://localhost:8080/api/currentUser/",t).then(function(t){e.user=t.data}).catch(function(t){e.$swal("Error",t.response.data.message,"error")})}},Ls=Ps,qs=a("8212"),Os=Object(h["a"])(Ls,Rs,Es,!1,null,null,null),Fs=Os.exports;p()(Os,{VAvatar:qs["a"],VBtn:f["a"],VDivider:dt["a"],VLayout:J["a"],VSpacer:b["a"]});var Ns=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",{attrs:{column:"","ma-4":""}},[a("v-text-field",{attrs:{"append-icon":"search",label:"Search friends list","single-line":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("v-data-table",{attrs:{headers:e.headers,items:e.users,search:e.search,pagination:e.pagination},on:{"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",[e._v(e._s(t.item.firstName))]),a("td",[e._v(e._s(t.item.lastName))]),a("td",[e._v(e._s(t.item.email))]),a("td",{staticClass:"text-xs-right disable-events"},[a("v-btn",{attrs:{depressed:"",color:e.computeButtonColor(t.item.status)}},[a("span",[e._v(e._s(t.item.status))])])],1),a("td",{staticClass:"text-xs-right"},[a("v-btn",{attrs:{dark:"",depressed:"",color:"red"},on:{click:function(a){return e.deleteFriendRequest(t.item.email)}}},[a("span",[e._v("Remove")])])],1)]}}])},[a("v-alert",{attrs:{value:!0,color:"error",icon:"warning"},scopedSlots:e._u([{key:"no-results",fn:function(){return[e._v('\n            Your search for "'+e._s(e.search)+'" found no results.\n        ')]},proxy:!0}])})],1)],1)},Bs=[],js={name:"friendships",data:function(){return{search:"",headers:[{text:"First Name",align:"left",sortable:!0,value:"firstName"},{text:"Last Name",align:"left",sortable:!0,value:"lastName"},{text:"Email",align:"left",sortable:!0,value:"email"},{text:"Status",align:"center",sortable:!0,value:"status",width:170},{text:"Actions",align:"center",sortable:!1,value:"actions",width:70}],pagination:{sortBy:"status",descending:!1,rowsPerPage:5},users:[]}},methods:{computeButtonColor:function(e){return"waiting"==e.toLowerCase()?"yellow":"accepted"==e.toLowerCase()?"green":"red"},deleteFriendRequest:function(e){var t=this;this.$swal({title:"Are you sure?",text:"You can't revert your action",type:"warning",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No",confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",showCloseButton:!0}).then(function(a){if(a.value){var s=t.users.map(function(e){return e.email}).indexOf(e);s>=0&&t.users.splice(s,1);var i={headers:{Authorization:"Bearer "+localStorage.getItem("token"),"Content-type":"text/plain"}};t.$axios.put("http://localhost:8080/api/removeFriend/",e,i).then(function(e){t.$swal("Deleted","You successfully removed the user from your friends list","success")}).catch(function(e){t.$swal("Error",e.response.data.message,"error")})}})}},created:function(){var e=this,t={headers:{Authorization:"Bearer "+localStorage.getItem("token")}};this.$axios.get("http://localhost:8080/api/getAllFriends/",t).then(function(t){e.users=t.data}).catch(function(t){e.$swal("Error",t.response.data.message,"error")})}},Ms=js,Us=(a("c5ef"),Object(h["a"])(Ms,Ns,Bs,!1,null,null,null)),zs=Us.exports;p()(Us,{VAlert:de["a"],VBtn:f["a"],VDataTable:De["a"],VLayout:J["a"],VTextField:X["a"]});var Hs=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",{attrs:{column:"","ma-4":""}},[a("v-data-table",{attrs:{headers:e.headers,items:e.users,pagination:e.pagination},on:{"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",[e._v(e._s(t.item.firstName))]),a("td",[e._v(e._s(t.item.lastName))]),a("td",[e._v(e._s(t.item.email))]),a("td",{staticClass:"text-xs-right disable-events"},[a("v-btn",{attrs:{depressed:"",color:e.computeButtonColor(t.item.status)}},[a("span",[e._v(e._s(t.item.status))])])],1),a("td",{staticClass:"text-xs-right"},[a("v-btn",{attrs:{dark:"",depressed:"",color:"green"},on:{click:function(a){return e.acceptFriendRequest(t.item.email)}}},[a("span",[e._v("Accept")])]),a("v-btn",{attrs:{dark:"",depressed:"",color:"red"},on:{click:function(a){return e.declineFriendRequest(t.item.email)}}},[a("span",[e._v("Decline")])])],1)]}}])},[a("v-alert",{attrs:{value:!0,color:"error",icon:"warning"},scopedSlots:e._u([{key:"no-results",fn:function(){return[e._v("\n            No results.\n        ")]},proxy:!0}])})],1)],1)},Ws=[],Ys={name:"friend-requests",data:function(){return{headers:[{text:"First Name",align:"left",sortable:!0,value:"firstName"},{text:"Last Name",align:"left",sortable:!0,value:"lastName"},{text:"Email",align:"left",sortable:!0,value:"email"},{text:"Status",align:"left",sortable:!0,value:"status",width:130},{text:"",align:"right",sortable:!1,value:"actions",width:300}],pagination:{sortBy:"status",descending:!1,rowsPerPage:5},users:[]}},methods:{computeButtonColor:function(e){return"waiting"==e.toLowerCase()?"yellow":"accepted"==e.toLowerCase()?"green":"red"},acceptFriendRequest:function(e){var t=this,a=this.users.map(function(e){return e.email}).indexOf(e),s={headers:{Authorization:"Bearer "+localStorage.getItem("token"),"Content-type":"text/plain"}};this.$axios.put("http://localhost:8080/api/acceptFriendRequest/",e,s).then(function(e){a>=0&&t.users.splice(a,1),t.$swal("Accepted","Friend request accepted.","success")}).catch(function(e){t.$swal("Error",e.response.data.message,"error")})},declineFriendRequest:function(e){var t=this,a=this.users.map(function(e){return e.email}).indexOf(e),s={headers:{Authorization:"Bearer "+localStorage.getItem("token"),"Content-type":"text/plain"}};this.$axios.put("http://localhost:8080/api/declineFriendRequest/",e,s).then(function(e){a>=0&&t.users.splice(a,1),t.$swal("Declined","Friend request declined.","success")}).catch(function(e){t.$swal("Error",e.response.data.message,"error")})}},created:function(){var e=this,t={headers:{Authorization:"Bearer "+localStorage.getItem("token")}};this.$axios.get("http://localhost:8080/api/getAllFriendshipRequests/",t).then(function(t){e.users=t.data}).catch(function(t){e.$swal("Error",t.response.data.message,"error")})}},Qs=Ys,Gs=(a("bcb5"),Object(h["a"])(Qs,Hs,Ws,!1,null,null,null)),Js=Gs.exports;p()(Gs,{VAlert:de["a"],VBtn:f["a"],VDataTable:De["a"],VLayout:J["a"]});var Ks=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",{attrs:{column:"","ma-4":""}},[a("h1",{staticClass:"mx-3"},[e._v("Invitations")]),a("v-data-table",{attrs:{headers:e.headers,items:e.invitations,pagination:e.pagination},on:{"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",[e._v(e._s(t.item.departure))]),a("td",[e._v(e._s(t.item.destination))]),a("td",[e._v(e._s(t.item.date))]),a("td",[e._v(e._s(t.item.by))]),a("td",{staticClass:"text-xs-right disable-events"},[a("v-btn",{attrs:{depressed:"",color:e.computeButtonColor(t.item.status)}},[a("span",[e._v(e._s(t.item.status))])])],1),a("td",{staticClass:"text-xs-right"},[e.isOnWait(t.item.status)?a("v-btn",{attrs:{dark:"",depressed:"",color:"green"},on:{click:function(a){return e.acceptInvitation(t.item)}}},[a("span",[e._v("Accept")])]):e._e(),e.isOnWait(t.item.status)?a("v-btn",{attrs:{dark:"",depressed:"",color:"red"},on:{click:function(a){return e.declineInvitation(t.item)}}},[a("span",[e._v("Decline")])]):e._e()],1)]}}])},[a("v-alert",{attrs:{value:!0,color:"error",icon:"warning"},scopedSlots:e._u([{key:"no-results",fn:function(){return[e._v("\n            No results.\n        ")]},proxy:!0}])})],1)],1)},Zs=[],Xs={name:"invitations",data:function(){return{headers:[{text:"From",align:"left",sortable:!0,value:"from"},{text:"To",align:"left",sortable:!0,value:"to"},{text:"Date",align:"left",sortable:!0,value:"date"},{text:"Invited by",align:"left",sortable:!0,value:"by"},{text:"Status",align:"left",sortable:!0,value:"status",width:130},{text:"",align:"right",sortable:!1,value:"actions",width:300}],pagination:{sortBy:"status",descending:!1,rowsPerPage:5},invitations:[]}},methods:{computeButtonColor:function(e){return"waiting"==e.toLowerCase()?"yellow":"accepted"==e.toLowerCase()?"green":"red"},isOnWait:function(e){return"waiting"==e.toLowerCase()},acceptInvitation:function(e){var t=this,a={headers:{Authorization:"Bearer "+localStorage.getItem("token")}};this.$axios.put("http://localhost:8080/api/reservations/acceptInvitation/"+e.id,{},a).then(function(a){t.$swal("Accepted","Invitation accepted.","success"),e.status="Accepted"}).catch(function(e){t.$swal("Error",e.response.data.message,"error")})},declineInvitation:function(e){var t=this,a={headers:{Authorization:"Bearer "+localStorage.getItem("token")}};this.$axios.put("http://localhost:8080/api/reservations/declineInvitation/"+e.id,{},a).then(function(a){t.$swal("Declined","Invitation declined.","success"),e.status="Denied"}).catch(function(e){t.$swal("Error",e.response.data.message,"error")})}},created:function(){var e=this,t={headers:{Authorization:"Bearer "+localStorage.getItem("token")}};this.$axios.get("http://localhost:8080/api/reservations/getAllInvitations/",t).then(function(t){e.invitations=t.data}).catch(function(t){e.$swal("Error",t.response.data.message,"error")})}},ei=Xs,ti=(a("5549"),Object(h["a"])(ei,Ks,Zs,!1,null,null,null)),ai=ti.exports;p()(ti,{VAlert:de["a"],VBtn:f["a"],VDataTable:De["a"],VLayout:J["a"]});var si={components:{"user-profile":Fs,friendships:zs,"friend-requests":Js,invitations:ai},data:function(){return{}},methods:{redirectToSearch:function(){this.$router.push("searchUsers")}},created:function(){}},ii=si,ri=(a("c785"),a("c671")),ni=Object(h["a"])(ii,Ts,As,!1,null,null,null),oi=ni.exports;p()(ni,{VBtn:f["a"],VCard:U["a"],VContainer:he["a"],VLayout:J["a"],VSpacer:b["a"],VTab:bt["a"],VTabItem:ri["a"],VTabs:xt["a"]});var li=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"edit-user-profile"},[a("v-container",{attrs:{"grid-list":""}},[a("v-layout",{attrs:{row:""}},[a("user-profile"),a("edit-user")],1)],1)],1)},ci=[],ui=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",md8:""}},[a("h2",[e._v("Edit profile")]),a("form",[a("v-text-field",{attrs:{"error-messages":e.usernameErrors,label:"Username",required:""},on:{input:function(t){return e.$v.user.username.$touch()},blur:function(t){return e.$v.user.username.$touch()}},model:{value:e.user.username,callback:function(t){e.$set(e.user,"username",t)},expression:"user.username"}}),a("v-text-field",{attrs:{"append-icon":e.showPassword?"visibility":"visibility_off",type:e.showPassword?"text":"password","error-messages":e.passwordErrors,label:"New password",required:"",counter:""},on:{"click:append":function(t){e.showPassword=!e.showPassword},input:function(t){return e.$v.user.password.$touch()},blur:function(t){return e.$v.user.password.$touch()}},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}}),a("v-text-field",{attrs:{"append-icon":e.showPasswordConfirmation?"visibility":"visibility_off",type:e.showPasswordConfirmation?"text":"password","error-messages":e.passwordConfirmationErrors,label:"New password confirmation",required:"",counter:""},on:{"click:append":function(t){e.showPasswordConfirmation=!e.showPasswordConfirmation},input:function(t){return e.$v.user.passwordConfirmation.$touch()},blur:function(t){return e.$v.user.passwordConfirmation.$touch()}},model:{value:e.user.passwordConfirmation,callback:function(t){e.$set(e.user,"passwordConfirmation",t)},expression:"user.passwordConfirmation"}}),a("v-text-field",{attrs:{"error-messages":e.firstNameErrors,label:"First Name",required:""},on:{input:function(t){return e.$v.user.firstName.$touch()},blur:function(t){return e.$v.user.firstName.$touch()}},model:{value:e.user.firstName,callback:function(t){e.$set(e.user,"firstName",t)},expression:"user.firstName"}}),a("v-text-field",{attrs:{"error-messages":e.lastNameErrors,label:"Last Name",required:""},on:{input:function(t){return e.$v.user.lastName.$touch()},blur:function(t){return e.$v.user.lastName.$touch()}},model:{value:e.user.lastName,callback:function(t){e.$set(e.user,"lastName",t)},expression:"user.lastName"}}),a("v-text-field",{attrs:{"error-messages":e.emailErrors,label:"E-Mail",required:""},on:{input:function(t){return e.$v.user.email.$touch()},blur:function(t){return e.$v.user.email.$touch()}},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}}),a("v-text-field",{attrs:{"error-messages":e.phoneErrors,label:"Phone number",required:""},on:{input:function(t){return e.$v.user.phone.$touch()},blur:function(t){return e.$v.user.phone.$touch()}},model:{value:e.user.phone,callback:function(t){e.$set(e.user,"phone",t)},expression:"user.phone"}}),a("GmapAutocomplete",{staticClass:"custom-input-field",on:{place_changed:e.getAddressData}}),a("v-btn",{on:{click:e.editUser}},[e._v("submit")])],1)])],1)},di=[],vi={mixins:[ie["validationMixin"]],data:function(){return{user:{password:"",passwordConfirmation:""},showPassword:!1,showPasswordConfirmation:!1}},validations:{user:{username:{required:ne["required"],minLength:Object(ne["minLength"])(5)},password:{required:ne["required"],minLength:Object(ne["minLength"])(6)},passwordConfirmation:{required:ne["required"],minLength:Object(ne["minLength"])(6),sameAs:Object(ne["sameAs"])("password")},firstName:{required:ne["required"]},lastName:{required:ne["required"]},email:{required:ne["required"],email:ne["email"]},phone:{numeric:ne["numeric"]},address:{}}},computed:{usernameErrors:function(){var e=[];return this.$v.user.username.$dirty?(!this.$v.user.username.minLength&&e.push("Username must be at least 5 characters long"),!this.$v.user.username.required&&e.push("Username is required."),e):e},passwordErrors:function(){var e=[];return this.$v.user.password.$dirty?(!this.$v.user.password.minLength&&e.push("Password must be at least 6 characters long"),!this.$v.user.password.required&&e.push("Password is required."),e):e},passwordConfirmationErrors:function(){var e=[];return this.$v.user.passwordConfirmation.$dirty?(!this.$v.user.passwordConfirmation.sameAs&&e.push("Passwords do not match."),!this.$v.user.passwordConfirmation.required&&e.push("Password confirmation is required."),e):e},firstNameErrors:function(){var e=[];return this.$v.user.firstName.$dirty?(!this.$v.user.firstName.required&&e.push("First Name is required."),e):e},lastNameErrors:function(){var e=[];return this.$v.user.lastName.$dirty?(!this.$v.user.lastName.required&&e.push("Last Name is required."),e):e},emailErrors:function(){var e=[];return this.$v.user.email.$dirty?(!this.$v.user.email.email&&e.push("E-mail invalid."),!this.$v.user.email.required&&e.push("Email is required."),e):e},phoneErrors:function(){var e=[];return this.$v.user.phone.$dirty?(!this.$v.user.phone.numeric&&e.push("Phone number invalid."),e):e},addressErrors:function(){var e=[];return e}},methods:{editUser:function(){var e=this;if(this.$v.$touch(),!this.$v.$invalid){delete this.user.passwordConfirmation;var t={headers:{Authorization:"Bearer "+localStorage.getItem("token")}};this.$axios.put("http://localhost:8080/api/registeredUsers/",this.user,t).then(function(t){e.$swal("Success","User profile edited successfuly","success"),e.$axios.post("http://localhost:8080/auth/login",e.user).then(function(t){void 0==t.data.accessToken?e.$swal("Login unsuccessful","Invalid credentials","error"):(localStorage.setItem("token",t.data.accessToken),localStorage.setItem("username",e.user.username),localStorage.setItem("role",t.data.role))}).catch(function(t){e.$swal("Login unsuccessful","Invalid credentials","error")})}).catch(function(t){console.log(t),e.$swal("Error",t.response.data.message,"error")})}},getAddressData:function(e){e&&(this.user.address=e.formatted_address)}},created:function(){var e=this,t={headers:{Authorization:"Bearer "+localStorage.getItem("token")}};this.$axios.get("http://localhost:8080/api/currentUser/",t).then(function(t){e.user=t.data}).catch(function(t){e.$swal("Error",t.response.data.message,"error")})}},hi=vi,mi=(a("2f26"),Object(h["a"])(hi,ui,di,!1,null,"d3047cfc",null)),pi=mi.exports;p()(mi,{VBtn:f["a"],VFlex:W["a"],VLayout:J["a"],VTextField:X["a"]});var fi={components:{"user-profile":Fs,"edit-user":pi},data:function(){return{}},methods:{},created:function(){}},gi=fi,bi=Object(h["a"])(gi,li,ci,!1,null,null,null),xi=bi.exports;p()(bi,{VContainer:he["a"],VLayout:J["a"]});var yi=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"view-airline-profile"},[a("v-container",{attrs:{"grid-list":""}},[a("airline-profile"),a("business-locations"),a("flights"),a("price-list"),a("quick-flight-reservations")],1)],1)},Ci=[],wi=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-flex",{staticClass:"d-flex"},[a("v-layout",{staticClass:"airline-data",attrs:{column:"","align-center":"","ma-4":""}},[a("v-avatar",{staticClass:"ma-2",attrs:{tile:!0,size:80}},[a("img",{attrs:{src:"https://www.airserbia.com/Data/Images/logo.png",alt:"avatar"}})]),a("h2",{staticClass:"text-xs-center"},[e._v(e._s(e.airline.name))]),a("span",{staticClass:"black--text text--lighten-2 caption mr-2"},[e._v("\n            ("+e._s(e.airline.averageFeedback)+")\n        ")]),a("v-rating",{attrs:{"background-color":"white",color:"yellow accent-4",dense:"","half-increments":"",hover:"",size:"18"},model:{value:e.airline.averageFeedback,callback:function(t){e.$set(e.airline,"averageFeedback",t)},expression:"airline.averageFeedback"}}),a("h3",{staticClass:"text-xs-center mb-1"},[e._v(e._s(e.airline.location.formattedAddress))]),a("p",{staticClass:"text-xs-center ma-1"},[e._v(e._s(e.airline.description))]),a("div",{staticClass:"text-xs-center"},[a("v-btn",{attrs:{round:"",small:"",flat:"",color:"primary",dark:""},on:{click:function(t){return e.redirectToEdit()}}},[e._v("Edit Airline Profile")]),a("v-divider"),a("v-btn",{attrs:{round:"",small:"",flat:"",color:"primary",dark:""},on:{click:function(t){return e.redirectToReports()}}},[e._v("Reports overview")])],1)],1),a("v-flex",[a("GmapMap",{staticClass:"custom-map",attrs:{center:e.currentMapCenter,zoom:14,"map-type-id":"terrain",options:{zoomControl:!0,mapTypeControl:!0,scaleControl:!1,streetViewControl:!1,rotateControl:!1,fullscreenControl:!1,disableDefaultUi:!1}}},[this.airline.location.latitude?a("GmapMarker",{attrs:{position:e.currentMapCenter,clickable:!1,draggable:!1}}):e._e()],1)],1)],1)},ki=[],_i={data:function(){return{airline:{name:"",description:"",location:{lat:21,lng:42,formattedAddress:""},averageFeedback:3.5},currentMapCenter:{lat:21,lng:42}}},methods:{redirectToEdit:function(){this.$router.push("editAirlineProfile")},redirectToReports:function(){this.$router.push("airlineReports")}},created:function(){var e=this,t={headers:{Authorization:"Bearer "+localStorage.getItem("token")}};this.$axios.get("http://localhost:8080/api/airlines/getCurrentAdminAirline",t).then(function(t){e.airline=t.data,e.airline.averageFeedback=3.5,e.currentMapCenter.lat=e.airline.location.latitude,e.currentMapCenter.lng=e.airline.location.longitude}).catch(function(t){e.$swal("Error",t.response.data.message,"error")})}},$i=_i,Si=(a("10d5"),Object(h["a"])($i,wi,ki,!1,null,"77f9d25b",null)),Di=Si.exports;p()(Si,{VAvatar:qs["a"],VBtn:f["a"],VDivider:dt["a"],VFlex:W["a"],VLayout:J["a"],VRating:Z["a"]});var Vi=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ma-3",attrs:{id:"airline-business-locations"}},[a("v-flex",[a("v-toolbar",[a("v-toolbar-title",[e._v("Business Locations")]),a("v-spacer"),a("v-dialog",{attrs:{persistent:"","max-width":"400px"},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on;return[a("v-btn",e._g({},s),[e._v("New Business Location")])]}}]),model:{value:e.showBusinessLocationDialog,callback:function(t){e.showBusinessLocationDialog=t},expression:"showBusinessLocationDialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v("Add Business Location")])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",[a("v-text-field",{attrs:{label:"Destination Name","error-messages":e.nameErrors},model:{value:e.newBusinessLocation.name,callback:function(t){e.$set(e.newBusinessLocation,"name",t)},expression:"newBusinessLocation.name"}})],1),a("v-flex",[a("v-text-field",{attrs:{label:"Airport Name","error-messages":e.airportNameErrors},model:{value:e.newBusinessLocation.airportName,callback:function(t){e.$set(e.newBusinessLocation,"airportName",t)},expression:"newBusinessLocation.airportName"}})],1),a("v-flex",[a("v-text-field",{attrs:{label:"Airport IATA Code",mask:"AAA","error-messages":e.airportCodeErrors},model:{value:e.newBusinessLocation.airportCode,callback:function(t){e.$set(e.newBusinessLocation,"airportCode",t)},expression:"newBusinessLocation.airportCode"}})],1),a("v-flex",[a("GmapAutocomplete",{staticClass:"custom-input-field",attrs:{value:e.newBusinessLocation.location.formattedAddress},on:{place_changed:e.getLocationData}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{flat:""},on:{click:e.close}},[e._v("Close")]),a("v-btn",{attrs:{flat:""},on:{click:e.save}},[e._v("Save")])],1)],1)],1)],1),a("v-list",{staticClass:"scroll-y",staticStyle:{height:"300px"},attrs:{"three-line":""}},[e._l(this.businessLocations,function(t){return[a("v-list-tile",{key:t.airportCode,staticClass:"ma-2"},[a("v-list-tile-content",[a("v-list-tile-title",{staticClass:"font-weight-bold"},[e._v(e._s(t.name))]),a("v-list-tile-sub-title",{staticClass:"font-weight-bold"},[e._v(e._s("Code: "+t.airportCode))]),a("v-list-tile-sub-title",{staticClass:"font-weight-bold"},[e._v(e._s("Airport Name: "+t.airportName))]),a("v-list-tile-sub-title",[e._v(e._s("Address: "+t.location.formattedAddress))])],1),a("v-icon",{staticClass:"mr-1",on:{click:function(a){return e.deleteBusinessLocation(t)}}},[e._v("\n                        delete\n                    ")]),a("v-icon",{staticClass:"mr-1",on:{click:function(a){return e.editBusinessLocation(t)}}},[e._v("\n                        edit\n                    ")])],1)]})],2)],1)],1)},Ii=[],Ti={mixins:[ie["validationMixin"]],validations:{newBusinessLocation:{name:{required:ne["required"]},airportName:{required:ne["required"]},airportCode:{required:ne["required"],minLength:Object(ne["minLength"])(3),maxLength:Object(ne["maxLength"])(3)}}},data:function(){return{showBusinessLocationDialog:!1,businessLocations:[],newBusinessLocation:{location:{}}}},computed:{nameErrors:function(){var e=[];return this.$v.newBusinessLocation.name.$dirty?(!this.$v.newBusinessLocation.name.required&&e.push("Name is required."),e):e},airportNameErrors:function(){var e=[];return this.$v.newBusinessLocation.airportName.$dirty?(!this.$v.newBusinessLocation.airportName.required&&e.push("Airport Name is required."),e):e},airportCodeErrors:function(){var e=[];return this.$v.newBusinessLocation.airportCode.$dirty?(!this.$v.newBusinessLocation.airportCode.minLength&&e.push("Airport Code must be 3 characters long."),!this.$v.newBusinessLocation.airportCode.maxLength&&e.push("Airport Code must be 3 characters long."),!this.$v.newBusinessLocation.airportCode.required&&e.push("Airport Code is required."),e):e}},methods:{getLocationData:function(e){e&&(this.newBusinessLocation.location=this.extractLocationData(e))},extractLocationData:function(e){var t={};return t.latitude=e.geometry.location.lat(),t.longitude=e.geometry.location.lng(),t.street=e.name,t.formattedAddress=e.formatted_address,e.address_components.forEach(function(e){e.types.includes("country")?t.country=e.long_name:e.types.includes("locality")&&(t.city=e.long_name)}),t},close:function(){this.$v.newBusinessLocation.$reset(),this.showBusinessLocationDialog=!1,this.newBusinessLocation={location:{}}},save:function(){var e=this;if(this.$v.newBusinessLocation.$touch(),!this.$v.newBusinessLocation.$invalid)if(this.newBusinessLocation.location.latitude){var t={headers:{Authorization:"Bearer "+localStorage.getItem("token")}};this.$axios.put("http://localhost:8080/api/airlines/addBusinessLocation/",this.newBusinessLocation,t).then(function(t){e.$swal("Success","Business location added successfuly","success"),e.businessLocations.push(e.newBusinessLocation),e.close()}).catch(function(t){e.$swal("Error",t.response.data.message,"error")})}else this.$swal("Error","Location is required.","warning")},deleteBusinessLocation:function(e){var t=this;this.$swal({title:"Are you sure?",text:"You can't revert your action",type:"warning",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No",confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",showCloseButton:!0}).then(function(a){if(a.value){var s=t.businessLocations.indexOf(e);t.businessLocations.splice(s,1);var i={headers:{Authorization:"Bearer "+localStorage.getItem("token")}};t.$axios.put("http://localhost:8080/api/airlines/removeBusinessLocation/",e,i).then(function(e){t.$swal("Success","Business location removed successfuly","success")}).catch(function(e){t.$swal("Error",e.response.data.message,"error")})}})},editBusinessLocation:function(e){}},created:function(){var e=this,t={headers:{Authorization:"Bearer "+localStorage.getItem("token")}};this.$axios.get("http://localhost:8080/api/airlines/getBusinessLocations",t).then(function(t){e.businessLocations=t.data}).catch(function(t){e.$swal("Error",t.response.data.message,"error")})}},Ai=Ti,Ri=(a("9ab5"),Object(h["a"])(Ai,Vi,Ii,!1,null,"b32e4b0c",null)),Ei=Ri.exports;p()(Ri,{VBtn:f["a"],VCard:U["a"],VCardActions:ve["a"],VCardText:ve["b"],VCardTitle:z["a"],VContainer:he["a"],VDialog:me["a"],VFlex:W["a"],VIcon:g["a"],VLayout:J["a"],VList:fe["a"],VListTile:ge["a"],VListTileContent:be["a"],VListTileSubTitle:be["b"],VListTileTitle:be["c"],VSpacer:b["a"],VTextField:X["a"],VToolbar:x["a"],VToolbarTitle:y["b"]});var Pi=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ma-3",attrs:{id:"airline-flights"}},[a("v-flex",[a("v-toolbar",[a("v-toolbar-title",[e._v("Flights")]),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on;return[a("v-btn",e._g({},s),[e._v("New Flight")])]}}]),model:{value:e.showFlightDialog,callback:function(t){e.showFlightDialog=t},expression:"showFlightDialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v("Add new flight")])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",md12:""}},[a("h2",{staticClass:"text-xs-left mb-4"},[e._v("Flight Data")])]),a("v-flex",[a("v-text-field",{attrs:{label:"Flight Number","prepend-icon":"public","error-messages":e.flightNumberErrors},on:{input:function(t){return e.$v.flightNumber.$touch()},blur:function(t){return e.$v.flightNumber.$touch()}},model:{value:e.flightNumber,callback:function(t){e.flightNumber=t},expression:"flightNumber"}})],1),a("v-flex",[a("v-autocomplete",{attrs:{items:e.businessLocations,label:"From","return-object":"","item-text":e.selectionItemText,"prepend-icon":"flight_takeoff",solo:""},model:{value:e.departure,callback:function(t){e.departure=t},expression:"departure"}})],1),a("v-flex",[a("v-autocomplete",{attrs:{items:e.businessLocations,label:"To","return-object":"","item-text":e.selectionItemText,"prepend-icon":"flight_land",solo:""},model:{value:e.destination,callback:function(t){e.destination=t},expression:"destination"}})],1),a("v-flex",[a("v-combobox",{attrs:{items:e.computedBusinessLocations,label:"Via",solo:"",chips:"",clearable:"","return-object":"",multiple:"","prepend-icon":"flight","item-text":e.selectionItemText},scopedSlots:e._u([{key:"selection",fn:function(t){return[a("v-chip",{attrs:{selected:t.selected,close:""},on:{input:function(a){return e.removeTransitDestination(t.item)}}},[e._v("\n                                                "+e._s(t.item.airportCode+" - "+t.item.name)+"\n                                            ")])]}}]),model:{value:e.transitDestinations,callback:function(t){e.transitDestinations=t},expression:"transitDestinations"}})],1),a("v-flex",{attrs:{xs12:"",md6:""}},[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on;return[a("v-text-field",e._g({attrs:{label:"Departure date","prepend-icon":"event",readonly:""},model:{value:e.departureDate,callback:function(t){e.departureDate=t},expression:"departureDate"}},s))]}}]),model:{value:e.showDepartureDateDialog,callback:function(t){e.showDepartureDateDialog=t},expression:"showDepartureDateDialog"}},[a("v-date-picker",{attrs:{min:e.minimalDepartureDate},on:{input:function(t){e.showDepartureDateDialog=!1}},model:{value:e.departureDate,callback:function(t){e.departureDate=t},expression:"departureDate"}})],1)],1),a("v-flex",{attrs:{xs12:"",md6:""}},[a("v-menu",{ref:"departureTimeMenu",attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":e.departureTime,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","max-width":"290px","min-width":"290px"},on:{"update:returnValue":function(t){e.departureTime=t},"update:return-value":function(t){e.departureTime=t}},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on;return[a("v-text-field",e._g({attrs:{label:"Departure Time","prepend-icon":"access_time",readonly:""},model:{value:e.departureTime,callback:function(t){e.departureTime=t},expression:"departureTime"}},s))]}}]),model:{value:e.showDepartureTimeMenu,callback:function(t){e.showDepartureTimeMenu=t},expression:"showDepartureTimeMenu"}},[e.showDepartureTimeMenu?a("v-time-picker",{attrs:{"full-width":""},on:{"click:minute":function(t){return e.$refs.departureTimeMenu.save(e.departureTime)}},model:{value:e.departureTime,callback:function(t){e.departureTime=t},expression:"departureTime"}}):e._e()],1)],1),a("v-flex",{attrs:{xs12:"",md6:""}},[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on;return[a("v-text-field",e._g({attrs:{label:"Arrival date","prepend-icon":"event",readonly:""},model:{value:e.arrivalDate,callback:function(t){e.arrivalDate=t},expression:"arrivalDate"}},s))]}}]),model:{value:e.showArrivalDateDialog,callback:function(t){e.showArrivalDateDialog=t},expression:"showArrivalDateDialog"}},[a("v-date-picker",{attrs:{min:e.minimalArrivalDate},on:{input:function(t){e.showArrivalDateDialog=!1}},model:{value:e.arrivalDate,callback:function(t){e.arrivalDate=t},expression:"arrivalDate"}})],1)],1),a("v-flex",{attrs:{xs12:"",md6:""}},[a("v-menu",{ref:"arrivalTimeMenu",attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":e.arrivalTime,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","max-width":"290px","min-width":"290px"},on:{"update:returnValue":function(t){e.arrivalTime=t},"update:return-value":function(t){e.arrivalTime=t}},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on;return[a("v-text-field",e._g({attrs:{label:"Arrival Time","prepend-icon":"access_time",readonly:""},model:{value:e.arrivalTime,callback:function(t){e.arrivalTime=t},expression:"arrivalTime"}},s))]}}]),model:{value:e.showArrivalTimeMenu,callback:function(t){e.showArrivalTimeMenu=t},expression:"showArrivalTimeMenu"}},[e.showArrivalTimeMenu?a("v-time-picker",{attrs:{"full-width":""},on:{"click:minute":function(t){return e.$refs.arrivalTimeMenu.save(e.arrivalTime)}},model:{value:e.arrivalTime,callback:function(t){e.arrivalTime=t},expression:"arrivalTime"}}):e._e()],1)],1),a("v-flex",[a("v-text-field",{attrs:{label:"Ticket Price","prepend-icon":"euro_symbol",type:"number",required:"","error-messages":e.ticketPriceErrors},on:{input:function(t){return e.$v.ticketPrice.$touch()},blur:function(t){return e.$v.ticketPrice.$touch()}},model:{value:e.ticketPrice,callback:function(t){e.ticketPrice=t},expression:"ticketPrice"}})],1),a("v-flex",{attrs:{xs12:"",md6:""}},[a("v-text-field",{attrs:{label:"Travel Distance (km)","prepend-icon":"swap_calls",readonly:""},model:{value:e.distance,callback:function(t){e.distance=t},expression:"distance"}})],1),a("v-flex",{attrs:{xs12:"",md6:""}},[a("v-text-field",{attrs:{label:"Flight Duration (min)","prepend-icon":"timelapse",readonly:""},model:{value:e.duration,callback:function(t){e.duration=t},expression:"duration"}})],1),a("v-flex",{attrs:{xs12:"",md12:""}},[a("h2",{staticClass:"text-xs-left my-4"},[e._v("Seat Management")])]),a("v-flex",{attrs:{xs12:"",md6:""}},[a("v-text-field",{attrs:{type:"number",label:"Rows","prepend-icon":"chevron_right",required:"","error-messages":e.rowsCountErrors},on:{input:function(t){return e.$v.rowsCount.$touch()},blur:function(t){return e.$v.rowsCount.$touch()}},model:{value:e.rowsCount,callback:function(t){e.rowsCount=t},expression:"rowsCount"}})],1),a("v-flex",{attrs:{xs12:"",md6:""}},[a("v-text-field",{attrs:{type:"number",label:"Columns","prepend-icon":"view_column",required:"","error-messages":e.columnsCountErrors},on:{input:function(t){return e.$v.columnsCount.$touch()},blur:function(t){return e.$v.columnsCount.$touch()}},model:{value:e.columnsCount,callback:function(t){e.columnsCount=t},expression:"columnsCount"}})],1),a("v-flex",[a("v-text-field",{attrs:{type:"number",label:"First Class Seats","prepend-icon":"airline_seat_legroom_extra","error-messages":e.firstClassSeatsCountErrors},on:{input:function(t){return e.$v.firstClassSeatsCount.$touch()},blur:function(t){return e.$v.firstClassSeatsCount.$touch()}},model:{value:e.firstClassSeatsCount,callback:function(t){e.firstClassSeatsCount=t},expression:"firstClassSeatsCount"}})],1),a("v-flex",[a("v-text-field",{attrs:{type:"number",label:"Business Class Seats","prepend-icon":"airline_seat_legroom_normal","error-messages":e.businessClassSeatsCountErrors},on:{input:function(t){return e.$v.businessClassSeatsCount.$touch()},blur:function(t){return e.$v.businessClassSeatsCount.$touch()}},model:{value:e.businessClassSeatsCount,callback:function(t){e.businessClassSeatsCount=t},expression:"businessClassSeatsCount"}})],1),a("v-flex",[a("v-text-field",{attrs:{type:"number",label:"Economic Class Seats","prepend-icon":"airline_seat_legroom_reduced","error-messages":e.ecoClassSeatsCountErrors},on:{input:function(t){return e.$v.ecoClassSeatsCount.$touch()},blur:function(t){return e.$v.ecoClassSeatsCount.$touch()}},model:{value:e.ecoClassSeatsCount,callback:function(t){e.ecoClassSeatsCount=t},expression:"ecoClassSeatsCount"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{flat:""},on:{click:e.close}},[e._v("Close")]),a("v-btn",{attrs:{flat:""},on:{click:e.save}},[e._v("Save")])],1)],1)],1)],1),a("edit-seats",{attrs:{showDialog:e.showEditSeatsLayoutDialog,receivedSeats:e.seats,flight:e.idToEditSeats},on:{isClosed:e.handleEditSeatsDialogClose}}),a("create-quick-reservation",{attrs:{showDialog:e.showCreateQuickReservationDialog,receivedSeats:e.seats,flight:e.idToEditSeats},on:{isClosed:e.handleCreateQuickReservationDialog}}),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.flights,servicePagination:e.flightsPagination},on:{"update:servicePagination":function(t){e.flightsPagination=t},"update:service-pagination":function(t){e.flightsPagination=t}},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",[e._v(e._s(t.item.flightNumber))]),a("td",[e._v(e._s(t.item.departure))]),a("td",[e._v(e._s(t.item.destination))]),a("td",[e._v(e._s(t.item.transitDestinations.length))]),a("td",[e._v(e._s(t.item.departureDate))]),a("td",[e._v(e._s(t.item.arrivalDate))]),a("td",[e._v(e._s(t.item.ticketPrice))]),a("td",[e._v(e._s(t.item.distance))]),a("td",[e._v(e._s(t.item.duration))]),a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return e.editSeatsLayout(t.item)}}},[e._v("\n                        airline_seat_legroom_normal\n                    ")]),a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return e.createQuickReservation(t.item)}}},[e._v("\n                        library_add\n                    ")]),a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return e.editFlight(t.item)}}},[e._v("\n                        edit\n                    ")]),a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return e.deleteFlight(t.item)}}},[e._v("\n                        delete\n                    ")])],1)]}}])}),a("div",{staticClass:"text-xs-center pt-2"},[a("v-pagination",{attrs:{length:e.flightsPages},model:{value:e.flightsPagination.page,callback:function(t){e.$set(e.flightsPagination,"page",t)},expression:"flightsPagination.page"}})],1)],1)],1)},Li=[],qi=(a("4f7f"),a("75fc")),Oi=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",{attrs:{row:"","justify-center":""}},[a("v-dialog",{attrs:{persistent:"","max-width":"800px"},model:{value:e.showDialog,callback:function(t){e.showDialog=t},expression:"showDialog"}},[a("v-card",[a("v-toolbar",{attrs:{dark:"",color:"primary"}},[a("v-btn",{attrs:{icon:"",dark:""},on:{click:function(t){return e.closeThisDialog()}}},[a("v-icon",[e._v("close")])],1),a("v-toolbar-title",[e._v("Edit Seats Layout")]),a("v-spacer"),a("v-toolbar-items",[a("v-btn",{attrs:{dark:"",flat:""},on:{click:function(t){return e.submitChanges()}}},[e._v("Save")])],1)],1),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{row:"","align-start":"","justify-center":""}},[a("v-item-group",{attrs:{multiple:""}},[e.lastRowIsFull?a("table",[a("thead",[a("tr",[a("th"),e._l(e.columns,function(t){return a("th",{key:t},[e._v("\r\n                                        "+e._s(String.fromCharCode(64+t))+"\r\n                                    ")])})],2)]),e._l(e.rows,function(t){return a("tr",{key:t},[a("td",[e._v(e._s(t))]),e._l(e.columns,function(s){return a("td",{key:s},[a("v-item",[a("v-card",{staticClass:"d-flex align-center",attrs:{hover:"",selected:e.seats[(t-1)*e.columns+s-1].isSelected,color:e.calculateColor((t-1)*e.columns+s-1),dark:"",height:"50",width:"50"},on:{click:function(a){e.clickOnSeat((t-1)*e.columns+s-1)}}},[a("v-scroll-y-transition",[a("div",{staticClass:"text-xs-center"},[e._v("\r\n                                                    "+e._s(e.seats[(t-1)*e.columns+s-1].red+String.fromCharCode(64+e.seats[(t-1)*e.columns+s-1].kolona))+"\r\n                                                ")])])],1)],1)],1)})],2)})],2):e._e()]),a("v-layout",{attrs:{column:"","align-start":"","justify-start":"","fill-height":""}},[a("h2",{staticClass:"ma-4"},[e._v("Actions:")]),a("v-layout",{staticClass:"mx-4",attrs:{row:""}},[a("v-btn",{attrs:{raised:"",block:""},on:{click:function(t){return e.addNewSeatRow()}}},[a("v-icon",{attrs:{left:""}},[e._v("library_add")]),e._v("Add Row")],1)],1),a("v-layout",{staticClass:"mx-4",attrs:{row:""}},[a("v-btn",{attrs:{raised:"",block:""},on:{click:function(t){return e.activateSelectedSeats()}}},[a("v-icon",{attrs:{left:""}},[e._v("touch_app")]),e._v("Activate")],1)],1),a("v-layout",{staticClass:"mx-4",attrs:{row:""}},[a("v-btn",{attrs:{raised:"",block:""},on:{click:function(t){return e.deleteSelectedSeats()}}},[a("v-icon",{attrs:{left:""}},[e._v("block")]),e._v("Deactivate")],1)],1),a("v-layout",{staticClass:"mx-4",attrs:{row:""}},[a("v-btn",{attrs:{raised:"",block:""},on:{click:function(t){return e.assignFirstClass()}}},[e._v("Assign First Class")])],1),a("v-layout",{staticClass:"mx-4",attrs:{row:""}},[a("v-btn",{attrs:{raised:"",block:""},on:{click:function(t){return e.assignBusinessClass()}}},[e._v("Assign Business Class")])],1),a("v-layout",{staticClass:"mx-4",attrs:{row:""}},[a("v-btn",{attrs:{raised:"",block:""},on:{click:function(t){return e.assignEconomicClass()}}},[e._v("Assign Economic Class")])],1),a("h2",{staticClass:"ma-4"},[e._v("Legend:")]),a("v-layout",{staticClass:"mx-4",attrs:{row:""}},[a("v-card",{staticClass:"ma-2",attrs:{color:"deep-purple lighten-1",dark:"",height:"30",width:"30","ma-4":""}}),a("v-card",{staticClass:"ma-2",attrs:{flat:"",height:"30",width:"250"}},[e._v("First class seats")])],1),a("v-layout",{staticClass:"mx-4",attrs:{row:""}},[a("v-card",{staticClass:"ma-2",attrs:{color:"blue lighten-1",dark:"",height:"30",width:"30","ma-4":""}}),a("v-card",{staticClass:"ma-2",attrs:{flat:"",height:"30",width:"250"}},[e._v("Business class seats")])],1),a("v-layout",{staticClass:"mx-4",attrs:{row:""}},[a("v-card",{staticClass:"ma-2",attrs:{color:"grey darken-3",dark:"",height:"30",width:"30","ma-4":""}}),a("v-card",{staticClass:"ma-2",attrs:{flat:"",height:"30",width:"250"}},[e._v("Economy class seats")])],1),a("v-layout",{staticClass:"mx-4",attrs:{row:""}},[a("v-card",{staticClass:"ma-2",attrs:{color:"green",dark:"",height:"30",width:"30","ma-4":""}}),a("v-card",{staticClass:"ma-2",attrs:{flat:"",height:"30",width:"250"}},[e._v("Selected seats")])],1),a("v-layout",{staticClass:"mx-4",attrs:{row:""}},[a("v-card",{staticClass:"ma-2",attrs:{color:"red lighten-4",dark:"",height:"30",width:"30","ma-4":""}}),a("v-card",{staticClass:"ma-2",attrs:{flat:"",height:"30",width:"250"}},[e._v("Inactive seats")])],1)],1)],1)],1)],1)],1)],1)],1)},Fi=[],Ni=(a("55dd"),a("c5f6"),{props:{showDialog:Boolean,receivedSeats:Array,flight:Number},data:function(){return{seats:[],showThisDialog:!1}},computed:{rows:function(){return this.lastSeat?this.lastSeat.red:0},columns:function(){for(var e=0;e<this.seats.length;e++)if(2==this.seats[e].red)return this.seats[e-1].kolona;return this.seats.length},lastRowIsFull:function(){return 0!=this.seats.length&&this.seats.length==this.rows*this.columns},lastSeat:function(){if(0!=this.seats.length)return this.seats[this.seats.length-1]}},methods:{calculateColor:function(e){var t=this.seats[e];if(!t.isReserved&&!t.isActive)return t.isSelected?"yellow":"red lighten-4";if(t.isReserved||!t.isActive){if("FIRST_CLASS"==t.segmentClass)return"deep-purple lighten-4";if("BUSINESS_CLASS"==t.segmentClass)return"blue lighten-4";if("ECONOMIC_CLASS"==t.segmentClass)return"grey lighten-1"}else{if(t.isSelected)return"green";if("FIRST_CLASS"==t.segmentClass)return"deep-purple lighten-1";if("BUSINESS_CLASS"==t.segmentClass)return"blue lighten-1";if("ECONOMIC_CLASS"==t.segmentClass)return"grey darken-3"}},clickOnSeat:function(e){this.seats[e].isSelected=!this.seats[e].isSelected},addNewSeatRow:function(){var e=this.lastSeat.kolona;if(40!=this.lastSeat.red)for(var t=0;t<e;t++){var a=this.lastSeat.red,s=this.lastSeat.kolona+1;this.lastRowIsFull&&(a+=1,s=1);var i={red:a,kolona:s,segmentClass:"ECONOMIC_CLASS",isReserved:!1,isSelected:!1,isActive:!0};this.seats.push(i)}else this.$swal("Error","Maximum number of rows reached.","error")},deleteSelectedSeats:function(){for(var e=0;e<this.seats.length;e++)this.seats[e].isSelected&&(this.seats[e].isActive=!1,this.seats[e].isSelected=!1)},activateSelectedSeats:function(){for(var e=0;e<this.seats.length;e++)this.seats[e].isSelected&&(this.seats[e].isActive=!0,this.seats[e].isSelected=!1)},assignFirstClass:function(){for(var e=0;e<this.seats.length;e++)this.seats[e].isSelected&&(this.seats[e].segmentClass="FIRST_CLASS",this.seats[e].isSelected=!1)},assignBusinessClass:function(){for(var e=0;e<this.seats.length;e++)this.seats[e].isSelected&&(this.seats[e].segmentClass="BUSINESS_CLASS",this.seats[e].isSelected=!1)},assignEconomicClass:function(){for(var e=0;e<this.seats.length;e++)this.seats[e].isSelected&&(this.seats[e].segmentClass="ECONOMIC_CLASS",this.seats[e].isSelected=!1)},compare:function(e,t){var a=e.red,s=t.red,i=e.kolona,r=t.kolona,n=0;return a>s?n=1:a<s?n=-1:i>r?n=1:i<r&&(n=-1),n},submitChanges:function(){var e=this,t={updatedSeatsList:this.seats,flightId:this.flight},a={headers:{Authorization:"Bearer "+localStorage.getItem("token")}};this.$axios.post("http://localhost:8080/api/flights/updateFlightSeats",t,a).then(function(t){e.$swal("Success","Updated seating layout","success")}).catch(function(t){e.$swal("Error",t.response.data.message,"error")})},closeThisDialog:function(){this.seats=[],this.showThisDialog=!1,this.$emit("isClosed",this.showThisDialog)}},beforeUpdate:function(){if(this.showDialog){if(0!=this.receivedSeats.length&&0==this.seats.length){var e=Object(qi["a"])(this.receivedSeats);this.seats=e.sort(this.compare),this.showThisDialog=this.showDialog}}else this.closeThisDialog()}}),Bi=Ni,ji=(a("1f55"),Object(h["a"])(Bi,Oi,Fi,!1,null,"17e31676",null)),Mi=ji.exports;p()(ji,{VBtn:f["a"],VCard:U["a"],VCardText:ve["b"],VContainer:he["a"],VDialog:me["a"],VIcon:g["a"],VItem:Q["a"],VItemGroup:G["b"],VLayout:J["a"],VScrollYTransition:rs["e"],VSpacer:b["a"],VToolbar:x["a"],VToolbarItems:y["a"],VToolbarTitle:y["b"]});var Ui=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",{attrs:{row:"","justify-center":""}},[a("v-dialog",{attrs:{persistent:"","max-width":"800px"},model:{value:e.showDialog,callback:function(t){e.showDialog=t},expression:"showDialog"}},[a("v-card",[a("v-toolbar",{attrs:{dark:"",color:"primary"}},[a("v-btn",{attrs:{icon:"",dark:""},on:{click:function(t){return e.closeThisDialog()}}},[a("v-icon",[e._v("close")])],1),a("v-toolbar-title",[e._v("Create quick flight reservation")]),a("v-spacer"),a("v-toolbar-items",[a("v-btn",{attrs:{dark:"",flat:""},on:{click:function(t){return e.submitChanges()}}},[e._v("Save")])],1)],1),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{row:"","align-start":"","justify-center":""}},[a("v-item-group",{attrs:{multiple:""}},[e.lastRowIsFull?a("table",[a("thead",[a("tr",[a("th"),e._l(e.columns,function(t){return a("th",{key:t},[e._v("\n                                            "+e._s(String.fromCharCode(64+t))+"\n                                        ")])})],2)]),e._l(e.rows,function(t){return a("tr",{key:t},[a("td",[e._v(e._s(t))]),e._l(e.columns,function(s){return a("td",{key:s},[a("v-item",[a("v-card",{staticClass:"d-flex align-center",attrs:{hover:"",selected:e.seats[(t-1)*e.columns+s-1].isSelected,color:e.calculateColor((t-1)*e.columns+s-1),dark:"",height:"50",width:"50"},on:{click:function(a){e.clickOnSeat((t-1)*e.columns+s-1)}}},[a("v-scroll-y-transition",[a("div",{staticClass:"text-xs-center"},[e._v("\n                                                        "+e._s(e.seats[(t-1)*e.columns+s-1].red+String.fromCharCode(64+e.seats[(t-1)*e.columns+s-1].kolona))+"\n                                                    ")])])],1)],1)],1)})],2)})],2):e._e()]),a("v-layout",{attrs:{column:"","align-start":"","justify-start":"","fill-height":""}},[a("v-layout",{staticClass:"mx-4",attrs:{row:""}},[a("v-text-field",{attrs:{label:"Discount (%)","prepend-icon":"trending_down","error-messages":e.discountErrors},on:{input:function(t){return e.$v.discount.$touch()},blur:function(t){return e.$v.discount.$touch()}},model:{value:e.discount,callback:function(t){e.discount=t},expression:"discount"}})],1),a("h2",{staticClass:"ma-4"},[e._v("Legend:")]),a("v-layout",{staticClass:"mx-4",attrs:{row:""}},[a("v-card",{staticClass:"ma-2",attrs:{color:"deep-purple lighten-1",dark:"",height:"30",width:"30","ma-4":""}}),a("v-card",{staticClass:"ma-2",attrs:{flat:"",height:"30",width:"250"}},[e._v("First class seats")])],1),a("v-layout",{staticClass:"mx-4",attrs:{row:""}},[a("v-card",{staticClass:"ma-2",attrs:{color:"blue lighten-1",dark:"",height:"30",width:"30","ma-4":""}}),a("v-card",{staticClass:"ma-2",attrs:{flat:"",height:"30",width:"250"}},[e._v("Business class seats")])],1),a("v-layout",{staticClass:"mx-4",attrs:{row:""}},[a("v-card",{staticClass:"ma-2",attrs:{color:"grey darken-3",dark:"",height:"30",width:"30","ma-4":""}}),a("v-card",{staticClass:"ma-2",attrs:{flat:"",height:"30",width:"250"}},[e._v("Economy class seats")])],1),a("v-layout",{staticClass:"mx-4",attrs:{row:""}},[a("v-card",{staticClass:"ma-2",attrs:{color:"green",dark:"",height:"30",width:"30","ma-4":""}}),a("v-card",{staticClass:"ma-2",attrs:{flat:"",height:"30",width:"250"}},[e._v("Selected seats")])],1),a("v-layout",{staticClass:"mx-4",attrs:{row:""}},[a("v-card",{staticClass:"ma-2",attrs:{color:"red lighten-4",dark:"",height:"30",width:"30","ma-4":""}}),a("v-card",{staticClass:"ma-2",attrs:{flat:"",height:"30",width:"250"}},[e._v("Inactive seats")])],1)],1)],1)],1)],1)],1)],1)],1)},zi=[],Hi={props:{showDialog:Boolean,receivedSeats:Array,flight:Number},mixins:[ie["validationMixin"]],data:function(){return{seats:[],showThisDialog:!1,selectedSeatsCount:0,selectedSeatId:0,discount:0}},validations:{discount:{required:ne["required"],numeric:ne["numeric"],between:Object(ne["between"])(1,80)}},computed:{discountErrors:function(){var e=[];return this.$v.discount.$dirty?(!this.$v.discount.numeric&&e.push("Discount value invalid."),!this.$v.discount.required&&e.push("Discount is required."),!this.$v.discount.between&&e.push("Discount out of specified range."),e):e},rows:function(){return this.lastSeat?this.lastSeat.red:0},columns:function(){for(var e=0;e<this.seats.length;e++)if(2==this.seats[e].red)return this.seats[e-1].kolona;return this.seats.length},lastRowIsFull:function(){return 0!=this.seats.length&&this.seats.length==this.rows*this.columns},lastSeat:function(){if(0!=this.seats.length)return this.seats[this.seats.length-1]}},methods:{calculateColor:function(e){var t=this.seats[e];if(!t.isReserved&&!t.isActive)return t.isSelected?"yellow":"red lighten-4";if(t.isReserved||!t.isActive){if("FIRST_CLASS"==t.segmentClass)return"deep-purple lighten-4";if("BUSINESS_CLASS"==t.segmentClass)return"blue lighten-4";if("ECONOMIC_CLASS"==t.segmentClass)return"grey lighten-1"}else{if(t.isSelected)return"green";if("FIRST_CLASS"==t.segmentClass)return"deep-purple lighten-1";if("BUSINESS_CLASS"==t.segmentClass)return"blue lighten-1";if("ECONOMIC_CLASS"==t.segmentClass)return"grey darken-3"}},clickOnSeat:function(e){!this.seats[e].isReserved&&this.seats[e].isActive&&(0!=this.selectedSeatsCount||this.seats[e].isSelected?1==this.selectedSeatsCount&&this.seats[e].isSelected&&(this.selectedSeatsCount=0,this.seats[e].isSelected=!1,this.selectedSeatId=0):(this.selectedSeatsCount=1,this.seats[e].isSelected=!0,this.selectedSeatId=this.seats[e].id))},compare:function(e,t){var a=e.red,s=t.red,i=e.kolona,r=t.kolona,n=0;return a>s?n=1:a<s?n=-1:i>r?n=1:i<r&&(n=-1),n},submitChanges:function(){var e=this,t={seatId:this.selectedSeatId,discount:this.discount},a={headers:{Authorization:"Bearer "+localStorage.getItem("token")}};this.$axios.post("http://localhost:8080/api/flights/quickFlightReservation",t,a).then(function(t){e.$swal("Success","Quick flight reservation created.","success")}).catch(function(t){e.$swal("Error",t.response.data.message,"error")})},closeThisDialog:function(){this.seats=[],this.showThisDialog=!1,this.selectedSeatsCount=0,this.selectedSeatId=0,this.$emit("isClosed",this.showThisDialog)}},beforeUpdate:function(){if(this.showDialog){if(0!=this.receivedSeats.length&&0==this.seats.length){var e=Object(qi["a"])(this.receivedSeats);this.seats=e.sort(this.compare),this.showThisDialog=this.showDialog}}else this.closeThisDialog()}},Wi=Hi,Yi=(a("b21a"),Object(h["a"])(Wi,Ui,zi,!1,null,"042bf259",null)),Qi=Yi.exports;p()(Yi,{VBtn:f["a"],VCard:U["a"],VCardText:ve["b"],VContainer:he["a"],VDialog:me["a"],VIcon:g["a"],VItem:Q["a"],VItemGroup:G["b"],VLayout:J["a"],VScrollYTransition:rs["e"],VSpacer:b["a"],VTextField:X["a"],VToolbar:x["a"],VToolbarItems:y["a"],VToolbarTitle:y["b"]});var Gi=a("92e0"),Ji=function(e,t){var a=/^[A-Z]{2}\d{3,4}$/g;return a.test(e)},Ki={name:"flights",mixins:[ie["validationMixin"]],components:{"edit-seats":Mi,"create-quick-reservation":Qi},data:function(){return{headers:[{text:"Flight Number",align:"left",sortable:!0,value:"flightNumber"},{text:"From",align:"left",sortable:!0,value:"departure"},{text:"To",align:"left",sortable:!0,value:"destination"},{text:"Transit count",align:"left",sortable:!0,value:"transitCount"},{text:"Departure Date & Time",align:"left",sortable:!0,value:"departureDateTime"},{text:"Arrival Date & Time",align:"left",sortable:!0,value:"arrivalDateTime"},{text:"Ticket Price",align:"left",sortable:!0,value:"ticketPrice"},{text:"Distance (km)",align:"left",sortable:!0,value:"distance"},{text:"Duration (min)",align:"left",sortable:!0,value:"duration"}],flightsPagination:{},flightForSeats:void 0,flights:[],businessLocations:[],showFlightDialog:!1,showEditSeatsLayoutDialog:!1,showCreateQuickReservationDialog:!1,seats:[],idToEditSeats:void 0,flightNumber:null,departure:null,destination:null,transitDestinations:[],ticketPrice:null,showDepartureDateDialog:!1,departureDate:null,showDepartureTimeMenu:!1,departureTime:null,showArrivalDateDialog:!1,arrivalDate:null,showArrivalTimeMenu:!1,arrivalTime:null,rowsCount:0,columnsCount:0,firstClassSeatsCount:0,businessClassSeatsCount:0,ecoClassSeatsCount:0}},validations:{flightNumber:{required:ne["required"],flightNumberFormat:Ji},ticketPrice:{required:ne["required"],numeric:ne["numeric"],between:Object(ne["between"])(5,99999)},rowsCount:{required:ne["required"],numeric:ne["numeric"],between:Object(ne["between"])(1,40)},columnsCount:{required:ne["required"],numeric:ne["numeric"],between:Object(ne["between"])(2,10)},firstClassSeatsCount:{required:ne["required"],numeric:ne["numeric"],between:Object(ne["between"])(0,400)},businessClassSeatsCount:{required:ne["required"],numeric:ne["numeric"],between:Object(ne["between"])(0,400)},ecoClassSeatsCount:{required:ne["required"],numeric:ne["numeric"],between:Object(ne["between"])(0,400)}},computed:{flightNumberErrors:function(){var e=[];return this.$v.flightNumber.$dirty?(!this.$v.flightNumber.required&&e.push("Flight Number is required."),!this.$v.flightNumber.flightNumberFormat&&e.push("Flight Number invalid"),e):e},ticketPriceErrors:function(){var e=[];return this.$v.ticketPrice.$dirty?(!this.$v.ticketPrice.numeric&&e.push("Ticket price value invalid."),!this.$v.ticketPrice.required&&e.push("Ticket price is required."),!this.$v.ticketPrice.between&&e.push("Ticket price value out of specified range."),e):e},rowsCountErrors:function(){var e=[];return this.$v.rowsCount.$dirty?(!this.$v.rowsCount.numeric&&e.push("Rows count value invalid."),!this.$v.rowsCount.required&&e.push("Rows count is required."),!this.$v.rowsCount.between&&e.push("Rows count value out of specified range."),e):e},columnsCountErrors:function(){var e=[];return this.$v.columnsCount.$dirty?(!this.$v.columnsCount.numeric&&e.push("Columns count value invalid."),!this.$v.columnsCount.required&&e.push("Columns count is required."),!this.$v.columnsCount.between&&e.push("Columns count value out of specified range."),e):e},firstClassSeatsCountErrors:function(){var e=[];return this.$v.firstClassSeatsCount.$dirty?(!this.$v.firstClassSeatsCount.numeric&&e.push("First Class Seats count value invalid."),!this.$v.firstClassSeatsCount.required&&e.push("First Class Seats count is required."),!this.$v.firstClassSeatsCount.between&&e.push("First Class Seats count value out of specified range."),e):e},businessClassSeatsCountErrors:function(){var e=[];return this.$v.businessClassSeatsCount.$dirty?(!this.$v.businessClassSeatsCount.numeric&&e.push("Business Class Seats count value invalid."),!this.$v.businessClassSeatsCount.required&&e.push("Business Class Seats count is required."),!this.$v.businessClassSeatsCount.between&&e.push("Business Class Seats count value out of specified range."),e):e},ecoClassSeatsCountErrors:function(){var e=[];return this.$v.ecoClassSeatsCount.$dirty?(!this.$v.ecoClassSeatsCount.numeric&&e.push("Economic Class Seats count value invalid."),!this.$v.ecoClassSeatsCount.required&&e.push("Economic Class Seats count is required."),!this.$v.ecoClassSeatsCount.between&&e.push("Economic Class Seats count value out of specified range."),e):e},flightsPages:function(){},computedBusinessLocations:function(){var e=this,t=this.businessLocations;return this.departure&&(t=t.filter(function(t){return t.airportCode!=e.departure.airportCode})),this.destination&&(t=t.filter(function(t){return t.airportCode!=e.destination.airportCode})),t},minimalDepartureDate:function(){var e=new Date,t=new Date;return t.setDate(e.getDate()+1),t.toISOString().substr(0,10)},minimalArrivalDate:function(){return this.departureDate},distance:function(){if(this.departure&&this.destination){var e={latitude:this.departure.location.latitude,longitude:this.departure.location.longitude},t={latitude:this.destination.location.latitude,longitude:this.destination.location.longitude};if(0==this.transitDestinations.length)return Math.round(Gi(e,t));var a=0;a+=Gi(e,{latitude:this.transitDestinations[0].location.latitude,longitude:this.transitDestinations[0].location.longitude});for(var s=1;s<=this.transitDestinations.length-2;s++)a+=Gi({latitude:this.transitDestinations[s-1].location.latitude,longitude:this.transitDestinations[s-1].location.longitude},{latitude:this.transitDestinations[s].location.latitude,longitude:this.transitDestinations[s].location.longitude});return a+=Gi({latitude:this.transitDestinations[this.transitDestinations.length-1].location.latitude,longitude:this.transitDestinations[this.transitDestinations.length-1].location.longitude},t),Math.round(a)}return 0},duration:function(){var e=this.$moment(this.departureDate+" "+this.departureTime,"YYYY-MM-DD HH:mm"),t=this.$moment(this.arrivalDate+" "+this.arrivalTime,"YYYY-MM-DD HH:mm"),a=t.diff(e,"minutes")>=0?t.diff(e,"minutes"):0;return a},totalSeatsCount:function(){return this.columnsCount*this.rowsCount},actualSeatsCount:function(){return parseInt(this.firstClassSeatsCount)+parseInt(this.businessClassSeatsCount)+parseInt(this.ecoClassSeatsCount)}},methods:{selectionItemText:function(e){return e.airportCode+" - "+e.name},removeTransitDestination:function(e){this.transitDestinations.splice(this.transitDestinations.indexOf(e),1),this.transitDestinations=Object(qi["a"])(this.transitDestinations)},close:function(){this.$v.$reset(),this.showFlightDialog=!1,this.flightNumber=null,this.departure=null,this.destination=null,this.transitDestinations=[],this.ticketPrice=null,this.showDepartureDateDialog=!1,this.departureDate=null,this.showDepartureTimeMenu=!1,this.departureTime=null,this.showArrivalDateDialog=!1,this.arrivalDate=null,this.showArrivalTimeMenu=!1,this.arrivalTime=null,this.rowsCount=0,this.columnsCount=0,this.firstClassSeatsCount=0,this.businessClassSeatsCount=0,this.ecoClassSeatsCount=0},save:function(){var e=this;if(this.$v.$touch(),!this.$v.$invalid){var t=[];if(!this.departure)return void this.$swal("Error","Invalid departure","warning");if(t.push(this.departure.airportCode),!this.destination)return void this.$swal("Error","Invalid destination","warning");t.push(this.destination.airportCode);for(var a=0;a<=this.transitDestinations.length-1;a++)t.push(this.transitDestinations[a].airportCode);if(t.length!==new Set(t).size)return void this.$swal("Error","Invalid transit data","warning");if(this.duration<=0)return void this.$swal("Error","Invalid dates and times","warning");if(this.totalSeatsCount>this.actualSeatsCount)return void this.$swal("Error","Invalid number of seats: not all seats have a class","warning");if(this.totalSeatsCount<this.actualSeatsCount)return void this.$swal("Error","Invalid number of seats: number of seats exceeds the given column/row count","warning");var s={flightNumber:this.flightNumber,departure:this.departure.name,destination:this.destination.name,transitDestinations:[],ticketPrice:this.ticketPrice,departureDate:this.departureDate+" "+this.departureTime,arrivalDate:this.arrivalDate+" "+this.arrivalTime,duration:this.duration,distance:this.distance,rowsCount:this.rowsCount,columnsCount:this.columnsCount,firstClassSeatsCount:this.firstClassSeatsCount,businessClassSeatsCount:this.businessClassSeatsCount,ecoClassSeatsCount:this.ecoClassSeatsCount};for(a=0;a<this.transitDestinations.length;a++)s.transitDestinations.push(this.transitDestinations[a].name);var i={headers:{Authorization:"Bearer "+localStorage.getItem("token")}};this.$axios.post("http://localhost:8080/api/flights/addFlight/",s,i).then(function(t){e.$swal("Successfull","New flight created successfully.","success"),s.id=t.data.id,e.flights.push(s),e.close()}).catch(function(t){e.$swal("Error",t.response.data.message,"error")})}},editFlight:function(e){},deleteFlight:function(e){},editSeatsLayout:function(e){var t=this,a={headers:{Authorization:"Bearer "+localStorage.getItem("token")}};this.$axios.post("http://localhost:8080/api/flights/getFlightSeats",e,a).then(function(a){t.seats=a.data,t.idToEditSeats=e.id,t.showEditSeatsLayoutDialog=!0}).catch(function(e){t.$swal("Error",e.response.data.message,"error")})},createQuickReservation:function(e){var t=this,a={headers:{Authorization:"Bearer "+localStorage.getItem("token")}};this.$axios.post("http://localhost:8080/api/flights/getFlightSeats",e,a).then(function(a){t.seats=a.data,t.idToEditSeats=e.id,t.showCreateQuickReservationDialog=!0}).catch(function(e){t.$swal("Error",e.response.data.message,"error")})},handleEditSeatsDialogClose:function(e){this.showEditSeatsLayoutDialog=e},handleCreateQuickReservationDialog:function(e){this.showCreateQuickReservationDialog=e}},created:function(){var e=this,t={headers:{Authorization:"Bearer "+localStorage.getItem("token")}};this.$axios.get("http://localhost:8080/api/flights/getFlights",t).then(function(t){e.flights=t.data;var a={headers:{Authorization:"Bearer "+localStorage.getItem("token")}};e.$axios.get("http://localhost:8080/api/airlines/getBusinessLocations",a).then(function(t){e.businessLocations=t.data}).catch(function(t){e.$swal("Error",t.response.data.message,"error")})}).catch(function(t){e.$swal("Error",t.response.data.message,"error")})}},Zi=Ki,Xi=a("c6a6"),er=a("cc20"),tr=a("2b5d"),ar=a("c964"),sr=Object(h["a"])(Zi,Pi,Li,!1,null,null,null),ir=sr.exports;p()(sr,{VAutocomplete:Xi["a"],VBtn:f["a"],VCard:U["a"],VCardActions:ve["a"],VCardText:ve["b"],VCardTitle:z["a"],VChip:er["a"],VCombobox:tr["a"],VContainer:he["a"],VDataTable:De["a"],VDatePicker:H["a"],VDialog:me["a"],VFlex:W["a"],VIcon:g["a"],VLayout:J["a"],VMenu:K["a"],VPagination:je["a"],VSpacer:b["a"],VTextField:X["a"],VTimePicker:ar["a"],VToolbar:x["a"],VToolbarTitle:y["b"]});var rr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ma-3",attrs:{id:"airline-pricelist"}},[a("v-flex",[a("v-toolbar",[a("v-toolbar-title",[e._v("Price List")]),a("v-spacer"),a("v-dialog",{attrs:{persistent:"","max-width":"400px"},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on;return[a("v-btn",e._g({},s),[e._v("New Price List Item")])]}}]),model:{value:e.showDialog,callback:function(t){e.showDialog=t},expression:"showDialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v("Add Price List Item")])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",[a("v-text-field",{attrs:{label:"Item Name","error-messages":e.nameErrors},model:{value:e.newPriceListItem.name,callback:function(t){e.$set(e.newPriceListItem,"name",t)},expression:"newPriceListItem.name"}})],1),a("v-flex",[a("v-text-field",{attrs:{label:"Price",type:"number","error-messages":e.priceErrors},model:{value:e.newPriceListItem.price,callback:function(t){e.$set(e.newPriceListItem,"price",t)},expression:"newPriceListItem.price"}})],1),a("v-flex",[a("v-text-field",{attrs:{label:"Description","error-messages":e.descriptionErrors},model:{value:e.newPriceListItem.description,callback:function(t){e.$set(e.newPriceListItem,"description",t)},expression:"newPriceListItem.description"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{flat:""},on:{click:e.close}},[e._v("Close")]),a("v-btn",{attrs:{flat:""},on:{click:e.save}},[e._v("Save")])],1)],1)],1)],1),a("v-list",{staticClass:"scroll-y",staticStyle:{height:"200px"},attrs:{"three-line":""}},[e._l(this.priceListItems,function(t){return[a("v-list-tile",{key:t.id,staticClass:"ma-2"},[a("v-list-tile-content",[a("v-list-tile-title",{staticClass:"font-weight-bold"},[e._v(e._s(t.name))]),a("v-list-tile-sub-title",{staticClass:"font-weight-bold"},[e._v(e._s("Price: "+t.price))]),a("v-list-tile-sub-title",{staticClass:"font-weight-bold"},[e._v(e._s("Description: "+t.description))])],1),a("v-icon",{staticClass:"mr-1",on:{click:function(a){return e.deletePriceListItem(t)}}},[e._v("\n                        delete\n                    ")]),a("v-icon",{staticClass:"mr-1",on:{click:function(a){return e.editPriceListItem(t)}}},[e._v("\n                        edit\n                    ")])],1)]})],2)],1)],1)},nr=[],or={mixins:[ie["validationMixin"]],validations:{newPriceListItem:{name:{required:ne["required"]},price:{required:ne["required"]},description:{required:ne["required"]}}},data:function(){return{showDialog:!1,priceListItems:[],newPriceListItem:{}}},computed:{nameErrors:function(){var e=[];return this.$v.newPriceListItem.name.$dirty?(!this.$v.newPriceListItem.name.required&&e.push("Name is required."),e):e},priceErrors:function(){var e=[];return this.$v.newPriceListItem.price.$dirty?(!this.$v.newPriceListItem.price.required&&e.push("Price is required."),e):e},descriptionErrors:function(){var e=[];return this.$v.newPriceListItem.description.$dirty?(!this.$v.newPriceListItem.description.required&&e.push("Description is required."),e):e}},methods:{close:function(){this.$v.newPriceListItem.$reset(),this.showDialog=!1,this.newPriceListItem={}},save:function(){var e=this;if(this.$v.newPriceListItem.$touch(),!this.$v.newPriceListItem.$invalid){var t={headers:{Authorization:"Bearer "+localStorage.getItem("token")}};this.$axios.put("http://localhost:8080/api/airlines/addPriceListItem/",this.newPriceListItem,t).then(function(t){e.$swal("Success","Item added successfuly","success"),e.priceListItems.push(e.newPriceListItem),e.close()}).catch(function(t){e.$swal("Error",t.response.data.message,"error")})}},deletePriceListItem:function(e){var t=this;this.$swal({title:"Are you sure?",text:"You can't revert your action",type:"warning",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No",confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",showCloseButton:!0}).then(function(a){if(a.value){var s=t.priceListItems.indexOf(e);t.priceListItems.splice(s,1);var i={headers:{Authorization:"Bearer "+localStorage.getItem("token")}};t.$axios.put("http://localhost:8080/api/airlines/removePriceListItem/",e,i).then(function(e){t.$swal("Success","Item removed successfuly","success")}).catch(function(e){t.$swal("Error",e.response.data.message,"error")})}})},editPriceListItem:function(e){}},created:function(){var e=this,t={headers:{Authorization:"Bearer "+localStorage.getItem("token")}};this.$axios.get("http://localhost:8080/api/airlines/getPriceListItems",t).then(function(t){e.priceListItems=t.data}).catch(function(t){e.$swal("Error",t.response.data.message,"error")})}},lr=or,cr=Object(h["a"])(lr,rr,nr,!1,null,null,null),ur=cr.exports;p()(cr,{VBtn:f["a"],VCard:U["a"],VCardActions:ve["a"],VCardText:ve["b"],VCardTitle:z["a"],VContainer:he["a"],VDialog:me["a"],VFlex:W["a"],VIcon:g["a"],VLayout:J["a"],VList:fe["a"],VListTile:ge["a"],VListTileContent:be["a"],VListTileSubTitle:be["b"],VListTileTitle:be["c"],VSpacer:b["a"],VTextField:X["a"],VToolbar:x["a"],VToolbarTitle:y["b"]});var dr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ma-3",attrs:{id:"quick-flight-reservations"}},[a("v-flex",[a("v-toolbar",[a("v-toolbar-title",[e._v("Quick flight reservations")]),a("v-spacer")],1),a("v-list",{staticClass:"scroll-y",staticStyle:{height:"300px"},attrs:{"three-line":""}},[e._l(this.quickFlightReservations,function(t){return[a("v-list-tile",{key:t.id,staticClass:"ma-2"},[a("v-list-tile-content",[a("v-list-tile-title",{staticClass:"font-weight-bold"},[e._v(e._s("Flight no. "+t.flightNumber+"  from "+t.departure+" to "+t.destination))]),a("v-list-tile-sub-title",{staticClass:"font-weight-bold"},[e._v(e._s("Date: "+t.date+" Seat: "+t.seatNumber))]),a("v-list-tile-sub-title",[e._v(e._s("Original Price: "+t.originalPrice+"€ Discount: "+t.discount+"%"))])],1),a("v-icon",{staticClass:"mr-1",on:{click:function(a){return e.deleteQuickFlightReservation(t)}}},[e._v("\n                        delete\n                    ")])],1)]})],2)],1)],1)},vr=[],hr={data:function(){return{quickFlightReservations:[]}},methods:{deleteQuickFlightReservation:function(e){var t=this;this.$swal({title:"Are you sure?",text:"You can't revert your action",type:"warning",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No",confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",showCloseButton:!0}).then(function(a){if(a.value){var s=t.quickFlightReservations.indexOf(e);t.quickFlightReservations.splice(s,1);var i={headers:{Authorization:"Bearer "+localStorage.getItem("token")}};t.$axios.put("http://localhost:8080/api/airlines/deleteQuickFlightReservation/",e,i).then(function(e){t.$swal("Success","Quick flight reservation deleted successfuly","success")}).catch(function(e){t.$swal("Error",e.response.data.message,"error")})}})}},created:function(){var e=this,t={headers:{Authorization:"Bearer "+localStorage.getItem("token")}};this.$axios.get("http://localhost:8080/api/airlines/getQuickFlightReservations",t).then(function(t){e.quickFlightReservations=t.data}).catch(function(t){e.$swal("Error",t.response.data.message,"error")})}},mr=hr,pr=Object(h["a"])(mr,dr,vr,!1,null,null,null),fr=pr.exports;p()(pr,{VFlex:W["a"],VIcon:g["a"],VList:fe["a"],VListTile:ge["a"],VListTileContent:be["a"],VListTileSubTitle:be["b"],VListTileTitle:be["c"],VSpacer:b["a"],VToolbar:x["a"],VToolbarTitle:y["b"]});var gr={components:{"airline-profile":Di,"business-locations":Ei,flights:ir,"price-list":ur,"quick-flight-reservations":fr},data:function(){return{}},methods:{},created:function(){}},br=gr,xr=(a("0aa8"),Object(h["a"])(br,yi,Ci,!1,null,null,null)),yr=xr.exports;p()(xr,{VContainer:he["a"]});var Cr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"edit-airline-profile"},[a("v-container",{attrs:{"grid-list":""}},[a("edit-airline")],1)],1)},wr=[],kr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[a("h2",[e._v("Edit Airline profile")]),a("form",[a("v-text-field",{attrs:{"error-messages":e.nameErrors,label:"Airline Name",required:""},on:{input:function(t){return e.$v.airline.name.$touch()},blur:function(t){return e.$v.airline.name.$touch()}},model:{value:e.airline.name,callback:function(t){e.$set(e.airline,"name",t)},expression:"airline.name"}}),a("v-textarea",{attrs:{"error-messages":e.descriptionErrors,"auto-grow":"",box:"",label:"Promo Description",required:""},on:{input:function(t){return e.$v.airline.description.$touch()},blur:function(t){return e.$v.airline.description.$touch()}},model:{value:e.airline.description,callback:function(t){e.$set(e.airline,"description",t)},expression:"airline.description"}}),a("v-text-field",{attrs:{label:"Current headquarters address",disabled:""},model:{value:e.currentAddress,callback:function(t){e.currentAddress=t},expression:"currentAddress"}}),a("GmapAutocomplete",{staticClass:"custom-input-field",on:{place_changed:e.getLocationData}}),a("GmapMap",{staticClass:"custom-map",attrs:{center:e.currentMapCenter,zoom:14,"map-type-id":"terrain",options:{zoomControl:!0,mapTypeControl:!0,scaleControl:!1,streetViewControl:!1,rotateControl:!1,fullscreenControl:!1,disableDefaultUi:!1}}},[this.airline.location.latitude?a("GmapMarker",{attrs:{position:e.currentMapCenter,clickable:!1,draggable:!1}}):e._e()],1),a("v-btn",{on:{click:e.editAirline}},[e._v("submit")])],1)])},_r=[],$r={mixins:[ie["validationMixin"]],data:function(){return{airline:{name:"",description:"",location:{}},currentMapCenter:{lat:21,lng:42},currentAddress:""}},validations:{airline:{name:{required:ne["required"],minLength:Object(ne["minLength"])(6)},description:{required:ne["required"],minLength:Object(ne["minLength"])(60)},location:{required:ne["required"]}}},computed:{nameErrors:function(){var e=[];return this.$v.airline.name.$dirty?(!this.$v.airline.name.minLength&&e.push("Name must be at least 6 characters long"),!this.$v.airline.name.required&&e.push("Name is required."),e):e},descriptionErrors:function(){var e=[];return this.$v.airline.description.$dirty?(!this.$v.airline.description.minLength&&e.push("Description must be at least 60 characters long"),!this.$v.airline.description.required&&e.push("Description is required."),e):e},locationErrors:function(){var e=[];return this.$v.airline.location.$dirty?(!this.$v.airline.location.required&&e.push("Location is required."),e):e}},methods:{editAirline:function(){var e=this;if(this.$v.$touch(),!this.$v.$invalid){var t={headers:{Authorization:"Bearer "+localStorage.getItem("token")}};t.params={previousAirlineName:this.previousAirlineName},this.$axios.put("http://localhost:8080/api/airlines/updateAirline",this.airline,t).then(function(t){e.$swal({title:"Success",html:"Airline profile edited successfuly",type:"success",showConfirmButton:!1,timer:2e3,allowOutsideClick:!1}).then(function(t){e.$router.go(-1)})}).catch(function(t){e.$swal("Error",t.response.data.message,"error")})}},getLocationData:function(e){e&&(this.airline.location=this.extractLocationData(e),this.currentMapCenter={lat:this.airline.location.latitude,lng:this.airline.location.longitude})},extractLocationData:function(e){var t={};return t.latitude=e.geometry.location.lat(),t.longitude=e.geometry.location.lng(),t.street=e.name,t.formattedAddress=e.formatted_address,e.address_components.forEach(function(e){e.types.includes("country")?t.country=e.long_name:e.types.includes("locality")&&(t.city=e.long_name)}),t}},created:function(){var e=this,t={headers:{Authorization:"Bearer "+localStorage.getItem("token")}};this.$axios.get("http://localhost:8080/api/airlines/getCurrentAdminAirline",t).then(function(t){e.airline=t.data,e.currentMapCenter.lat=e.airline.location.latitude,e.currentMapCenter.lng=e.airline.location.longitude,e.currentAddress=e.airline.location.formattedAddress,e.previousAirlineName=e.airline.name}).catch(function(t){e.$swal("Error",t.response.data.message,"error")})}},Sr=$r,Dr=(a("f965"),Object(h["a"])(Sr,kr,_r,!1,null,"167d8d6e",null)),Vr=Dr.exports;p()(Dr,{VBtn:f["a"],VFlex:W["a"],VTextField:X["a"],VTextarea:Me["a"]});var Ir={components:{"edit-airline":Vr},data:function(){return{}},methods:{},created:function(){}},Tr=Ir,Ar=Object(h["a"])(Tr,Cr,wr,!1,null,null,null),Rr=Ar.exports;p()(Ar,{VContainer:he["a"]});var Er,Pr,Lr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"airline-reports"},[a("v-container",{attrs:{"grid-list":""}},[a("reports")],1)],1)},qr=[],Or=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"airline-reports"}},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs3:"",sm3:"",md3:""}},[a("v-layout",{attrs:{column:""}},[a("v-card",{staticClass:"ma-3",attrs:{id:"airlineFeedback"}},[a("v-card-title",{staticClass:"headline text-xs-left font-weight-light indigo--text"},[e._v("Average airline feedback")]),a("v-divider"),a("v-card-text",[a("v-layout",{attrs:{row:""}},[a("span",{staticClass:"mr-2 display-1 indigo--text font-weight-regular"},[e._v(e._s(e.report.averageFeedback))]),a("v-rating",{staticClass:"pb-1",attrs:{value:e.report.averageFeedback,color:"indigo lighten-1",dense:"",large:"","half-increments":"",readonly:""}}),a("span",{staticClass:"mt-3 ml-1 grey--text text--darken-2 font-weight-light caption"},[e._v(e._s(e.report.numberOfFeedbacks)+" reviews")])],1)],1)],1),a("v-card",{staticClass:"ma-3",attrs:{id:"flightsFeedback"}},[a("v-item-group",[a("v-layout",{attrs:{column:""}},[a("v-list",{staticClass:"scroll-y",staticStyle:{height:"1325px"}},e._l(this.report.flights,function(t){return a("v-flex",{key:t.id,staticClass:"d-inline align-center"},[a("v-item",{attrs:{width:"100%"}},[a("div",{staticStyle:{margin:"auto"}},[a("v-card",{attrs:{flat:""}},[a("v-card-text",[a("v-layout",{attrs:{row:""}},[a("span",{staticClass:"mb-1 headline indigo--text font-weight-light"},[e._v(e._s(t.flightNumber))]),a("span",{staticClass:"mt-2 ml-1 grey--text text--darken-2 font-weight-light caption"},[e._v(e._s(t.departureDate))]),a("v-spacer"),a("v-rating",{attrs:{value:t.averageFeedback,color:"indigo lighten-1",dense:"","half-increments":"",readonly:""}}),a("span",{staticClass:"mr-2 display-1 indigo--text font-weight-regular"},[e._v(e._s(t.averageFeedback))])],1)],1),a("v-divider")],1)],1)])],1)}),1)],1)],1)],1)],1)],1),a("v-flex",{staticClass:"mr-2",attrs:{xs5:"",sm5:"",md5:""}},[a("v-layout",{staticClass:"mt-3",attrs:{column:""}},[a("v-flex",{attrs:{id:"dailyData"}},[e.canRender?a("v-card",{staticClass:"mt-4",attrs:{"max-width":"760px"}},[a("v-sheet",{staticClass:"v-sheet--offset mx-auto",attrs:{color:"indigo lighten-4",elevation:"12","max-width":"calc(100% - 32px)"}},[a("bar-chart",{staticClass:"pt-2 temp",attrs:{"chart-data":e.dailyReport}})],1),a("v-card-text",{staticClass:"py-0"},[a("v-layout",{attrs:{row:""}},[a("div",{staticClass:"title indigo--text font-weight-regular mt-2"},[e._v("Daily sales")]),a("v-spacer"),a("v-flex",{attrs:{xs5:"",sm5:"",md5:""}},[a("v-menu",{attrs:{"close-on-content-click":!0,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on;return[a("v-text-field",e._g({staticClass:"my-0 py-0",attrs:{"append-icon":"event"},model:{value:e.dailyDate,callback:function(t){e.dailyDate=t},expression:"dailyDate"}},s))]}}],null,!1,2907854603),model:{value:e.dailyDateMenu,callback:function(t){e.dailyDateMenu=t},expression:"dailyDateMenu"}},[a("v-date-picker",{attrs:{color:"indigo lighten-1"},on:{change:function(t){return e.getDailySales()},input:function(t){e.dailyDateMenu=!1}},model:{value:e.dailyDate,callback:function(t){e.dailyDate=t},expression:"dailyDate"}})],1)],1)],1)],1)],1):e._e()],1),a("v-flex",{attrs:{id:"weeklyData"}},[e.canRender?a("v-card",{staticClass:"mt-5",attrs:{"max-width":"760px"}},[a("v-sheet",{staticClass:"v-sheet--offset mx-auto",attrs:{color:"indigo lighten-4",elevation:"12","max-width":"calc(100% - 32px)"}},[a("bar-chart",{staticClass:"pt-2 temp",attrs:{"chart-data":e.weeklyReport}})],1),a("v-card-text",{staticClass:"py-0"},[a("v-layout",{attrs:{row:""}},[a("div",{staticClass:"title indigo--text font-weight-regular mt-2"},[e._v("Weekly sales")]),a("v-spacer"),a("v-flex",{attrs:{xs5:"",sm5:"",md5:""}},[a("v-menu",{attrs:{"close-on-content-click":!0,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on;return[a("v-text-field",e._g({staticClass:"my-0 py-0",attrs:{"append-icon":"event"},model:{value:e.weeklyDate,callback:function(t){e.weeklyDate=t},expression:"weeklyDate"}},s))]}}],null,!1,171278395),model:{value:e.weeklyDateMenu,callback:function(t){e.weeklyDateMenu=t},expression:"weeklyDateMenu"}},[a("v-date-picker",{attrs:{color:"indigo lighten-1","allowed-dates":e.allowedDates},on:{change:function(t){return e.getWeeklySales()},input:function(t){e.weeklyDateMenu=!1}},model:{value:e.weeklyDate,callback:function(t){e.weeklyDate=t},expression:"weeklyDate"}})],1)],1)],1)],1)],1):e._e()],1),a("v-flex",{attrs:{id:"monthlyData"}},[e.canRender?a("v-card",{staticClass:"my-5",attrs:{"max-width":"760px"}},[a("v-sheet",{staticClass:"v-sheet--offset mx-auto",attrs:{color:"indigo lighten-4",elevation:"12","max-width":"calc(100% - 32px)"}},[a("bar-chart",{staticClass:"pt-2 temp",attrs:{"chart-data":e.yearlyReport}})],1),a("v-card-text",{staticClass:"py-0"},[a("v-layout",{attrs:{row:""}},[a("div",{staticClass:"title indigo--text font-weight-regular mt-2"},[e._v("Monthly sales")]),a("v-spacer"),a("v-flex",{attrs:{xs3:"",sm3:"",md3:""}},[a("v-select",{staticClass:"my-0 py-0",attrs:{items:e.years},on:{change:function(t){return e.getMonthlySales()}},model:{value:e.year,callback:function(t){e.year=t},expression:"year"}})],1)],1)],1)],1):e._e()],1)],1)],1),a("v-flex",{attrs:{xs4:"",sm4:"",md4:""}},[a("v-card",{staticClass:"mt-3 mr-3",attrs:{id:"airlineIncome"}},[a("v-card-title",{staticClass:"headline text-xs-left font-weight-light indigo--text"},[e._v("Airline income")]),a("v-divider"),a("v-card-text",[a("v-layout",{attrs:{row:""}},[a("v-menu",{attrs:{"close-on-content-click":!0,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on;return[a("v-flex",{attrs:{xs6:"",md6:""}},[a("v-text-field",e._g({staticClass:"mx-3",attrs:{"append-icon":"event",label:"From","max-width":"30px"},model:{value:e.dateFrom,callback:function(t){e.dateFrom=t},expression:"dateFrom"}},s))],1)]}}]),model:{value:e.dateFromMenu,callback:function(t){e.dateFromMenu=t},expression:"dateFromMenu"}},[a("v-date-picker",{attrs:{color:"indigo lighten-1",max:e.maxDate},on:{input:function(t){e.dateFromMenu=!1}},model:{value:e.dateFrom,callback:function(t){e.dateFrom=t},expression:"dateFrom"}})],1),a("v-menu",{attrs:{"close-on-content-click":!0,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on;return[a("v-flex",{attrs:{xs6:"",md6:""}},[a("v-text-field",e._g({staticClass:"mx-3",attrs:{"append-icon":"event",label:"To"},model:{value:e.dateTo,callback:function(t){e.dateTo=t},expression:"dateTo"}},s))],1)]}}]),model:{value:e.dateToMenu,callback:function(t){e.dateToMenu=t},expression:"dateToMenu"}},[a("v-date-picker",{attrs:{color:"indigo lighten-1",max:e.maxDate},on:{input:function(t){e.dateToMenu=!1}},model:{value:e.dateTo,callback:function(t){e.dateTo=t},expression:"dateTo"}})],1),a("v-btn",{staticClass:"mt-2",attrs:{outline:"",block:"",flat:"",color:"indigo lighten-3"},on:{click:e.getIncomeReport}},[e._v("Show")])],1)],1),e.showIncome?a("div",[a("v-divider"),e.showIncome?a("v-card-text",[a("v-layout",{attrs:{column:""}},[a("v-layout",{staticClass:"title font-weight-light indigo--text",attrs:{row:""}},[a("span",[e._v("From:")]),a("v-spacer"),a("span",[e._v(e._s(e.showDateFrom))])],1),a("br"),a("v-layout",{staticClass:"title font-weight-light indigo--text",attrs:{row:""}},[a("span",[e._v("To:")]),a("v-spacer"),a("span",[e._v(e._s(e.showDateTo))])],1),a("br"),a("v-divider",{attrs:{light:""}}),a("br"),a("v-layout",{staticClass:"headline font-weight-medium indigo--text text-uppercase",attrs:{row:""}},[a("span",[e._v("Total income:")]),a("v-spacer"),a("span",[e._v(e._s(e.income)+"€")])],1)],1)],1):e._e()],1):e._e()],1)],1)],1)],1)},Fr=[],Nr=st["c"].reactiveProp,Br={extends:st["a"],mixins:[Nr],data:function(){return{gradient:null,datacollection:{labels:["January","February","March","April","May","June","July","August","September","October","November","December"],datasets:[{label:"Data One",backgroundColor:this.gradient,pointBackgroundColor:"white",borderWidth:1,pointBorderColor:"#249EBF",data:[40,20,30,50,90,10,20,40,50,70,90,100]}]},options:{scales:{yAxes:[{ticks:{beginAtZero:!0},gridLines:{display:!1}}],xAxes:[{ticks:{beginAtZero:!0},gridLines:{display:!1}}]},legend:{display:!1},tooltips:{enabled:!0,mode:"single",callbacks:{label:function(e,t){return e.yLabel+" tickets"}}},responsive:!0,maintainAspectRatio:!1,height:200}}},mounted:function(){this.renderChart(this.chartData,this.options)}},jr=Br,Mr=Object(h["a"])(jr,Er,Pr,!1,null,null,null),Ur=Mr.exports,zr={components:{"bar-chart":Ur},props:["selectedAirline"],data:function(){return{report:{},dateFromMenu:!1,dateFrom:(new Date).toISOString().substr(0,10),dateToMenu:!1,dateTo:(new Date).toISOString().substr(0,10),maxDate:(new Date).toISOString().substr(0,10),income:"",canRender:!1,showIncome:!1,showDateFrom:"",showDateTo:"",dailyReport:{},dailyDate:(new Date).toISOString().substr(0,10),dailyDateMenu:!1,weeklyReport:{},weeklyDate:(new Date).toISOString().substr(0,10),weeklyDateMenu:!1,yearlyReport:{},year:"",months:{0:"JAN",1:"FEB",2:"MAR",3:"APR",4:"MAY",5:"JUN",6:"JUL",7:"AUG",8:"SEP",9:"OCT",10:"NOV",11:"DEC"}}},methods:{getIncomeReport:function(){var e=this,t={headers:{Authorization:"Bearer "+localStorage.getItem("token")}};this.$axios.get("http://localhost:8080/api/airlines/getIncomeReport/",{params:{dateFrom:this.dateFrom,dateTo:this.dateTo}},t).then(function(t){e.income=t.data,e.showDateFrom=e.dateFrom,e.showDateTo=e.dateTo,e.showIncome=!0})},getMonthlySales:function(){var e=this,t={headers:{Authorization:"Bearer "+localStorage.getItem("token")}};this.$axios.get("http://localhost:8080/api/airlines/monthlyReport/",{params:{numberOfYears:(new Date).getFullYear()-this.year}},t).then(function(t){e.yearlyReport={labels:Array.from(Object.keys(t.data),function(t){return e.months[new Date(parseInt(t)).getMonth()]}),datasets:[{backgroundColor:"#5c6bc0",hoverBackgroundColor:"#7986cb",borderWidth:1,pointBorderColor:"#249EBF",data:Object.values(t.data)}]},e.year=new Date(parseInt(Object.keys(t.data)[0])).getFullYear()})},getWeeklySales:function(){var e=this,t={headers:{Authorization:"Bearer "+localStorage.getItem("token")}};this.$axios.get("http://localhost:8080/api/airlines/weeklyReport/",{params:{dateFrom:this.weeklyDate}},t).then(function(t){e.weeklyReport={labels:Array.from(Object.keys(t.data),function(e){return new Date(parseInt(e)).toLocaleString(void 0,{month:"2-digit",day:"2-digit"}).substr(0,5).replace("-","/")}),datasets:[{backgroundColor:"#5c6bc0",hoverBackgroundColor:"#7986cb",borderWidth:1,pointBorderColor:"#249EBF",data:Object.values(t.data)}]}})},getDailySales:function(){var e=this,t={headers:{Authorization:"Bearer "+localStorage.getItem("token")}};this.$axios.get("http://localhost:8080/api/airlines/dailyReport/",{params:{dateFrom:this.dailyDate}},t).then(function(t){e.dailyReport={labels:Array.from(Object.keys(t.data),function(e){return new Date(parseInt(e)).toLocaleString(void 0,{month:"2-digit",day:"2-digit"}).substr(0,5).replace("-","/")}),datasets:[{backgroundColor:"#5c6bc0",hoverBackgroundColor:"#7986cb",borderWidth:1,pointBorderColor:"#249EBF",data:Object.values(t.data)}]}})},numberOfFlightReviews:function(e){return 0},allowedDates:function(e){return 1==new Date(e).getDay()}},computed:{years:function(){var e=(new Date).getFullYear();return Array.from({length:e-1969},function(e,t){return 1970+t})}},created:function(){var e=this;localStorage.getItem("token");this.$axios.get("http://localhost:8080/api/airlines/getReport/").then(function(t){e.report=t.data,e.dailyReport.labels=Array.from(Object.keys(e.report.dailyReports),function(e){return new Date(parseInt(e)).toLocaleString(void 0,{month:"2-digit",day:"2-digit"}).substr(0,5)}),e.dailyReport.datasets=[{backgroundColor:"#5c6bc0",hoverBackgroundColor:"#7986cb",borderWidth:1,pointBorderColor:"#249EBF",data:Object.values(e.report.dailyReports)}],e.weeklyReport.labels=Array.from(Object.keys(e.report.weeklyReports),function(e){return new Date(parseInt(e)).toLocaleString(void 0,{month:"2-digit",day:"2-digit"}).substr(0,5).replace("-","/")}),e.weeklyReport.datasets=[{backgroundColor:"#5c6bc0",hoverBackgroundColor:"#7986cb",borderWidth:1,pointBorderColor:"#249EBF",data:Object.values(e.report.weeklyReports)}],e.yearlyReport.labels=Array.from(Object.keys(e.report.yearlyReports),function(t){return e.months[new Date(parseInt(t)).getMonth()]}),e.yearlyReport.datasets=[{backgroundColor:"#5c6bc0",hoverBackgroundColor:"#7986cb",borderWidth:1,pointBorderColor:"#249EBF",data:Object.values(e.report.yearlyReports)}],e.year=new Date(parseInt(Object.keys(e.report.yearlyReports)[0])).getFullYear(),e.canRender=!0})}},Hr=zr,Wr=(a("d134"),Object(h["a"])(Hr,Or,Fr,!1,null,"a47483f8",null)),Yr=Wr.exports;p()(Wr,{VBtn:f["a"],VCard:U["a"],VCardText:ve["b"],VCardTitle:z["a"],VDatePicker:H["a"],VDivider:dt["a"],VFlex:W["a"],VItem:Q["a"],VItemGroup:G["b"],VLayout:J["a"],VList:fe["a"],VMenu:K["a"],VRating:Z["a"],VSelect:vt["a"],VSheet:ht["a"],VSpacer:b["a"],VTextField:X["a"]});var Qr={components:{reports:Yr},data:function(){return{}},methods:{},created:function(){}},Gr=Qr,Jr=Object(h["a"])(Gr,Lr,qr,!1,null,null,null),Kr=Jr.exports;p()(Jr,{VContainer:he["a"]});var Zr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"search-flights"},[a("flights-search")],1)},Xr=[],en=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.showReservationStepper?e._e():a("div",[a("v-layout",{attrs:{"row-wrap":"","mx-4":"","mt-4":""}},[a("v-flex",{attrs:{xs4:"",md2:""}},[a("v-select",{attrs:{items:e.searchTypeItems,"prepend-icon":"compare_arrows",label:"Search Type"},model:{value:e.searchType,callback:function(t){e.searchType=t},expression:"searchType"}})],1),a("v-flex",{attrs:{xs4:"",md2:"","mx-2":""}},[a("v-select",{attrs:{items:e.searchClassItems,"prepend-icon":"airline_seat_legroom_normal",label:"Flight Class"},model:{value:e.searchClass,callback:function(t){e.searchClass=t},expression:"searchClass"}})],1),a("v-flex",{attrs:{xs4:"",md2:""}},[a("v-layout",{attrs:{row:""}},[a("v-icon",{attrs:{color:"black",left:""},on:{click:e.decrementPassengersCount}},[e._v("remove")]),a("v-text-field",{attrs:{label:"Passengers count","append-icon":"people",type:"number",readonly:""},model:{value:e.passengersCount,callback:function(t){e.passengersCount=t},expression:"passengersCount"}}),a("v-icon",{attrs:{color:"black",right:""},on:{click:e.incrementPassengersCount}},[e._v("add")])],1)],1)],1),"One-way"===e.searchType?a("div",[a("v-layout",{attrs:{"row-wrap":"","mx-4":""}},[a("v-flex",{attrs:{xs3:"","mr-2":""}},[a("v-autocomplete",{attrs:{label:"From","prepend-icon":"flight_takeoff",items:e.availableDestinations,"return-object":"","item-text":e.selectionItemText,solo:""},model:{value:e.oneWaySearch.departure,callback:function(t){e.$set(e.oneWaySearch,"departure",t)},expression:"oneWaySearch.departure"}})],1),a("v-flex",{attrs:{xs:""}},[a("v-btn",{attrs:{flat:"",icon:"",color:"grey",large:""},on:{click:function(t){return e.swap(e.oneWaySearch)}}},[a("v-icon",[e._v("compare_arrows")])],1)],1),a("v-flex",{attrs:{xs3:"","mr-2":""}},[a("v-autocomplete",{attrs:{label:"To","prepend-icon":"flight_land",items:e.availableDestinations,"return-object":"","item-text":e.selectionItemText,solo:""},model:{value:e.oneWaySearch.destination,callback:function(t){e.$set(e.oneWaySearch,"destination",t)},expression:"oneWaySearch.destination"}})],1),a("v-flex",{attrs:{xs3:"","ml-2":""}},[a("v-menu",{attrs:{"close-on-content-click":!1,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","max-width":"290px","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on;return[a("v-text-field",e._g({attrs:{label:"Departure date","prepend-icon":"event",readonly:""},model:{value:e.oneWaySearch.date,callback:function(t){e.$set(e.oneWaySearch,"date",t)},expression:"oneWaySearch.date"}},s))]}}],null,!1,199253414),model:{value:e.oneWaySearch.showMenu,callback:function(t){e.$set(e.oneWaySearch,"showMenu",t)},expression:"oneWaySearch.showMenu"}},[a("v-date-picker",{attrs:{"no-title":"",scrollable:"",min:e.minimalDepartureDate},on:{input:function(t){e.oneWaySearch.showMenu=!1}},model:{value:e.oneWaySearch.date,callback:function(t){e.$set(e.oneWaySearch,"date",t)},expression:"oneWaySearch.date"}})],1)],1),a("v-flex",{attrs:{xs4:""}},[a("v-btn",{attrs:{color:"primary"},on:{click:e.performOneWaySearch}},[e._v("Search")])],1)],1)],1):"Round-trip"===e.searchType?a("div",[a("v-layout",{attrs:{"row-wrap":"","mx-4":""}},[a("v-flex",{attrs:{xs3:"","mr-2":""}},[a("v-autocomplete",{attrs:{label:"From","prepend-icon":"flight_takeoff",items:e.availableDestinations,"return-object":"","item-text":e.selectionItemText,solo:""},model:{value:e.roundTripSearch.departure,callback:function(t){e.$set(e.roundTripSearch,"departure",t)},expression:"roundTripSearch.departure"}})],1),a("v-flex",{attrs:{xs:""}},[a("v-btn",{attrs:{flat:"",icon:"",color:"grey",large:""},on:{click:function(t){return e.swap(e.roundTripSearch)}}},[a("v-icon",[e._v("compare_arrows")])],1)],1),a("v-flex",{attrs:{xs3:"","mr-2":""}},[a("v-autocomplete",{attrs:{label:"To","prepend-icon":"flight_land",items:e.availableDestinations,"return-object":"","item-text":e.selectionItemText,solo:""},model:{value:e.roundTripSearch.destination,callback:function(t){e.$set(e.roundTripSearch,"destination",t)},expression:"roundTripSearch.destination"}})],1),a("v-flex",{attrs:{xs3:"","ml-2":""}},[a("v-menu",{attrs:{"close-on-content-click":!1,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","max-width":"290px","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on;return[a("v-text-field",e._g({attrs:{label:"Departure date","prepend-icon":"event",readonly:""},model:{value:e.roundTripSearch.departureDate,callback:function(t){e.$set(e.roundTripSearch,"departureDate",t)},expression:"roundTripSearch.departureDate"}},s))]}}],null,!1,1963818884),model:{value:e.roundTripSearch.showDepartureDateMenu,callback:function(t){e.$set(e.roundTripSearch,"showDepartureDateMenu",t)},expression:"roundTripSearch.showDepartureDateMenu"}},[a("v-date-picker",{attrs:{"no-title":"",scrollable:"",min:e.minimalDepartureDate},on:{input:function(t){e.roundTripSearch.showDepartureDateMenu=!1}},model:{value:e.roundTripSearch.departureDate,callback:function(t){e.$set(e.roundTripSearch,"departureDate",t)},expression:"roundTripSearch.departureDate"}})],1)],1),a("v-flex",{attrs:{xs3:"","ml-2":""}},[a("v-menu",{attrs:{"close-on-content-click":!1,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","max-width":"290px","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on;return[a("v-text-field",e._g({attrs:{label:"Return date","prepend-icon":"event",readonly:""},model:{value:e.roundTripSearch.returnDate,callback:function(t){e.$set(e.roundTripSearch,"returnDate",t)},expression:"roundTripSearch.returnDate"}},s))]}}],null,!1,1917510724),model:{value:e.roundTripSearch.showReturnDateMenu,callback:function(t){e.$set(e.roundTripSearch,"showReturnDateMenu",t)},expression:"roundTripSearch.showReturnDateMenu"}},[a("v-date-picker",{attrs:{"no-title":"",scrollable:"",min:e.minimalReturnDate},on:{input:function(t){e.roundTripSearch.showReturnDateMenu=!1}},model:{value:e.roundTripSearch.returnDate,callback:function(t){e.$set(e.roundTripSearch,"returnDate",t)},expression:"roundTripSearch.returnDate"}})],1)],1),a("v-flex",{attrs:{xs4:""}},[a("v-btn",{attrs:{color:"primary"},on:{click:e.performRoundTripSearch}},[e._v("Search")])],1)],1)],1):"Multi-city"===e.searchType?a("div",[e._l(e.multiCitySearch.routes,function(t,s){return a("div",{key:s},[a("v-layout",{attrs:{"row-wrap":"","mx-4":""}},[a("v-flex",{attrs:{xs4:"","mr-3":""}},[a("v-autocomplete",{attrs:{label:"From","prepend-icon":"flight_takeoff",items:e.availableDestinations,"return-object":"","item-text":e.selectionItemText,solo:""},model:{value:t.departure,callback:function(a){e.$set(t,"departure",a)},expression:"route.departure"}})],1),a("v-flex",{attrs:{xs4:""}},[a("v-autocomplete",{attrs:{label:"From","prepend-icon":"flight_takeoff",items:e.availableDestinations,"return-object":"","item-text":e.selectionItemText,solo:""},model:{value:t.destination,callback:function(a){e.$set(t,"destination",a)},expression:"route.destination"}})],1),a("v-flex",{attrs:{xs3:"","ml-2":""}},[a("v-menu",{attrs:{"close-on-content-click":!1,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","max-width":"290px","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(s){var i=s.on;return[a("v-text-field",e._g({attrs:{label:"Departure date","prepend-icon":"event",readonly:""},model:{value:t.date,callback:function(a){e.$set(t,"date",a)},expression:"route.date"}},i))]}}],null,!0),model:{value:t.showMenu,callback:function(a){e.$set(t,"showMenu",a)},expression:"route.showMenu"}},[a("v-date-picker",{attrs:{"no-title":"",scrollable:"",min:e.minimalDepartureDate},on:{input:function(e){t.showMenu=!1}},model:{value:t.date,callback:function(a){e.$set(t,"date",a)},expression:"route.date"}})],1)],1)],1)],1)}),a("v-layout",{attrs:{row:"","align-start":"","mx-4":""}},[a("v-btn",{on:{click:e.addRow}},[e._v("Add")]),a("v-btn",{on:{click:e.removeRow}},[e._v("Remove")]),a("v-btn",{attrs:{color:"primary"},on:{click:e.performMultiCitySearch}},[e._v("Search")])],1)],2):e._e(),a("div",[a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-layout",{attrs:{row:"","justify-start":""}},[a("v-flex",{attrs:{xs2:"",sm2:"",md2:""}},[a("v-layout",{attrs:{column:"","ma-4":""}},[a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-select",{staticStyle:{width:"200px"},attrs:{items:e.searchResultAirlines,label:"Airlines",multiple:"",chips:""},model:{value:e.filterOptions.airlines,callback:function(t){e.$set(e.filterOptions,"airlines",t)},expression:"filterOptions.airlines"}})],1),a("v-flex",{attrs:{xs3:"","mr-2":""}},[a("div",[e._v("Stops:")]),a("v-radio-group",{attrs:{mandatory:!1},model:{value:e.filterOptions.stopsCount,callback:function(t){e.$set(e.filterOptions,"stopsCount",t)},expression:"filterOptions.stopsCount"}},[a("v-radio",{attrs:{label:"Direct",value:"direct"}}),a("v-radio",{attrs:{label:"1 stop",value:"1"}}),a("v-radio",{attrs:{label:"2+ stops",value:"2+"}})],1)],1),a("v-flex",{attrs:{xs3:"","mr-2":""}},[a("div",[e._v("Price Range:")]),a("v-layout",{attrs:{column:""}},[a("v-flex",{staticStyle:{width:"270px"},attrs:{"mx-2":"","mt-4":""}},[a("v-range-slider",{attrs:{max:e.filterOptions.maxPrice,min:e.filterOptions.minPrice,"hide-details":"","always-dirty":"","thumb-label":"always"},model:{value:e.filterOptions.priceRange,callback:function(t){e.$set(e.filterOptions,"priceRange",t)},expression:"filterOptions.priceRange"}})],1)],1)],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:""}},[a("div",[e._v("Class:")]),a("v-checkbox",{attrs:{label:"Economy",value:"economy","hide-details":""},model:{value:e.filterOptions.selectedClasses,callback:function(t){e.$set(e.filterOptions,"selectedClasses",t)},expression:"filterOptions.selectedClasses"}}),a("v-checkbox",{attrs:{label:"Business",value:"business","hide-details":""},model:{value:e.filterOptions.selectedClasses,callback:function(t){e.$set(e.filterOptions,"selectedClasses",t)},expression:"filterOptions.selectedClasses"}}),a("v-checkbox",{attrs:{label:"First",value:"first","hide-details":""},model:{value:e.filterOptions.selectedClasses,callback:function(t){e.$set(e.filterOptions,"selectedClasses",t)},expression:"filterOptions.selectedClasses"}})],1),a("v-flex",{attrs:{xs4:"","mx-1":"","mt-2":""}},[a("v-btn",{on:{click:e.filterData}},[e._v("Apply Filter")])],1),a("v-flex",{attrs:{xs4:"","mx-1":""}},[a("v-btn",{on:{click:e.resetFilter}},[e._v("Reset Filter")])],1)],1)],1),e.searchResults.length>0?a("v-flex",{attrs:{xs10:"",sm10:"",md10:""}},[a("v-item-group",[a("v-layout",{attrs:{column:""}},[a("v-list",e._l(this.searchResults,function(t){return a("v-flex",{key:t.id,staticClass:"d-inline align-center"},[a("v-item",{attrs:{width:"100%"}},[a("v-card",{attrs:{flat:""}},[a("v-layout",{attrs:{row:"",wrap:"","ma-3":""}},[a("v-flex",{attrs:{xs12:"",md12:""}},[a("v-card",[a("v-layout",[a("v-flex",{attrs:{xs4:"",md4:"","align-self-center":"","mx-2":""}},[a("v-img",{attrs:{src:e.image,"max-height":"90px","max-width":"120px"}})],1),a("v-flex",{attrs:{xs5:"",md5:""}},[a("v-card-title",{attrs:{"primary-title":""}},[a("div",[a("div",{staticClass:"headline"},[e._v(e._s(t.departureTime+" - "+t.arrivalTime))]),a("div",{staticClass:"pl-0"},[a("span",{staticClass:"grey--text text--darken-2 "},[e._v(e._s(t.airline))])])])])],1),a("v-flex",{attrs:{xs5:"",md5:""}},[a("v-card-title",{attrs:{"primary-title":""}},[a("div",[a("div",{staticClass:"d-flex"},[a("span",{staticClass:"grey--text text--darken-2 "},[e._v(e._s(e.transitLabelContent(t)))])])])])],1),a("v-flex",{attrs:{xs5:"",md5:""}},[a("v-card-title",{attrs:{"primary-title":""}},[a("div",[a("div",{staticClass:"headline"},[e._v(e._s(t.departureCode+" - "+t.destinationCode))]),a("div",{staticClass:"d-flex"},[a("span",{staticClass:"grey--text text--darken-2 "},[e._v(e._s(t.flightDuration+" minutes"))])])])])],1),a("v-flex",{attrs:{xs5:"",md5:""}},[a("v-card-title",{attrs:{"primary-title":""}},[a("div",[a("div",{staticClass:"headline"},[e._v(e._s("from "+t.ticketPrice+"€"))])])])],1),a("v-flex",[a("v-card-actions",[a("v-spacer"),a("v-layout",{attrs:{row:""}},[a("v-btn",{attrs:{flat:""},on:{click:function(a){return a.stopPropagation(),e.doShowDeal(t)}}},[e._v("View Deal")]),a("v-btn",{attrs:{flat:""},on:{click:function(a){return a.stopPropagation(),e.flightSelected(t)}}},[e._v("\n                                                                            Reserve\n                                                                            "),a("v-icon",{attrs:{right:""}},[e._v("input")])],1)],1)],1)],1)],1)],1)],1)],1)],1)],1)],1)}),1)],1),a("v-layout",{attrs:{"justify-center":""}},[this.page>0?a("v-btn",{attrs:{block:"",flat:""},on:{click:e.previousPage}},[a("v-icon",[e._v("arrow_backward")])],1):a("v-btn",{attrs:{block:"",flat:"",disabled:""}},[a("v-icon",[e._v("arrow_backward")])],1),a("v-btn",{attrs:{block:"",flat:""},on:{click:e.nextPage}},[a("v-icon",[e._v("arrow_forward")])],1)],1)],1)],1):e._e()],1)],1)],1),a("v-dialog",{attrs:{"max-width":"400px"},model:{value:e.showDeal,callback:function(t){e.showDeal=t},expression:"showDeal"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v("Trip Summary")])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",[a("h2",[e._v(e._s(e.selectedFlight.departureDate))]),a("p"),a("h3",[e._v("Flight number: "+e._s(e.selectedFlight.flightNumber))]),a("p"),a("p",[e._v("From: "+e._s(e.selectedFlight.departureAirport)+" ("+e._s(e.selectedFlight.departureCode)+")")]),a("p",[e._v("To: "+e._s(e.selectedFlight.destinationAirport)+" ("+e._s(e.selectedFlight.destinationCode)+")")]),a("p",[e._v("Airline: "+e._s(e.selectedFlight.airline))]),a("h3",[e._v(e._s(e.selectedFlight.departureTime+" - "+e.selectedFlight.arrivalTime))]),a("p",[e._v(e._s(e.selectedFlight.flightDuration)+", "+e._s(e.selectedFlight.transitCount)+" stop")]),a("p",[e._v("Distance: "+e._s(e.selectedFlight.flightDistance)+"km")]),a("p",[e._v("Stops:")]),e._l(e.selectedFlight.transitDestinations,function(t){return a("p",{key:t.id},[e._v(e._s(t.name+", "+t.airportName+" ("+t.airportCode+")"))])}),a("p",[e._v("Passenger count: "+e._s(e.passengersCount))]),a("p",[e._v("Class: "+e._s(e.searchClass))]),a("h2",[e._v("Single ticket price: "+e._s(e.selectedFlight.ticketPrice)+"€")])],2)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{flat:""},on:{click:function(t){e.showDeal=!1}}},[e._v("Close")])],1)],1)],1)],1),a("flight-reservation",{attrs:{show:e.showReservationStepper,flight:e.selectedFlight,passengerCountSearch:e.passengersCount},on:{goBack:function(t){e.showReservationStepper=!1}}})],1)},tn=[],an=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.showDialog?a("div",[a("v-btn",{attrs:{color:"primary"},on:{click:e.goBack}},[e._v("Back to search")]),a("v-layout",{attrs:{row:"","fill-height":""}},[a("v-flex",{attrs:{xs3:"",md3:""}},[a("v-card",{staticClass:"cardcontent"},[a("v-card-title",[a("span",{staticClass:"headline"},[e._v("Trip Summary")])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",[a("h2",[e._v("Flight details")]),a("br"),a("h3",[e._v(e._s(e.flight.departureDate))]),a("h3",[e._v("Flight number: "+e._s(e.flight.flightNumber))]),a("p",[e._v("From: "+e._s(e.flight.departureAirport)+" ("+e._s(e.flight.departureCode)+")")]),a("p",[e._v("To: "+e._s(e.flight.destinationAirport)+" ("+e._s(e.flight.destinationCode)+")")]),a("p",[e._v("Airline: "+e._s(e.flight.airline))]),a("h3",[e._v(e._s(e.flight.departureTime+" - "+e.flight.arrivalTime))]),a("p",[e._v(e._s(e.flight.flightDuration)+", "+e._s(e.flight.transitCount)+" stop")]),e._l(e.flight.transitDestinations,function(t){return a("p",{key:t.id},[e._v(e._s(t.name+", "+t.airportName+" ("+t.airportCode+")"))])}),a("br"),a("p",[e._v("Distance: "+e._s(e.flight.flightDistance)+"km")]),a("h2",[e._v("Trip total: "+e._s(e.flight.ticketPrice*this.selectedSeatsCount)+"€")]),a("br"),a("hr"),a("br"),a("h2",[e._v("Luggage details [PLACEHOLDER]")]),a("br"),a("p",[e._v("Hand luggage: 1 (max 8kg)")]),a("p",[e._v("Checked bags: 1 (max 25kg)")]),a("br"),a("hr"),a("br"),a("h2",[e._v("Additional services [PLACEHOLDER]")]),a("br"),a("p",[e._v("Food: Available")]),a("p",[e._v("Soft drinks: Available")]),a("p",[e._v("Alcohol: Not Available")]),a("p",[e._v("Newspapers: Available")]),a("p",[e._v("Multimedia: Available")]),a("p",[e._v("WiFi: Not Available")])],2)],1)],1)],1)],1)],1),a("v-flex",{attrs:{xs9:"",md9:""}},[a("v-stepper",{attrs:{vertical:""},model:{value:e.currentStep,callback:function(t){e.currentStep=t},expression:"currentStep"}},[a("v-stepper-step",{attrs:{step:"1"}},[e._v("\r\n                    Seat selection\r\n                ")]),a("v-stepper-content",{attrs:{step:"1"}},[a("v-card",{staticClass:"mb-5"},[a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{row:"","align-start":"","justify-center":""}},[a("v-item-group",{attrs:{multiple:""}},[a("table",[a("thead",[a("tr",[a("th"),e._l(e.columns,function(t){return a("th",{key:t},[e._v("\r\n                                                        "+e._s(String.fromCharCode(64+t))+"\r\n                                                    ")])})],2)]),e._l(e.rows,function(t){return a("tr",{key:t},[a("td",[e._v(e._s(t))]),e._l(e.columns,function(s){return a("td",{key:s},[a("v-item",[a("v-card",{staticClass:"d-flex align-center",attrs:{hover:"",selected:e.seats[(t-1)*e.columns+s-1].isSelected,color:e.calculateColor((t-1)*e.columns+s-1),dark:"",height:"50",width:"50"},on:{click:function(a){e.clickOnSeat((t-1)*e.columns+s-1)}}},[a("v-scroll-y-transition",[a("div",{staticClass:"text-xs-center"},[e._v("\r\n                                                                    "+e._s(e.seats[(t-1)*e.columns+s-1].red+String.fromCharCode(64+e.seats[(t-1)*e.columns+s-1].kolona))+"\r\n                                                                ")])])],1)],1)],1)})],2)})],2)]),a("v-layout",{attrs:{column:"","align-start":"","justify-start":"","fill-height":""}},[a("h2",{staticClass:"ma-4"},[e._v("Legend:")]),a("v-layout",{staticClass:"mx-4",attrs:{row:""}},[a("v-card",{staticClass:"ma-2",attrs:{color:"deep-purple lighten-1",dark:"",height:"30",width:"30","ma-4":""}}),a("v-card",{staticClass:"ma-2",attrs:{flat:"",height:"30",width:"250"}},[e._v("First class seats")])],1),a("v-layout",{staticClass:"mx-4",attrs:{row:""}},[a("v-card",{staticClass:"ma-2",attrs:{color:"blue lighten-1",dark:"",height:"30",width:"30","ma-4":""}}),a("v-card",{staticClass:"ma-2",attrs:{flat:"",height:"30",width:"250"}},[e._v("Business class seats")])],1),a("v-layout",{staticClass:"mx-4",attrs:{row:""}},[a("v-card",{staticClass:"ma-2",attrs:{color:"grey darken-3",dark:"",height:"30",width:"30","ma-4":""}}),a("v-card",{staticClass:"ma-2",attrs:{flat:"",height:"30",width:"250"}},[e._v("Economy class seats")])],1),a("v-layout",{staticClass:"mx-4",attrs:{row:""}},[a("v-card",{staticClass:"ma-2",attrs:{color:"green",dark:"",height:"30",width:"30","ma-4":""}}),a("v-card",{staticClass:"ma-2",attrs:{flat:"",height:"30",width:"250"}},[e._v("Selected seats")])],1),a("v-layout",{staticClass:"mx-4",attrs:{row:""}},[a("v-card",{staticClass:"ma-2",attrs:{color:"red lighten-4",dark:"",height:"30",width:"30","ma-4":""}}),a("v-card",{staticClass:"ma-2",attrs:{flat:"",height:"30",width:"250"}},[e._v("Inactive seats")])],1)],1)],1)],1)],1)],1),a("v-btn",{attrs:{color:"primary",disabled:e.isSeatSelectionDisabled},on:{click:function(t){return e.proceedToStep2()}}},[e._v("Continue")])],1),a("v-stepper-step",{attrs:{step:"2"}},[e._v("\r\n                    Friend invitation\r\n                ")]),a("v-stepper-content",{attrs:{step:"2"}},[a("v-layout",{attrs:{column:"","ma-4":""}},[a("v-text-field",{attrs:{"append-icon":"search",label:"Search friends list","single-line":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("v-data-table",{attrs:{headers:e.headers,items:e.users,search:e.search,pagination:e.pagination},on:{"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",[e._v(e._s(t.item.firstName))]),a("td",[e._v(e._s(t.item.lastName))]),a("td",[e._v(e._s(t.item.email))]),a("td",[a("v-checkbox",{staticClass:"ma-2",attrs:{label:"Invite",value:t.item.id,disabled:e.isCheckboxDisabled},model:{value:e.selectedFriendsIds,callback:function(t){e.selectedFriendsIds=t},expression:"selectedFriendsIds"}})],1)]}}],null,!1,2477257417)},[a("v-alert",{attrs:{value:!0,color:"error",icon:"warning"},scopedSlots:e._u([{key:"no-results",fn:function(){return[e._v('\r\n                                Your search for "'+e._s(e.search)+'" found no results.\r\n                            ')]},proxy:!0}],null,!1,2548243375)})],1)],1),a("v-btn",{attrs:{color:"primary"},on:{click:function(t){return e.proceedToStep3()}}},[e._v("Continue")]),a("v-btn",{attrs:{flat:""},on:{click:function(t){return e.changeStep(1)}}},[e._v("Back")]),a("v-btn",{attrs:{flat:""},on:{click:function(t){return e.clearFriendsSelection()}}},[e._v("Clear selection")])],1),a("v-stepper-step",{attrs:{step:"3"}},[e._v("\r\n                    Traveller info\r\n                ")]),a("v-stepper-content",{key:e.infoKey,attrs:{step:"3"}},[a("div",[a("v-stepper",{model:{value:e.infoStepper,callback:function(t){e.infoStepper=t},expression:"infoStepper"}},[a("v-stepper-header",[e._l(e.passengerInfo.length,function(t){return[a("v-stepper-step",{key:t+"-step",attrs:{complete:e.infoStepper>t,step:t,editable:""}},[e._v("\r\n                                Passenger "+e._s(t)+"\r\n                            ")]),t!==e.passengerInfo.length?a("v-divider",{key:t}):e._e()]})],2),a("v-stepper-items",e._l(e.passengerInfo.length,function(t){return a("v-stepper-content",{key:t+"-content",attrs:{step:t}},[a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-text-field",{attrs:{label:"Name"},model:{value:e.passengerInfo[t-1].firstName,callback:function(a){e.$set(e.passengerInfo[t-1],"firstName",a)},expression:"passengerInfo[n - 1].firstName"}})],1),a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-text-field",{attrs:{label:"Surname"},model:{value:e.passengerInfo[t-1].lastName,callback:function(a){e.$set(e.passengerInfo[t-1],"lastName",a)},expression:"passengerInfo[n - 1].lastName"}})],1),a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-text-field",{attrs:{label:"Passport number"},model:{value:e.passengerInfo[t-1].passportNumber,callback:function(a){e.$set(e.passengerInfo[t-1],"passportNumber",a)},expression:"passengerInfo[n - 1].passportNumber"}})],1),a("v-btn",{on:{click:function(a){return e.nextInfoStep(t)}}},[e._v("\r\n                                    Next passenger\r\n                                ")])],1)}),1)],1)],1),a("v-btn",{attrs:{color:"primary"},on:{click:function(t){return e.proceedToStep4()}}},[e._v("Continue")]),a("v-btn",{attrs:{flat:""},on:{click:function(t){return e.changeStep(2)}}},[e._v("Back")])],1),a("v-stepper-step",{attrs:{step:"4"}},[e._v("\r\n                    Overview and confirmation of flight reservation\r\n                ")]),a("v-stepper-content",{attrs:{step:"4"}},[a("v-layout",{attrs:{xs12:"",sm6:"",md6:"",lg6:"",row:"",wrap:""}},e._l(e.reservationDataItems,function(t){return a("v-flex",{key:t.id},[a("v-card",{attrs:{flat:""}},[a("v-card-text",[a("h3",{staticClass:"mb-0"},[e._v(e._s(t.seatClass)+" Seat "+e._s(t.seatRow)+e._s(t.seatColumnLetter))]),a("div",[e._v("Passenger: "+e._s(t.lastName)+", "+e._s(t.firstName)+" ")]),a("div",[e._v("Passport number: "+e._s(t.passportNumber))]),a("h3",{staticClass:"mb-0"},[e._v("Ticket price: "+e._s(t.ticketPrice)+"€")])])],1)],1)}),1),a("v-btn",{attrs:{color:"primary"},on:{click:function(t){return e.confirmReservation()}}},[e._v("Confirm reservation")]),a("v-btn",{attrs:{flat:""},on:{click:function(t){return e.changeStep(3)}}},[e._v("Back")])],1),a("v-stepper-step",{attrs:{step:"5"}},[e._v("\r\n                    Hotel and Rent-a-Car reservation\r\n                ")]),a("v-stepper-content",{attrs:{step:"5"}},[e._v("\r\n                    Do you want to book a hotel or rent-a-car service?\r\n                    "),a("v-btn",{attrs:{color:"primary"},on:{click:function(t){return e.continueToHotelReservation()}}},[e._v("Book a hotel")]),a("v-btn",{attrs:{color:"primary"},on:{click:function(t){return e.continueToRentACarReservation()}}},[e._v("Book a vehicle")]),a("v-btn",{attrs:{flat:""},on:{click:function(t){return e.redirectToHomePage()}}},[e._v("No")])],1)],1)],1)],1)],1):e._e()},sn=[],rn={props:{show:Boolean,flight:Object,passengerCountSearch:Number},watch:{steps:function(e){this.infoStepper>e&&(this.infoStepper=e)}},data:function(){return{currentStep:1,infoStepper:1,infoKey:1,steps:this.passengerCountSearch,selectedSeatsCount:0,seats:[],search:"",headers:[{text:"First Name",align:"left",sortable:!0,value:"firstName"},{text:"Last Name",align:"left",sortable:!0,value:"lastName"},{text:"Email",align:"left",sortable:!0,value:"email"},{text:"Actions",align:"center",sortable:!1,value:"actions",width:70}],pagination:{sortBy:"firstName",descending:!1,rowsPerPage:5},users:[],selectedFriendsIds:[],passengerInfo:[],reservationDataItems:[],flightReservation:void 0,groupReservationId:void 0}},computed:{rows:function(){return this.lastSeat?this.lastSeat.red:0},columns:function(){for(var e=0;e<this.seats.length;e++)if(2==this.seats[e].red)return this.seats[e-1].kolona;return this.seats.length},lastSeat:function(){if(0!=this.seats.length)return this.seats[this.seats.length-1]},isSeatSelectionDisabled:function(){return 0==this.selectedSeatsCount},isCheckboxDisabled:function(){return!(this.selectedSeatsCount-1>this.selectedFriendsIds.length)},showDialog:function(){return 0!=this.show&&(this.getSeatsData(),!0)}},methods:{proceedToStep2:function(){var e=this;this.selectedFriendsIds=[],this.passengerInfo=[];for(var t=0;t<this.selectedSeatsCount;t++){var a={firstName:"",lastName:"",passportNumber:""};this.passengerInfo.push(a)}if(1==this.selectedSeatsCount)this.proceedToStep3();else{var s={headers:{Authorization:"Bearer "+localStorage.getItem("token")}};this.$axios.get("http://localhost:8080/api/getAllFriendsAccepted/",s).then(function(t){e.users=t.data,e.currentStep=2}).catch(function(t){e.$swal("Error",t.response.data.message,"error")})}},clearFriendsSelection:function(){this.selectedFriendsIds=[]},proceedToStep3:function(){var e=this,t={headers:{Authorization:"Bearer "+localStorage.getItem("token")}};this.$axios.get("http://localhost:8080/api/currentUser/",t).then(function(t){if(e.currentUserId=t.data.id,e.passengerInfo[0].firstName=t.data.firstName,e.passengerInfo[0].lastName=t.data.lastName,e.selectedSeatsCount>1)for(var a=1,s=0;s<e.users.length;s++)for(var i=0;i<e.selectedFriendsIds.length;i++)e.users[s].id==e.selectedFriendsIds[i]&&(e.passengerInfo[a].firstName=e.users[s].firstName,e.passengerInfo[a].lastName=e.users[s].lastName,a++);e.infoKey++,e.currentStep=3}).catch(function(t){e.$swal("Error",t.response.data.message,"error")})},proceedToStep4:function(){for(var e=!1,t=0;t<this.passengerInfo.length;t++)(""==this.passengerInfo[t].firstName||""==this.passengerInfo[t].lastName||""==this.passengerInfo[t].passportNumber||isNaN(this.passengerInfo[t].passportNumber))&&(e=!0);if(e)this.$swal("Can't proceed to next step","Please enter the data for each passenger.","warning");else{var a=[],s=[];for(t=0;t<this.seats.length;t++)this.seats[t].isSelected&&(a.push(this.seats[t]),s.push(this.seats[t].id));var i=[this.currentUserId];for(t=0;t<this.selectedFriendsIds.length;t++)i.push(this.selectedFriendsIds[t]);for(t=i.length-1;t<s.length;t++)i.push(this.currentUserId);var r=[];for(t=0;t<s.length;t++){var n={seatId:s[t],seatVersion:a[t].version,userId:i[t],firstName:this.passengerInfo[t].firstName,lastName:this.passengerInfo[t].lastName,passportNumber:this.passengerInfo[t].passportNumber};r.push(n)}var o={flightId:this.flight.id,seatReservationDTOList:r};for(this.flightReservation=o,this.reservationDataItems=[],t=0;t<r.length;t++){var l=r[t],c={id:t,firstName:l.firstName,lastName:l.lastName,passportNumber:l.passportNumber,seatRow:a[t].red,seatColumnLetter:String.fromCharCode(64+a[t].kolona),seatClass:"Economy class",ticketPrice:"PLACEHOLDER"};"ECONOMIC_CLASS"==a[t].segmentClass?c.seatClass="Economy class":"BUSINESS_CLASS"==a[t].segmentClass?c.seatClass="Business class":"FIRST_CLASS"==a[t].segmentClass&&(c.seatClass="First class"),this.reservationDataItems.push(c)}this.currentStep=4}},changeStep:function(e){1==this.selectedSeatsCount&&2==e?(this.currentStep=1,this.selectedFriendsIds=[]):this.currentStep=e},goBack:function(){this.currentStep=1,this.seats=[],this.selectedSeatsCount=0,this.infoStepper=1,this.passengerInfo=[],this.$emit("goBack")},calculateColor:function(e){var t=this.seats[e];if(!t.isReserved&&!t.isActive)return t.isSelected?"yellow":"red lighten-4";if(t.isReserved||!t.isActive){if("FIRST_CLASS"==t.segmentClass)return"deep-purple lighten-4";if("BUSINESS_CLASS"==t.segmentClass)return"blue lighten-4";if("ECONOMIC_CLASS"==t.segmentClass)return"grey lighten-1"}else{if(t.isSelected)return"green";if("FIRST_CLASS"==t.segmentClass)return"deep-purple lighten-1";if("BUSINESS_CLASS"==t.segmentClass)return"blue lighten-1";if("ECONOMIC_CLASS"==t.segmentClass)return"grey darken-3"}},clickOnSeat:function(e){!this.seats[e].isReserved&&this.seats[e].isActive&&(this.seats[e].isSelected?(this.seats[e].isSelected=!1,this.selectedSeatsCount--):this.selectedSeatsCount<this.passengerCountSearch&&(this.seats[e].isSelected=!0,this.selectedSeatsCount++))},compare:function(e,t){var a=e.red,s=t.red,i=e.kolona,r=t.kolona,n=0;return a>s?n=1:a<s?n=-1:i>r?n=1:i<r&&(n=-1),n},nextInfoStep:function(e){e===this.passengerInfo.length?this.infoStepper=1:this.infoStepper=e+1},getSeatsData:function(){var e=this,t=JSON.parse(JSON.stringify(this.flight));delete t.transitDestinations;var a={headers:{Authorization:"Bearer "+localStorage.getItem("token")}};this.$axios.post("http://localhost:8080/api/flights/getFlightSeats",t,a).then(function(t){e.seats=t.data.sort(e.compare)}).catch(function(t){e.$swal("Error",t.response.data.message,"error")})},confirmReservation:function(){var e=this,t={headers:{Authorization:"Bearer "+localStorage.getItem("token")}};this.$axios.post("http://localhost:8080/api/reservations/reserveFlight",this.flightReservation,t).then(function(t){e.groupReservationId=t.data,e.$swal({title:"Success",html:"Flight reservation successfull",type:"success",showConfirmButton:!1,timer:2e3,allowOutsideClick:!1}).then(function(t){e.currentStep=5})}).catch(function(t){e.$swal("Error","Unsuccessfull reservation. The selected seats are probably already reserved. Please select other seats.","error"),e.getSeatsData(),e.selectedSeatsCount=0,e.currentStep=1})},continueToHotelReservation:function(){},continueToRentACarReservation:function(){},redirectToHomePage:function(){var e=this;this.$swal({title:"Payment confirmation",text:"If you proceed your credit card will be charged.",showCancelButton:!0,confirmButtonText:"Pay now",showLoaderOnConfirm:!0,preConfirm:function(){var t={headers:{Authorization:"Bearer "+localStorage.getItem("token")}};return e.$axios.post("http://localhost:8080/api/reservations/sendEmails/"+e.groupReservationId,t).then(function(e){if(!e)throw new Error(e.statusText);return e}).catch(function(t){e.$swal("Error","Request failed: "+t,"error")})},allowOutsideClick:!1}).then(function(t){t.dismiss||e.$swal({title:"Confirmation e-mail sent",type:"success",timer:2e3,showConfirmButton:!1,allowOutsideClick:!1}).then(function(t){e.$router.replace({path:"/"})})})}},created:function(){this.passengerInfo=[];for(var e=0;e<this.passengerCountSearch;e++){var t={firstName:"",lastName:"",passportNumber:""};this.passengerInfo.push(t)}}},nn=rn,on=(a("86d2"),a("7e85")),ln=a("e516"),cn=a("9c54"),un=a("56a4"),dn=Object(h["a"])(nn,an,sn,!1,null,"16d399c6",null),vn=dn.exports;p()(dn,{VAlert:de["a"],VBtn:f["a"],VCard:U["a"],VCardText:ve["b"],VCardTitle:z["a"],VCheckbox:Be["a"],VContainer:he["a"],VDataTable:De["a"],VDivider:dt["a"],VFlex:W["a"],VItem:Q["a"],VItemGroup:G["b"],VLayout:J["a"],VScrollYTransition:rs["e"],VStepper:on["a"],VStepperContent:ln["a"],VStepperHeader:cn["a"],VStepperItems:cn["b"],VStepperStep:un["a"],VTextField:X["a"]});var hn={headers:{Authorization:"Bearer "+localStorage.getItem("token")}},mn={components:{"flight-reservation":vn},computed:{minimalDepartureDate:function(){var e=new Date;return e.toISOString().substr(0,10)},minimalReturnDate:function(){if(this.roundTripSearch.departureDate){var e=Date.parse(this.roundTripSearch.departureDate),t=new Date;return t.setTime(e+864e5),t.toISOString().substr(0,10)}return(new Date).toISOString().substr(0,10)}},data:function(){return{searchType:"One-way",searchTypeItems:["One-way","Round-trip","Multi-city"],searchClass:"Economy",searchClassItems:["Economy","Business","First"],showPassengersCountMenu:!1,passengersCount:1,oneWaySearch:{showMenu:!1,departure:{id:void 0},destination:{id:void 0},date:void 0,filterEnabled:!1},roundTripSearch:{departure:"",destination:"",departureDate:"",showDepartureDateMenu:!1,returnDate:"",showReturnDateMenu:!1},multiCitySearch:{routes:[{showMenu:!1,departure:"",destination:"",date:""},{showMenu:!1,departure:"",destination:"",date:""}]},searchResults:[],page:0,size:5,image:"https://carwad.net/sites/default/files/aeroplane-logo-102302-3436257.jpg",showDeal:!1,selectedFlight:{},searchResultAirlines:[],filterOptions:{airlines:[],stopsCount:[],minPrice:0,maxPrice:2e3,priceRange:[0,2e3],selectedClasses:[]},availableDestinations:[],showReservationStepper:!1}},methods:{selectionItemText:function(e){return e.name+" ("+e.airportCode+")"},incrementPassengersCount:function(){this.passengersCount<20&&this.passengersCount++},decrementPassengersCount:function(){this.passengersCount>1&&this.passengersCount--},swap:function(e){var t=[e.destination,e.departure];e.departure=t[0],e.destination=t[1]},performOneWaySearch:function(){var e=this;if(this.oneWaySearch.departure.id&&this.oneWaySearch.destination.id&&this.oneWaySearch.date)if(this.oneWaySearch.filterEnabled){var t=2;"direct"==this.filterOptions.stopsCount?(t=0,console.log(t)):"1"==this.filterOptions.stopsCount?(t=1,console.log(t)):"2+"==this.filterOptions.stopsCount&&(t=2,console.log(t));var a=this.filterOptions.priceRange[0],s=this.filterOptions.priceRange[1],i={departureId:this.oneWaySearch.departure.id,destinationId:this.oneWaySearch.destination.id,departureDate:this.oneWaySearch.date,passengerCount:this.passengersCount,flightClassString:this.searchClass,airlines:this.filterOptions.airlines,stopsCount:t,minPrice:a,maxPrice:s};hn.params={page:this.page,size:this.size},this.$axios.post("http://localhost:8080/api/flightSearch/oneWayFilterSearch",i,hn).then(function(t){t.data.length>0?e.searchResults=t.data:(e.page-=1,e.searchResults=[],e.$swal.fire({title:"No results",html:"Search with given parameters returned 0 results.",type:"info",showConfirmButton:!1,timer:1500,allowOutsideClick:!0}))}).catch(function(t){e.$swal("Error",t.response.data.message,"error")})}else this.$axios.get("http://localhost:8080/api/flightSearch/oneWaySearch",{params:{page:this.page,size:this.size,departureId:this.oneWaySearch.departure.id,destinationId:this.oneWaySearch.destination.id,departureDate:this.oneWaySearch.date,passengerCount:this.passengersCount,flightClassString:this.searchClass}}).then(function(t){t.data.length>0?e.searchResults=t.data:(e.page-=1,e.searchResults=[],e.$swal.fire({title:"No results",html:"Search with given parameters returned 0 results.",type:"info",showConfirmButton:!1,timer:1500,allowOutsideClick:!0}))}).catch(function(t){e.$swal("Error",t.response.data.message,"error")});else this.$swal("Error","Please fill out all fields.","error")},performRoundTripSearch:function(){},addRow:function(){this.multiCitySearch.routes.length<7&&this.multiCitySearch.routes.push({from:"",to:""})},removeRow:function(){this.multiCitySearch.routes.length>2&&this.multiCitySearch.routes.splice(-1,1)},performMultiCitySearch:function(){},nextPage:function(){var e=this;this.page+=1,this.oneWaySearch.departure.id&&this.oneWaySearch.destination.id&&this.oneWaySearch.date?this.$axios.get("http://localhost:8080/api/flightSearch/oneWaySearch",{params:{page:this.page,size:this.size,departureId:this.oneWaySearch.departure.id,destinationId:this.oneWaySearch.destination.id,departureDate:this.oneWaySearch.date,passengerCount:this.passengersCount,flightClassString:this.searchClass}}).then(function(t){t.data.length>0?e.searchResults=t.data:(e.page-=1,e.$swal({title:"No results",html:"There are no more flight that satisfy the given search criteria.",type:"info",showConfirmButton:!1,timer:1500,allowOutsideClick:!0}))}).catch(function(t){e.$swal("Error",t.response.data.message,"error")}):this.$swal("Error","Please fill out all fields.","error")},previousPage:function(){this.page-=1,"One-way"==this.searchType?this.performOneWaySearch():"Round-trip"==this.searchType?this.performRoundTripSearch():"Multi-city"==this.searchType&&this.performMultiCitySearch()},flightSelected:function(e){this.selectedFlight=e,this.showReservationStepper=!0},transitLabelContent:function(e){return 0==e.transitCount?"direct":1==e.transitCount?"1 stop":e.transitCount+" stops"},doShowDeal:function(e){this.selectedFlight=e,this.showDeal=!0},resetFilter:function(){this.filterOptions={airlines:[],stopsCount:[],minPrice:0,maxPrice:2e3,priceRange:[0,2e3],selectedClasses:[]},this.filterOptions.airlines=this.searchResultAirlines,"One-way"==this.searchType?(this.oneWaySearch.filterEnabled=!1,this.performOneWaySearch()):"Round-trip"==this.searchType?(this.roundTripSearch.filterEnabled=!1,this.performRoundTripSearch()):"Multi-city"==this.searchType&&(this.multiCitySearch.filterEnabled=!1,this.performMultiCitySearch())},filterData:function(){"One-way"==this.searchType?(this.oneWaySearch.filterEnabled=!0,this.performOneWaySearch()):"Round-trip"==this.searchType?(this.roundTripSearch.filterEnabled=!0,this.performRoundTripSearch()):"Multi-city"==this.searchType&&(this.multiCitySearch.filterEnabled=!0,this.performMultiCitySearch())}},created:function(){var e=this;this.$axios.get("http://localhost:8080/api/flightSearch/getAllDestinations",hn).then(function(t){e.availableDestinations=t.data}).catch(function(t){e.$swal("Error",t.response.data.message,"error")}),this.$axios.get("http://localhost:8080/api/flightSearch/getAirlineNames",hn).then(function(t){e.searchResultAirlines=t.data,e.filterOptions.airlines=e.searchResultAirlines}).catch(function(t){e.$swal("Error",t.response.data.message,"error")})}},pn=mn,fn=a("67b6"),gn=a("43a6"),bn=a("5963"),xn=Object(h["a"])(pn,en,tn,!1,null,null,null),yn=xn.exports;p()(xn,{VAutocomplete:Xi["a"],VBtn:f["a"],VCard:U["a"],VCardActions:ve["a"],VCardText:ve["b"],VCardTitle:z["a"],VCheckbox:Be["a"],VContainer:he["a"],VDatePicker:H["a"],VDialog:me["a"],VFlex:W["a"],VIcon:g["a"],VImg:Y["a"],VItem:Q["a"],VItemGroup:G["b"],VLayout:J["a"],VList:fe["a"],VMenu:K["a"],VRadio:fn["a"],VRadioGroup:gn["a"],VRangeSlider:bn["a"],VSelect:vt["a"],VSpacer:b["a"],VTextField:X["a"]});var Cn={components:{"flights-search":yn},data:function(){return{}},methods:{},created:function(){}},wn=Cn,kn=Object(h["a"])(wn,Zr,Xr,!1,null,null,null),_n=kn.exports,$n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"search-users"},[a("search-users")],1)},Sn=[],Dn=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"users"},[s("v-container",{staticClass:"my-1"},[s("h1",{staticClass:"mx-3"},[e._v("Search users")]),s("h4",{staticClass:"mx-3"},[e._v("Type in the first or last name of the user you want to add to your friends list.")]),s("h4",{staticClass:"mx-3"},[e._v("Note that the results do not contain users that are in your friends list.")]),s("v-layout",{attrs:{row:""}},[s("v-text-field",{staticClass:"mx-3",attrs:{"append-icon":"search",label:"Search users","single-line":""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchUsers(t)}},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),s("v-btn",{attrs:{disabled:e.isDisabled},on:{click:e.searchUsers}},[s("span",[e._v("Search")])])],1),s("v-layout",{attrs:{row:"",wrap:""}},e._l(e.displayedUsers,function(t){return s("v-flex",{key:t.email,attrs:{xs12:"",sm6:"",lg2:""}},[s("v-card",{staticClass:"text-xs-center ma-3",attrs:{flat:""}},[s("v-responsive",{staticClass:"pt-4"},[s("v-avatar",{staticClass:"grey lighten-2",attrs:{size:"100"}},[s("img",{attrs:{src:a("0f71")}})])],1),s("v-card-text",[s("div",{staticClass:"subheading"},[e._v(e._s(t.firstName+" "+t.lastName))]),s("div",{staticClass:"grey--text"},[e._v(e._s(t.email))])]),s("v-card-actions",{staticClass:"justify-center"},[s("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(a){return e.sendFriendRequest(t.email)}}},[s("v-flex",[s("v-icon",{attrs:{small:"",left:""}},[e._v("add")]),s("span",[e._v("Add to Friends")])],1)],1)],1)],1)],1)}),1),s("div",{staticClass:"text-xs-center"},[s("v-pagination",{attrs:{length:e.pages.length},model:{value:e.page,callback:function(t){e.page=t},expression:"page"}}),e.resultsListEmpty?s("h2",[e._v("No results")]):e._e()],1)],1)],1)},Vn=[],In=(a("386d"),{data:function(){return{search:"",users:[],page:1,perPage:12,pages:[]}},methods:{searchUsers:function(){var e=this;if(/\S/.test(this.search)){var t={headers:{Authorization:"Bearer "+localStorage.getItem("token")}};this.$axios.get("http://localhost:8080/api/searchUsers/"+this.search,t).then(function(t){e.users=t.data.users,0==e.users.length&&e.$swal("No results","Your search returned 0 results. Please try another query.","info")}).catch(function(t){e.$swal("Error",t.response.data.message,"error")})}},setPages:function(){this.pages=[];for(var e=Math.ceil(this.users.length/this.perPage),t=1;t<=e;t++)this.pages.push(t)},paginate:function(e){var t=this.page,a=this.perPage,s=t*a-a,i=t*a;return e.slice(s,i)},sendFriendRequest:function(e){var t=this,a={headers:{Authorization:"Bearer "+localStorage.getItem("token"),"Content-type":"text/plain"}};this.$axios.put("http://localhost:8080/api/addFriend/",e,a).then(function(e){t.$swal("Success","Friend request sent successfuly","success")}).catch(function(e){t.$swal("Unable to complete action","The user is already in your friends list","info")})}},watch:{users:function(){this.setPages()}},computed:{displayedUsers:function(){return this.paginate(this.users)},isDisabled:function(){return 0==this.search.length},resultsListEmpty:function(){return 0==this.users.length}}}),Tn=In,An=a("6b53"),Rn=Object(h["a"])(Tn,Dn,Vn,!1,null,null,null),En=Rn.exports;p()(Rn,{VAvatar:qs["a"],VBtn:f["a"],VCard:U["a"],VCardActions:ve["a"],VCardText:ve["b"],VContainer:he["a"],VFlex:W["a"],VIcon:g["a"],VLayout:J["a"],VPagination:je["a"],VResponsive:An["a"],VTextField:X["a"]});var Pn={components:{"search-users":En},data:function(){return{}},methods:{},created:function(){}},Ln=Pn,qn=Object(h["a"])(Ln,$n,Sn,!1,null,null,null),On=qn.exports,Fn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"add-user"}},[a("h1",[e._v(" Login")]),a("div",[a("v-alert",{attrs:{value:e.success,type:"success",transition:"scale-transition"}},[e._v("\n        Login DONE!\n        ")]),a("v-alert",{attrs:{value:e.error,type:"error"}},[e._v("\n            "+e._s(this.error)+"\n        ")])],1),a("div",{attrs:{id:"add-form"}},[a("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[a("form",[a("v-text-field",{attrs:{"error-messages":e.usernameErrors,label:"Username",required:""},on:{input:function(t){return e.$v.user.username.$touch()},blur:function(t){return e.$v.user.username.$touch()}},model:{value:e.user.username,callback:function(t){e.$set(e.user,"username",t)},expression:"user.username"}}),a("v-text-field",{attrs:{"append-icon":e.showPassword?"visibility":"visibility_off",type:e.showPassword?"text":"password","error-messages":e.passwordErrors,label:"Password",required:"",counter:""},on:{"click:append":function(t){e.showPassword=!e.showPassword},input:function(t){return e.$v.user.password.$touch()},blur:function(t){return e.$v.user.password.$touch()}},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}}),a("v-btn",{on:{click:e.submit}},[e._v("submit")])],1)])],1)])},Nn=[],Bn={data:function(){return{user:{username:"",password:""},showPassword:!1,success:!1,error:!1}},validations:{user:{username:{required:ne["required"]},password:{required:ne["required"]}}},computed:{usernameErrors:function(){var e=[];return this.$v.user.username.$dirty?(!this.$v.user.username.required&&e.push("Username is required."),e):e},passwordErrors:function(){var e=[];return this.$v.user.password.$dirty?(!this.$v.user.password.required&&e.push("Password is required."),e):e}},methods:{submit:function(){this.$v.$touch(),this.$v.$invalid||this.logIn()},logIn:function(){var e=this;this.$axios.post("/auth/login",this.user).then(function(t){void 0==t.data.accessToken?e.error="Wrong username or password!":(localStorage.setItem("token",t.data.accessToken),localStorage.setItem("username",e.user.username),localStorage.setItem("role",t.data.role),e.success=!0,e.$emit("logged"))}).catch(function(t){e.error="Wrong username or password!"})}}},jn=Bn,Mn=Object(h["a"])(jn,Fn,Nn,!1,null,null,null),Un=Mn.exports;p()(Mn,{VAlert:de["a"],VBtn:f["a"],VFlex:W["a"],VTextField:X["a"]});var zn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"login"}},[a("h1",[e._v(" Logout")]),a("div",[a("v-alert",{attrs:{value:e.success,type:"success",transition:"scale-transition"}},[e._v("\n            "+e._s(this.success)+"\n            \n        ")]),a("v-alert",{attrs:{value:e.error,type:"error"}},[e._v("\n            "+e._s(this.error)+"\n        ")])],1)])},Hn=[],Wn={data:function(){return{username:"",success:!1,error:!1}},methods:{logOut:function(){void 0==localStorage.getItem("token")?this.error="There is no logged user!":(console.log(localStorage.getItem("username")),this.username=localStorage.getItem("username"),localStorage.removeItem("token"),localStorage.removeItem("username"),localStorage.removeItem("role"),this.success="Logout DONE!\n User "+this.username+" is successfully logged out!")}},created:function(){this.logOut()}},Yn=Wn,Qn=Object(h["a"])(Yn,zn,Hn,!1,null,null,null),Gn=Qn.exports;p()(Qn,{VAlert:de["a"]});var Jn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-flex",[a("v-container",[a("v-card",[a(e.component1,{tag:"component",on:{searchVehicle:e.onSearch,cancelSearch:e.cancelSearch}})],1)],1),a("v-container",[a("v-layout",{attrs:{"align-space-around":"","justify-start":""}},[a("v-toolbar",{attrs:{tabs:""}},[a("v-tabs",{attrs:{"fixed-tabs":"",color:"transparent"},model:{value:e.tabs,callback:function(t){e.tabs=t},expression:"tabs"}},[a("v-tab",{attrs:{href:"#mobile-tabs-5-1"}},[a("span",{staticClass:"text-uppercase grey--text"},[e._v(" Classic reservation")])]),a("v-tab",{attrs:{href:"#mobile-tabs-5-2"}},[a("span",{staticClass:"text-uppercase grey--text"},[e._v(" Quick reservation")])])],1)],1)],1)],1),a("v-container",[a("v-tabs-items",{staticClass:"white elevation-1",model:{value:e.tabs,callback:function(t){e.tabs=t},expression:"tabs"}},[a("v-tab-item",{attrs:{value:"mobile-tabs-5-1"}},[a(e.component2,{tag:"component",attrs:{vehicles:e.vehicles,from:e.from,to:e.to}})],1),a("v-tab-item",{attrs:{value:"mobile-tabs-5-2"}},[a(e.component3,{tag:"component",attrs:{vehicles:e.vehiclesQuick,from:e.from,to:e.to}})],1)],1)],1)],1)},Kn=[],Zn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-flex",{attrs:{xs10:"","offset-xs1":""}},[a("v-form",{ref:"form"},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs3:""}},[a("v-text-field",{attrs:{counter:10,label:"Manufacturer"},model:{value:e.searchVehicle.manufacturer,callback:function(t){e.$set(e.searchVehicle,"manufacturer",t)},expression:"searchVehicle.manufacturer"}})],1),a("v-divider",{staticClass:"mx-2",attrs:{vertical:"",dark:""}}),a("v-flex",{attrs:{xs3:""}},[a("v-text-field",{attrs:{label:"Model"},model:{value:e.searchVehicle.model,callback:function(t){e.$set(e.searchVehicle,"model",t)},expression:"searchVehicle.model"}})],1),a("v-divider",{staticClass:"mx-2",attrs:{vertical:"",dark:""}}),a("v-flex",{attrs:{xs10:""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",[a("v-range-slider",{attrs:{max:5,min:.9,step:.1,label:"Engine"},model:{value:e.searchVehicle.engine,callback:function(t){e.$set(e.searchVehicle,"engine",t)},expression:"searchVehicle.engine"}})],1),a("v-flex",{staticStyle:{width:"60px"},attrs:{shrink:""}},[a("v-text-field",{staticClass:"pl-3",attrs:{"hide-details":"","single-line":"",type:"number",readonly:""},model:{value:e.searchVehicle.engine[0],callback:function(t){e.$set(e.searchVehicle.engine,0,t)},expression:"searchVehicle.engine[0]"}})],1),a("v-flex",{staticStyle:{width:"60px"},attrs:{shrink:""}},[a("v-text-field",{staticClass:"pl-3",attrs:{"hide-details":"","single-line":"",type:"number",readonly:""},model:{value:e.searchVehicle.engine[1],callback:function(t){e.$set(e.searchVehicle.engine,1,t)},expression:"searchVehicle.engine[1]"}})],1)],1)],1)],1),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs4:""}},[a("v-select",{attrs:{items:e.items,label:"Select fuel"},model:{value:e.searchVehicle.fuel,callback:function(t){e.$set(e.searchVehicle,"fuel",t)},expression:"searchVehicle.fuel"}})],1),a("v-divider",{staticClass:"mx-2",attrs:{vertical:"",dark:""}}),a("v-flex",{attrs:{xs8:""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",[a("v-slider",{attrs:{max:8,min:1,step:1,label:"Seats count"},model:{value:e.searchVehicle.seatsCount,callback:function(t){e.$set(e.searchVehicle,"seatsCount",t)},expression:"searchVehicle.seatsCount"}})],1),a("v-flex",{staticStyle:{width:"60px"},attrs:{shrink:""}},[a("v-text-field",{staticClass:"pl-2",attrs:{"hide-details":"","single-line":"",readonly:""},model:{value:e.searchVehicle.seatsCount,callback:function(t){e.$set(e.searchVehicle,"seatsCount",t)},expression:"searchVehicle.seatsCount"}})],1)],1)],1),a("v-divider",{staticClass:"mx-3",attrs:{vertical:"",dark:""}}),a("v-flex",{attrs:{xs2:""}},[a("v-switch",{attrs:{label:"Automatic"},model:{value:e.searchVehicle.transmission,callback:function(t){e.$set(e.searchVehicle,"transmission",t)},expression:"searchVehicle.transmission"}})],1),a("v-divider",{staticClass:"mx-2",attrs:{vertical:"",dark:""}}),a("v-flex",{attrs:{xs2:""}},[a("v-switch",{attrs:{label:"Aircondition"},model:{value:e.searchVehicle.airCondition,callback:function(t){e.$set(e.searchVehicle,"airCondition",t)},expression:"searchVehicle.airCondition"}})],1)],1),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",[a("v-range-slider",{attrs:{max:2019,min:1900,step:1,label:"Year"},model:{value:e.searchVehicle.year,callback:function(t){e.$set(e.searchVehicle,"year",t)},expression:"searchVehicle.year"}})],1),a("v-flex",{staticStyle:{width:"70px"},attrs:{shrink:""}},[a("v-text-field",{staticClass:"pl-3",attrs:{"hide-details":"","single-line":"",type:"number",readonly:""},model:{value:e.searchVehicle.year[0],callback:function(t){e.$set(e.searchVehicle.year,0,t)},expression:"searchVehicle.year[0]"}})],1),a("v-flex",{staticStyle:{width:"70px"},attrs:{shrink:""}},[a("v-text-field",{staticClass:"pl-3",attrs:{"hide-details":"","single-line":"",type:"number",readonly:""},model:{value:e.searchVehicle.year[1],callback:function(t){e.$set(e.searchVehicle.year,1,t)},expression:"searchVehicle.year[1]"}})],1)],1)],1)],1),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",[a("v-range-slider",{attrs:{max:1e3,min:0,step:10,label:"Rental price range"},model:{value:e.searchVehicle.dailyRentalPrice,callback:function(t){e.$set(e.searchVehicle,"dailyRentalPrice",t)},expression:"searchVehicle.dailyRentalPrice"}})],1),a("v-flex",{staticStyle:{width:"80px"},attrs:{shrink:""}},[a("v-text-field",{staticClass:"pl-2",attrs:{"hide-details":"","single-line":"",type:"number",readonly:""},model:{value:e.searchVehicle.dailyRentalPrice[0],callback:function(t){e.$set(e.searchVehicle.dailyRentalPrice,0,t)},expression:"searchVehicle.dailyRentalPrice[0]"}})],1),a("v-flex",{staticStyle:{width:"80px"},attrs:{shrink:""}},[a("v-text-field",{staticClass:"pl-2",attrs:{"hide-details":"","single-line":"",type:"number",readonly:""},model:{value:e.searchVehicle.dailyRentalPrice[1],callback:function(t){e.$set(e.searchVehicle.dailyRentalPrice,1,t)},expression:"searchVehicle.dailyRentalPrice[1]"}})],1)],1)],1)],1),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs4:"","offset-xs4":""}},[a("v-text-field",{attrs:{label:"City"},model:{value:e.searchVehicle.city,callback:function(t){e.$set(e.searchVehicle,"city",t)},expression:"searchVehicle.city"}})],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{on:{click:e.submit}},[e._v("submit")]),a("v-btn",{attrs:{color:"error"},on:{click:e.cancel}},[e._v("cancel")])],1)],1)],1)},Xn=[],eo={data:function(){return{searchVehicle:{manufacturer:"",model:"",year:[1900,2019],fuel:"",engine:[.9,5],transmission:"",seatsCount:"",airCondition:"",dailyRentalPrice:[0,1e3],dateFrom:"",dateTo:"",city:""},items:["Gasoline","Diesel","Liquified Petroleum","Compressed Natural Gas","Ethanol","Bio-diesel"]}},methods:{cancel:function(){this.searchVehicle={manufacturer:"",model:"",year:[0,2019],fuel:"",engine:[.9,5],transmission:"",seatsCount:"",airCondition:"",dailyRentalPrice:[0,1e3],dateFrom:"",dateTo:"",mainRentACar:"",city:""},this.$emit("cancelSearch")},submit:function(){this.$emit("searchVehicle",this.searchVehicle)}}},to=eo,ao=Object(h["a"])(to,Zn,Xn,!1,null,null,null),so=ao.exports;p()(ao,{VBtn:f["a"],VCardActions:ve["a"],VDivider:dt["a"],VFlex:W["a"],VForm:pe["a"],VLayout:J["a"],VRangeSlider:bn["a"],VSelect:vt["a"],VSlider:Je["a"],VSpacer:b["a"],VSwitch:aa["a"],VTextField:X["a"]});var io={components:{vehicleParamSearch:so,vehicleForRes:ls},data:function(){return{component1:"vehicleParamSearch",component2:"vehicleForRes",component3:"vehicleForRes",tabs:null,vehicles:[],vehiclesQuick:[],fromInput:"2019-07-30",toInput:"2019-08-30",country:"Serbia"}},methods:{getImgUrl:function(e){var t=a("883a");return t("./"+e)},priceForPeriod:function(e){var t=864e5,a=Date.parse(this.from),s=Date.parse(this.to);return e*(s-a)/t},cancelSearch:function(){var e={country:this.country,from:this.from,to:this.to};this.fetchVehicles(e)},fetchVehicles:function(e){var t=this;this.$axios.get("http://localhost:8080/api/availableVehicles/"+e.from+"/"+e.to+"/"+e.country).then(function(e){var a=e.data;t.vehicles=[],a.forEach(function(e){return t.vehicles.push({id:e.id,manufacturer:e.manufacturer,model:e.model,year:e.year,fuel:e.fuel,engine:e.engine,transmission:e.transmission,seatsCount:e.seatsCount,airCondition:e.airCondition,dailyRentalPrice:e.dailyRentalPrice,image:t.getImgUrl(e.image),totalPrice:t.priceForPeriod(e.dailyRentalPrice),mainRentACar:"My rent-a-car service"})})}).catch(function(e){alert(e.resposne),t.search="error",t.$slots="no-results"})},fetchQuickVehicles:function(e){var t=this;this.$axios.get("http://localhost:8080/api/quickResVehicles/"+e.from+"/"+e.to+"/"+e.country).then(function(e){var a=e.data;t.vehiclesQuick=[],a.forEach(function(e){return t.vehiclesQuick.push({id:e.id,manufacturer:e.manufacturer,model:e.model,year:e.year,fuel:e.fuel,engine:e.engine,transmission:e.transmission,seatsCount:e.seatsCount,airCondition:e.airCondition,dailyRentalPrice:e.dailyRentalPrice,image:t.getImgUrl(e.image),totalPrice:e.dailyRentalPrice,quick:!0})})}).catch(function(e){alert(e.resposne),t.search="error",t.$slots="no-results"})},onSearch:function(e){var t=this;e.dateFrom=this.from,e.dateTo=this.to,this.$axios.post("http://localhost:8080/api/vehicleSearch/"+this.country,e).then(function(e){var a=e.data;t.vehicles=[],a.forEach(function(e){return t.vehicles.push({id:e.id,manufacturer:e.manufacturer,model:e.model,year:e.fuel,fuel:e.fuel,engine:e.engine,transmission:e.transmission,seatsCount:e.seatsCount,airCondition:e.airCondition,dailyRentalPrice:e.dailyRentalPrice,image:t.getImgUrl(e.image),totalPrice:t.priceForPeriod(e.dailyRentalPrice)})})}).catch(function(e){alert(e.resposne),t.search="error",t.$slots="no-results"})},trim:function(e){return e.substring(0,10)}},created:function(){var e={country:this.country,from:this.from,to:this.to};this.fetchVehicles(e),this.fetchQuickVehicles(e)},computed:{from:function(){return this.fromInput.substring(0,10)},to:function(){return this.toInput.substring(0,10)}}},ro=io,no=a("aac8"),oo=Object(h["a"])(ro,Jn,Kn,!1,null,null,null),lo=oo.exports;p()(oo,{VCard:U["a"],VContainer:he["a"],VFlex:W["a"],VLayout:J["a"],VTab:bt["a"],VTabItem:ri["a"],VTabs:xt["a"],VTabsItems:no["a"],VToolbar:x["a"]});var co=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"reserveHotel"}},[a(e.component,{tag:"component",attrs:{hotelId:e.hotelId,checkInDate:e.checkInDate,checkOutDate:e.checkOutDate},on:{goToQuickReservations:function(t){return e.changeComp(t)},goBackToRegularReservation:function(t){e.component="hotelReservation"}}})],1)},uo=[],vo=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"hotelReservation"},[a("v-snackbar",{attrs:{right:"",top:"",color:"indigo"},model:{value:e.empty,callback:function(t){e.empty=t},expression:"empty"}},[e._v("\n      We're all out of hotels :(\n      "),a("v-btn",{attrs:{color:"white",flat:""},on:{click:function(t){e.empty=!1}}},[e._v("\n      Close\n      ")])],1),a("v-stepper",{attrs:{vertical:""},model:{value:e.e6,callback:function(t){e.e6=t},expression:"e6"}},[a("v-stepper-step",{attrs:{complete:e.e6>1,step:"1"}},[e._v("Pick a hotel")]),a("v-stepper-content",{attrs:{step:"1"}},[a("v-dialog",{attrs:{"max-width":"600px",persistent:""},model:{value:e.dateDialog,callback:function(t){e.dateDialog=t},expression:"dateDialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"ml-3 headline font-weight-light indigo--text"},[e._v("Please put in information about your stay")])]),a("v-card-text",[a("v-layout",{attrs:{row:""}},[a("v-menu",{attrs:{"close-on-content-click":!0,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on;return[a("v-flex",{attrs:{xs6:"",md6:""}},[a("v-text-field",e._g({staticClass:"mx-3",attrs:{"append-icon":"event",label:"Check-in*","max-width":"30px"},model:{value:e.checkInDate,callback:function(t){e.checkInDate=t},expression:"checkInDate"}},s))],1)]}}]),model:{value:e.checkInMenuDialog,callback:function(t){e.checkInMenuDialog=t},expression:"checkInMenuDialog"}},[a("v-date-picker",{attrs:{color:"indigo lighten-1"},on:{input:function(t){e.checkInMenuDialog=!1}},model:{value:e.checkInDate,callback:function(t){e.checkInDate=t},expression:"checkInDate"}})],1),a("v-menu",{attrs:{"close-on-content-click":!0,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on;return[a("v-flex",{attrs:{xs6:"",md6:""}},[a("v-text-field",e._g({staticClass:"mx-3",attrs:{"append-icon":"event",label:"Check-out*"},model:{value:e.checkOutDate,callback:function(t){e.checkOutDate=t},expression:"checkOutDate"}},s))],1)]}}]),model:{value:e.checkOutMenuDialog,callback:function(t){e.checkOutMenuDialog=t},expression:"checkOutMenuDialog"}},[a("v-date-picker",{attrs:{color:"indigo lighten-1"},on:{input:function(t){e.checkOutMenuDialog=!1}},model:{value:e.checkOutDate,callback:function(t){e.checkOutDate=t},expression:"checkOutDate"}})],1)],1),a("v-layout",{staticClass:"px-3",attrs:{row:""}},[a("v-range-slider",{attrs:{label:"Price range",max:5e3,min:0,step:100,"thumb-label":""},model:{value:e.priceRange,callback:function(t){e.priceRange=t},expression:"priceRange"}})],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{flat:"",color:"indigo"},on:{click:e.validateDates}},[e._v("Confirm")])],1)],1)],1),a("v-flex",{staticClass:"d-flex"},[a("v-flex",{attrs:{xs4:"",md4:""}},[a("div",{attrs:{id:"form"}},[a("form",[a("v-flex",[a("v-layout",{attrs:{column:""}},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs6:"",md6:""}},[a("v-text-field",{staticClass:"mx-3",attrs:{"append-icon":"search",label:"Hotel name"},model:{value:e.hotelName,callback:function(t){e.hotelName=t},expression:"hotelName"}})],1),a("v-flex",{attrs:{xs6:"",md6:""}},[a("v-text-field",{staticClass:"mx-3",attrs:{"append-icon":"location_on",label:"Hotel location"},model:{value:e.hotelLocation,callback:function(t){e.hotelLocation=t},expression:"hotelLocation"}})],1)],1),a("v-btn",{attrs:{outline:"",color:"indigo"},on:{click:e.fetchHotels}},[a("span",[e._v("Search hotels")])])],1)],1)],1)]),a("div",{attrs:{id:"info"}},[e.showCard?a("v-card",{staticClass:"mb-2",attrs:{flat:""}},[a("v-spacer"),a("v-toolbar",{attrs:{color:"white",flat:""}}),a("v-card-text",[a("v-layout",{attrs:{row:""}},[a("v-menu",{attrs:{"close-on-content-click":!0,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on;return[a("v-flex",{attrs:{xs6:"",md6:""}},[a("v-text-field",e._g({staticClass:"mx-3",attrs:{"append-icon":"event",label:"Check-in*","max-width":"30px"},model:{value:e.checkInDate,callback:function(t){e.checkInDate=t},expression:"checkInDate"}},s))],1)]}}],null,!1,2635761583),model:{value:e.checkInMenu,callback:function(t){e.checkInMenu=t},expression:"checkInMenu"}},[a("v-date-picker",{attrs:{color:"indigo lighten-1"},on:{input:function(t){e.checkInMenu=!1}},model:{value:e.checkInDate,callback:function(t){e.checkInDate=t},expression:"checkInDate"}})],1),a("v-menu",{attrs:{"close-on-content-click":!0,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on;return[a("v-flex",{attrs:{xs6:"",md6:""}},[a("v-text-field",e._g({staticClass:"mx-3",attrs:{"append-icon":"event",label:"Check-out*"},model:{value:e.checkOutDate,callback:function(t){e.checkOutDate=t},expression:"checkOutDate"}},s))],1)]}}],null,!1,732677709),model:{value:e.checkOutMenu,callback:function(t){e.checkOutMenu=t},expression:"checkOutMenu"}},[a("v-date-picker",{attrs:{color:"indigo lighten-1"},on:{input:function(t){e.checkOutMenu=!1}},model:{value:e.checkOutDate,callback:function(t){e.checkOutDate=t},expression:"checkOutDate"}})],1)],1),a("v-layout",{staticClass:"px-3",attrs:{row:""}},[a("v-range-slider",{attrs:{label:"Price range",max:5e3,min:0,step:100,"thumb-label":""},model:{value:e.priceRange,callback:function(t){e.priceRange=t},expression:"priceRange"}})],1)],1)],1):e._e()],1)]),a("div",{attrs:{id:"hotelList"}},[a("v-item-group",[a("v-layout",{attrs:{column:""}},[a("v-list",{staticClass:"scroll-y pt-0",staticStyle:{height:"700px"}},e._l(this.hotels,function(t){return a("v-flex",{key:t.name,staticClass:"d-inline align-center"},[a("v-item",{attrs:{width:"100%"}},[a("div",{staticStyle:{margin:"auto"}},[a("v-card",{attrs:{flat:""}},[a("v-container",{attrs:{fluid:""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",md12:""}},[a("v-card",[a("v-layout",[a("v-flex",{attrs:{xs4:"",md4:""}},[a("v-img",{attrs:{src:e.image,height:"100%","max-height":"170px","max-width":"372px"}})],1),a("v-flex",{attrs:{xs5:"",md5:""}},[a("v-card-title",{attrs:{"primary-title":""}},[a("div",[a("div",{staticClass:"headline"},[e._v(e._s(t.name))]),a("div",{staticClass:"pl-0"},[a("v-icon",{staticClass:"mr-1",attrs:{small:""}},[e._v("location_on")]),a("span",{staticClass:"grey--text text--darken-2 "},[e._v(e._s(t.location.street))])],1),a("div",{staticClass:"d-flex"},[a("v-rating",{attrs:{value:e.rating,color:"amber",dense:"","half-increments":"",readonly:""}})],1),a("div",[a("v-btn",{staticClass:"text-uppercase font-weight-bold indigo--text mx-0 px-1",attrs:{flat:""},on:{click:function(a){return e.goToQuickRes(t.id)}}},[a("u",[e._v("Discounted rooms")])])],1)])])],1),a("v-flex",{attrs:{xs3:"",md3:""}},[a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{flat:""},on:{click:function(a){return e.hotelSelected(t)}}},[e._v("\n                                                          Reserve\n                                                          "),a("v-icon",{attrs:{right:""}},[e._v("input")])],1)],1)],1)],1)],1)],1)],1)],1)],1)],1)])],1)}),1)],1),a("v-layout",{attrs:{"justify-center":""}},[this.page>0?a("v-btn",{attrs:{block:"",flat:""},on:{click:e.previousPage}},[a("v-icon",[e._v("arrow_backward")])],1):a("v-btn",{attrs:{block:"",flat:"",disabled:""}},[a("v-icon",[e._v("arrow_backward")])],1),a("v-btn",{attrs:{block:"",flat:""},on:{click:e.nextPage}},[a("v-icon",[e._v("arrow_forward")])],1)],1)],1)],1)],1)],1),a("v-stepper-step",{attrs:{complete:e.e6>2,step:"2"}},[e._v("Pick a room")]),a("v-stepper-content",{attrs:{step:"2"}},[a(e.component2,{tag:"component",attrs:{selectedHotel:e.selectedHotel,days:e.days,checkInDate:e.checkInDate,checkOutDate:e.checkOutDate,rooms:e.rooms,priceRange:e.priceRange},on:{continueReservation:function(t){return e.finishReservation(t)},goBack:function(t){return e.goBack(t)}}})],1),a("v-stepper-step",{attrs:{complete:e.e6>3,step:"3"}},[e._v("Additional services")]),a("v-stepper-content",{attrs:{step:"3"}},[a(e.component3,{tag:"component",attrs:{days:e.days,reservation:e.reservation,priceListItems:e.priceListItems}})],1)],1)],1)},ho=[],mo=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"rooms"}},[a("v-item-group",[a("v-layout",{attrs:{column:""}},[a("v-list",{staticClass:"scroll-y",staticStyle:{height:"700px"}},e._l(this.selectedHotel.roomTypes,function(t){return a("v-flex",{key:t.type,staticClass:"d-inline align-center"},[e.proveraSoba(t)?a("v-item",{attrs:{width:"100%"}},[a("div",{staticStyle:{margin:"auto"}},[a("v-card",{attrs:{flat:""}},[a("v-container",{attrs:{fluid:""}},[a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{attrs:{xs8:""}},[a("v-card",{attrs:{color:"grey lighten-4"}},[a("v-layout",[a("v-flex",{attrs:{xs3:"",md3:""}},[a("v-img",{staticClass:"elevation-4",attrs:{src:e.image,height:"100%","max-height":"216px","max-width":"372px"}})],1),a("v-flex",{attrs:{xs5:"",md5:""}},[a("v-card-text",{staticClass:"indigo--text font-weight-light subheading"},[a("v-flex",{attrs:{id:"description"}},[e._v("\n                                            "+e._s(t.description)+" ")])],1)],1),a("v-flex",{attrs:{xs4:"",md4:""}},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs5:""}},[a("v-layout",{staticClass:"mt-1 ml-2 indigo--text font-weight-regular subheading",attrs:{column:"",align:"",left:""}},[a("div",{staticClass:"my-2"},[a("v-icon",{attrs:{color:"indigo"}},[e._v("person")]),e._v(" "+e._s(t.capacity))],1),a("v-divider"),a("div",{staticClass:"my-2"},[e._v("Single beds: "+e._s(t.singleBedCount))]),a("v-divider"),a("div",{staticClass:"my-2"},[e._v("Double beds: "+e._s(t.doubleBedCount))]),a("v-divider"),a("div",{staticClass:"my-2"},[e._v("Balcony: \n                                                "),t.hasBalcony?a("v-icon",{attrs:{color:"indigo"}},[e._v("done")]):a("v-icon",{attrs:{color:"indigo"}},[e._v("clear")])],1),a("v-divider"),a("div",{staticClass:"my-2"},[t.hasTV?a("v-icon",{attrs:{color:"indigo"}},[e._v("tv")]):e._e()],1)],1)],1),a("v-layout",{attrs:{column:"",align:"",right:""}},[a("v-card",{staticClass:"white--text",attrs:{height:"216px",color:"indigo lighten-3"}},[a("v-card-title",{attrs:{"primary-title":""}},[a("div",[a("div",{staticClass:"text-xs-center headline font-weight-light"},[e._v("Price for "+e._s(e.days)+" nights:")]),a("div",{staticClass:"mt-1 text-xs-center display-1"},[e._v(e._s(e.totalPrice(t.pricePerNight))+"€")])])]),a("v-card-actions",[a("v-layout",{staticClass:"mt-3",attrs:{row:"",align:"",right:""}},[a("v-select",{attrs:{items:Array.from(e.rooms.filter(function(e){return e.roomType.type==t.type}),function(e,t){return t+1}),label:"Number of rooms",flat:"",solo:"","hide-details":"","background-color":"indigo lighten-4"},model:{value:t.numberOfRooms,callback:function(a){e.$set(t,"numberOfRooms",a)},expression:"room.numberOfRooms"}})],1)],1)],1)],1)],1)],1)],1),a("v-card-actions",{staticClass:"pa-3"},[a("span",{staticClass:"headline indigo--text"},[e._v(e._s(t.type))]),a("v-spacer"),a("v-rating",{attrs:{value:e.averageFeedback,color:"indigo",dense:"","half-increments":"",readonly:""}})],1)],1)],1)],1)],1)],1)],1)]):e._e()],1)}),1)],1)],1),a("v-layout",{staticClass:"mr-5",attrs:{row:""}},[a("v-spacer"),a("v-btn",{attrs:{flat:"",outline:"",color:"indigo"},on:{click:e.reserve}},[e._v("Reserve")]),a("v-btn",{attrs:{flat:""},on:{click:e.goBack}},[e._v("Back")])],1)],1)},po=[],fo={props:["selectedHotel","days","checkInDate","checkOutDate","rooms","priceRange"],data:function(){return{enabled:!1,averageFeedback:3.46,image:"https://i.pinimg.com/originals/1b/c3/5f/1bc35faccb8be639c3326ec41fb20506.jpg",error:!1,reservation:{listOfRooms:[],totalPrice:0}}},methods:{reserve:function(){for(var e=this,t=[],a=0;a<this.selectedHotel.roomTypes.length;a++){var s=this.selectedHotel.roomTypes[a];if(0!=s.numberOfRooms&&void 0!=s.numberOfRooms){var i={roomType:s,numberOfRooms:s.numberOfRooms};t.push(i)}}this.$axios.post("http://localhost:8080/api/rooms/getRooms/"+this.checkInDate+"/"+this.checkOutDate,t).then(function(t){0!=t.data.length?(e.reservation.listOfRooms=t.data,e.reservation.totalPrice=e.calculateTotalPrice(e.reservation.listOfRooms),e.$emit("continueReservation",e.reservation)):e.$swal("At least one room must be chosen.","","info")}).catch(function(t){e.$swal(t.response.data,"","info")})},totalPrice:function(e){return this.days*e},calculateTotalPrice:function(e){for(var t=0,a=0;a<e.length;a++)t+=this.totalPrice(e[a].roomType.pricePerNight);return t},proveraSoba:function(e){return e.pricePerNight>this.priceRange[0]&&e.pricePerNight<this.priceRange[1]},goBack:function(){this.$emit("goBack")}}},go=fo,bo=Object(h["a"])(go,mo,po,!1,null,null,null),xo=bo.exports;p()(bo,{VBtn:f["a"],VCard:U["a"],VCardActions:ve["a"],VCardText:ve["b"],VCardTitle:z["a"],VContainer:he["a"],VDivider:dt["a"],VFlex:W["a"],VIcon:g["a"],VImg:Y["a"],VItem:Q["a"],VItemGroup:G["b"],VLayout:J["a"],VList:fe["a"],VRating:Z["a"],VSelect:vt["a"],VSpacer:b["a"]});var yo=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"additionalServices"}},[a("v-layout",{attrs:{row:"","align-center":"","justify-space-around":"","fill-height":""}},[a("v-flex",{attrs:{xs4:"",sm4:"",md4:""}},[a("v-card",[a("v-toolbar",{staticClass:"elevation-10",attrs:{color:"indigo"}},[a("v-toolbar-title",{staticClass:"text-uppercase white--text font-weight-light"},[e._v("Additional services")])],1)],1),a("v-layout",{staticStyle:{height:"500px"},attrs:{column:""}},[a("v-flex",{staticStyle:{overflow:"auto"}},[a("v-data-table",{staticClass:"elevation-3",attrs:{items:this.priceListItems,"item-key":"name","hide-actions":"","hide-headers":"","headers-length":e.headersLength},scopedSlots:e._u([{key:"items",fn:function(t){return[a("tr",{on:{click:function(e){t.expanded=!t.expanded}}},[a("td",[a("v-checkbox",{attrs:{primary:"","hide-details":"",color:"indigo"},model:{value:t.selected,callback:function(a){e.$set(t,"selected",a)},expression:"props.selected"}})],1),a("td",{staticClass:"text-xs-left font-weight-bold indigo--text"},[e._v(e._s(t.item.name))]),a("td",{staticClass:"text-xs-left font-weight-bold indigo--text"},[e._v(e._s(t.item.price)+"€")])])]}},{key:"expand",fn:function(t){return[a("v-card",{attrs:{flat:""}},[a("v-card-text",[e._v(e._s(t.item.description))])],1)]}}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1)],1)],1),a("v-flex",{attrs:{xs6:"",sm6:"",md6:""}},[a("v-card",[a("v-toolbar",[a("v-toolbar-title",{staticClass:"text-uppercase grey--text"},[a("span",{staticClass:"font-weight-light"},[e._v("Flight")]),a("span",[e._v("Booking")])]),a("v-spacer"),a("span",{staticClass:"title text-uppercase grey--text font-weight-light"},[e._v("Reservation")])],1),a("v-card-text",[a("v-layout",{attrs:{column:""}},[a("v-layout",{staticClass:"title font-weight-light indigo--text",attrs:{row:""}},[a("span",[e._v("Room price:")]),a("v-spacer"),a("span",[e._v(e._s(e.reservation.totalPrice)+"€")])],1),a("br"),a("v-layout",{staticClass:"title font-weight-light indigo--text",attrs:{row:""}},[a("span",[e._v("Additional services:")]),a("v-spacer"),a("span",[e._v(e._s(e.additionalServicesPrice)+"€")])],1),a("br"),a("v-divider",{attrs:{light:""}}),a("br"),a("v-layout",{staticClass:"headline font-weight-medium indigo--text text-uppercase",attrs:{row:""}},[a("span",[e._v("Total")]),a("v-spacer"),a("span",[e._v(e._s(e.totalPrice)+"€")])],1)],1)],1)],1),a("v-layout",{attrs:{row:"",align:"",right:""}},[a("v-btn",{attrs:{flat:""}},[e._v("Cancel")]),a("v-btn",{attrs:{outline:"",color:"success",flat:""},on:{click:e.reserveRooms}},[e._v("\n                    Confirm reservation \n                    "),a("v-icon",{attrs:{right:""}},[e._v("done_outline")])],1)],1)],1)],1)],1)},Co=[],wo={props:["days","reservation","priceListItems"],data:function(){return{temp:[{name:"WiFi",pricePerNight:5,description:"OPIS"},{name:"Parking",pricePerNight:10,description:"OPIS"},{name:"Underground parking",pricePerNight:10,description:"OPIS"},{name:"City tour arrangements",pricePerNight:10,description:"OPIS"},{name:"Smoking area club",pricePerNight:10,description:"OPIS"},{name:"Phone service",pricePerNight:10,description:"OPIS"},{name:"Spa",pricePerNight:10,description:"OPIS"},{name:"Gym",pricePerNight:10,description:"OPIS"},{name:"Dry cleaning",pricePerNight:10,description:"OPIS"},{name:"Laundry service",pricePerNight:10,description:"OPIS"}],selected:[],headersLength:3}},computed:{additionalServicesPrice:function(){for(var e=0,t=0;t<this.selected.length;t++)e+=this.selected[t].price*this.days;return e},totalPrice:function(){return this.additionalServicesPrice+this.reservation.totalPrice}},methods:{reserveRooms:function(){var e=this;this.reservation.additionalServices=this.selected,this.$axios.post("http://localhost:8080/api/reservations/reserveRoom",this.reservation).then(function(t){e.$swal("Reservation successful","","success")}).catch(function(e){console.log(e.response.data)})}}},ko=wo,_o=Object(h["a"])(ko,yo,Co,!1,null,null,null),$o=_o.exports;p()(_o,{VBtn:f["a"],VCard:U["a"],VCardText:ve["b"],VCheckbox:Be["a"],VDataTable:De["a"],VDivider:dt["a"],VFlex:W["a"],VIcon:g["a"],VLayout:J["a"],VSpacer:b["a"],VToolbar:x["a"],VToolbarTitle:y["b"]});var So={components:{rooms:xo,additionalServices:$o},data:function(){return{dateDialog:!1,showCard:!1,component2:"rooms",component3:"additionalServices",selectedHotel:{},reservation:{},e6:1,page:0,size:5,hotels:[],empty:!1,rating:3.46,image:"https://media.cntraveler.com/photos/53da828b6dec627b149eeee6/4:3/w_420,c_limit/fairmont-kea-lani-hawaii-maui.jpg",hotelName:"",hotelLocation:"",guests:"",checkInMenu:!1,checkInMenuDialog:!1,checkInDate:(new Date).toISOString().substr(0,10),checkOutMenu:!1,checkOutMenuDialog:!1,checkOutDate:(new Date).toISOString().substr(0,10),minDate:(new Date).toISOString().substr(0,10),days:"",totalRoomPrice:"",priceListItems:[],priceRange:[0,5e3],rooms:[]}},methods:{fetchHotels:function(){var e=this;this.$axios.get("http://localhost:8080/api/hotels/searchHotels",{params:{page:this.page,size:this.size,hotelName:this.hotelName,hotelLocation:this.hotelLocation}}).then(function(t){e.hotels=t.data})},nextPage:function(){var e=this;this.page+=1,this.$axios.get("http://localhost:8080/api/hotels/searchHotels",{params:{page:this.page,size:this.size,hotelName:this.hotelName,hotelLocation:this.hotelLocation}}).then(function(t){t.data.length>0?e.hotels=t.data:(e.page-=1,e.empty=!0,setTimeout(function(){e.empty=!1},3e3))})},previousPage:function(){this.page-=1,this.fetchHotels()},hotelSelected:function(e){var t=this;this.selectedHotel=e,this.$axios.get("http://localhost:8080/api/hotels/getHotelRooms/"+this.selectedHotel.id+"/"+this.checkInDate+"/"+this.checkOutDate).then(function(e){console.log(e.data),t.rooms=e.data,t.e6=2})},validateDates:function(){if(this.checkOutDate==this.checkInDate||this.checkOutDate<this.checkInDate)return this.$swal("Invalid check-in/check-out dates","","error"),!1;var e=(new Date(this.checkOutDate)-new Date(this.checkInDate))/864e5;return this.days=e,this.dateDialog=!1,this.showCard=!0,!0},finishReservation:function(e){this.reservation=e,this.reservation.selectedHotel=this.selectedHotel,this.reservation.dateFrom=this.checkInDate,this.reservation.dateTo=this.checkOutDate,this.priceListItems=this.selectedHotel.additionalServicesPriceList.priceListItems,this.e6=3},goBack:function(){this.e6-=1},goToQuickRes:function(e){if(this.validateDates)var t={hotelId:e,checkInDate:this.checkInDate,checkOutDate:this.checkOutDate};this.$emit("goToQuickReservations",t)}},mounted:function(){this.dateDialog=!0,this.fetchHotels()}},Do=So,Vo=Object(h["a"])(Do,vo,ho,!1,null,null,null),Io=Vo.exports;p()(Vo,{VBtn:f["a"],VCard:U["a"],VCardActions:ve["a"],VCardText:ve["b"],VCardTitle:z["a"],VContainer:he["a"],VDatePicker:H["a"],VDialog:me["a"],VFlex:W["a"],VIcon:g["a"],VImg:Y["a"],VItem:Q["a"],VItemGroup:G["b"],VLayout:J["a"],VList:fe["a"],VMenu:K["a"],VRangeSlider:bn["a"],VRating:Z["a"],VSnackbar:ps["a"],VSpacer:b["a"],VStepper:on["a"],VStepperContent:ln["a"],VStepperStep:un["a"],VTextField:X["a"],VToolbar:x["a"]});var To=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"quickRoomReservation"}},[a("v-btn",{attrs:{color:"indigo",flat:""},on:{click:e.goBack}},[a("v-icon",{attrs:{left:""}},[e._v("arrow_back")]),e._v("\n        Regular reservation \n    ")],1),a("v-item-group",[a("v-layout",{attrs:{column:""}},[a("v-list",{staticClass:"scroll-y",staticStyle:{height:"700px"}},e._l(this.quickRoomReservations,function(t){return a("v-flex",{key:t.id,staticClass:"d-inline align-center"},[a("v-item",{attrs:{width:"100%"}},[a("div",{staticStyle:{margin:"auto"}},[a("v-card",{attrs:{flat:""}},[a("v-container",{attrs:{fluid:""}},[a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{attrs:{xs8:""}},[a("v-card",{attrs:{color:"grey lighten-4"}},[a("v-layout",[a("v-flex",{attrs:{xs3:"",md3:""}},[a("v-img",{staticClass:"elevation-4",attrs:{src:e.image,height:"100%","max-height":"216px","max-width":"372px"}})],1),a("v-flex",{attrs:{xs5:"",md5:""}},[a("v-card-text",{staticClass:"indigo--text font-weight-light subheading"},[a("v-flex",{attrs:{id:"description"}},[e._v("\n                                            "+e._s(t.room.roomType.description)+"\n                                        ")])],1)],1),a("v-flex",{attrs:{xs4:"",md4:""}},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs5:""}},[a("v-layout",{staticClass:"mt-1 ml-2 indigo--text font-weight-regular subheading",attrs:{column:"",align:"",left:""}},[a("div",{staticClass:"my-2"},[a("v-icon",{attrs:{color:"indigo"}},[e._v("person")]),e._v(" "+e._s(t.room.roomType.capacity))],1),a("v-divider"),a("div",{staticClass:"my-2"},[e._v("Single beds: "+e._s(t.room.roomType.singleBedCount))]),a("v-divider"),a("div",{staticClass:"my-2"},[e._v("Double beds: "+e._s(t.room.roomType.doubleBedCount))]),a("v-divider"),a("div",{staticClass:"my-2"},[e._v("Balcony: \n                                                    "),t.room.roomType.hasBalcony?a("v-icon",{attrs:{color:"indigo"}},[e._v("done")]):a("v-icon",{attrs:{color:"indigo"}},[e._v("clear")])],1),a("v-divider"),a("div",{staticClass:"my-2"},[t.room.roomType.hasTV?a("v-icon",{attrs:{color:"indigo"}},[e._v("tv")]):e._e()],1)],1)],1),a("v-layout",{attrs:{column:"",align:"",right:""}},[a("v-card",{staticClass:"white--text",attrs:{height:"216px",color:"indigo lighten-4"}},[a("v-card-title",{attrs:{"primary-title":""}},[a("div",[a("div",{staticClass:"text-xs-center headline font-weight-light"},[a("s",[e._v("Standard price: "+e._s(t.totalPrice)+"€")])]),a("div",{staticClass:"mt-1 indigo--text font-weight-light text-xs-center display-1"},[e._v("New price: "+e._s(e.calculateDiscountedPrice(t))+"€")])])]),a("v-card-actions",[a("v-layout",{staticClass:"ml-5",attrs:{row:"",align:"",right:""}},[a("v-btn",{attrs:{outline:"",color:"indigo",flat:""}},[e._v("\n                                                            Reserve \n                                                            "),a("v-icon",{attrs:{right:""}},[e._v("done_outline")])],1)],1)],1)],1)],1)],1)],1)],1),a("v-card-actions",{staticClass:"pa-3"},[a("span",{staticClass:"headline indigo--text"},[e._v(e._s(t.room.roomType.type))]),a("v-spacer"),a("v-rating",{attrs:{value:t.room.roomType.averageFeedback,color:"indigo",dense:"","half-increments":"",readonly:""}})],1)],1)],1)],1)],1)],1)],1)])],1)}),1)],1)],1)],1)},Ao=[],Ro={props:["hotelId","checkInDate","checkOutDate"],data:function(){return{quickRoomReservations:[],image:"https://i.pinimg.com/originals/1b/c3/5f/1bc35faccb8be639c3326ec41fb20506.jpg"}},methods:{goBack:function(){this.$emit("goBackToRegularReservation")},calculateDiscountedPrice:function(e){return e.totalPrice-e.totalPrice*(e.discount/100)}},created:function(){var e=this;this.$axios.get("http://localhost:8080/api/hotels/quickRoomReservations",{params:{hotelId:this.hotelId,checkInDate:this.checkInDate,checkOutDate:this.checkOutDate}}).then(function(t){t.data.length>0?(e.quickRoomReservations=t.data,console.log(e.quickRoomReservations)):console.log(e.quickRoomReservations)})}},Eo=Ro,Po=Object(h["a"])(Eo,To,Ao,!1,null,null,null),Lo=Po.exports;p()(Po,{VBtn:f["a"],VCard:U["a"],VCardActions:ve["a"],VCardText:ve["b"],VCardTitle:z["a"],VContainer:he["a"],VDivider:dt["a"],VFlex:W["a"],VIcon:g["a"],VImg:Y["a"],VItem:Q["a"],VItemGroup:G["b"],VLayout:J["a"],VList:fe["a"],VRating:Z["a"],VSpacer:b["a"]});var qo={components:{hotelReservation:Io,viewQuickReservations:Lo},data:function(){return{component:"hotelReservation",hotelId:"",checkInDate:"",checkOutDate:""}},methods:{changeComp:function(e){this.hotelId=e.hotelId,this.checkInDate=e.checkInDate,this.checkOutDate=e.checkOutDate,this.component="viewQuickReservations"}}},Oo=qo,Fo=Object(h["a"])(Oo,co,uo,!1,null,null,null),No=Fo.exports,Bo=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-layout",{attrs:{row:""}},[a("define-discount"),a("add-service")],1)],1)},jo=[],Mo=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-flex",{attrs:{xs9:"",sm9:"",md9:"",id:"add-service"}},[a("v-card",{staticClass:"mr-3 mt-2",staticStyle:{height:"870px"}},[a("v-toolbar",{attrs:{flat:"",dense:"",color:"white"}},[a("v-toolbar-title",{staticClass:"indigo--text text-uppercase"},[a("span",{staticClass:"font-weight-light"},[e._v("Register new service")])])],1),a("v-layout",{attrs:{row:"","justify-center":""}},[a("v-dialog",{attrs:{persistent:"","max-width":"600px"},model:{value:e.adminDialog,callback:function(t){e.adminDialog=t},expression:"adminDialog"}},[a("div",[a("v-alert",{attrs:{value:e.adminError,type:"error",dismissible:""}},[e._v("\n                        "+e._s(this.adminError)+"\n                    ")])],1),a("v-form",{ref:"adminForm"},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v("New administrator")])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"First name"},model:{value:e.tempAdmin.firstName,callback:function(t){e.$set(e.tempAdmin,"firstName",t)},expression:"tempAdmin.firstName"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Last name"},model:{value:e.tempAdmin.lastName,callback:function(t){e.$set(e.tempAdmin,"lastName",t)},expression:"tempAdmin.lastName"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Username*","error-messages":e.usernameErrors},model:{value:e.tempAdmin.username,callback:function(t){e.$set(e.tempAdmin,"username",t)},expression:"tempAdmin.username"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Password*","error-messages":e.passwordErrors},model:{value:e.tempAdmin.password,callback:function(t){e.$set(e.tempAdmin,"password",t)},expression:"tempAdmin.password"}})],1),a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{label:"Email*","error-messages":e.emailErrors},model:{value:e.tempAdmin.email,callback:function(t){e.$set(e.tempAdmin,"email",t)},expression:"tempAdmin.email"}})],1)],1)],1),a("small",[e._v("*indicates required field")])],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"indigo darken-1",flat:""},on:{click:e.close}},[e._v("Close")]),a("v-btn",{attrs:{color:"indigo darken-1",flat:""},on:{click:e.save}},[e._v("Save")])],1)],1)],1)],1)],1),a("v-card-text",[a("v-form",[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs7:"",sm7:"",md7:""}},[a("v-layout",{staticClass:"mr-3",attrs:{column:""}},[a("v-text-field",{attrs:{solo:"","error-messages":e.nameErrors,label:"Name",required:""},model:{value:e.service.name,callback:function(t){e.$set(e.service,"name",t)},expression:"service.name"}}),a("v-select",{staticClass:"mt-0",attrs:{items:e.services,label:"Service",solo:"",dense:""},model:{value:e.pickedService,callback:function(t){e.pickedService=t},expression:"pickedService"}}),a("GmapAutocomplete",{staticClass:"custom-input-field mt-0 elevation-2",on:{place_changed:e.getLocationData}}),a("GmapMap",{staticClass:"custom-map",attrs:{center:e.currentMapCenter,zoom:14,"map-type-id":"terrain",options:{zoomControl:!0,mapTypeControl:!0,scaleControl:!1,streetViewControl:!1,rotateControl:!1,fullscreenControl:!1,disableDefaultUi:!1}}},[this.service.location.latitude?a("GmapMarker",{attrs:{position:e.currentMapCenter,clickable:!1,draggable:!1}}):e._e()],1)],1)],1),a("v-flex",{attrs:{xs5:"",sm5:"",md5:""}},[a("v-layout",{attrs:{column:""}},[a("v-card",[a("v-toolbar",{attrs:{dense:"",flat:"",color:"white"}},[a("v-toolbar-title",{staticClass:"text-xs-center font-weight-light indigo--text"},[e._v("Administrators")]),a("v-spacer"),a("v-btn",{attrs:{icon:""},on:{click:function(t){e.adminDialog=!0}}},[a("v-icon",{attrs:{color:"indigo"}},[e._v("add")])],1)],1),a("v-list",{staticClass:"scroll-y",staticStyle:{height:"700px"},attrs:{"two-line":""}},[e._l(this.service.administrators,function(t){return[a("v-list-tile",{key:t.id},[a("v-list-tile-content",[a("v-list-tile-title",{staticClass:"font-weight-medium indigo--text"},[a("span",{staticClass:"font-weight-light"},[e._v("Username:")]),e._v(" "+e._s(t.username)+"\n                                        "),a("span",{staticClass:"font-weight-light ml-4"},[e._v("Password:")]),e._v(" "+e._s(t.password)+"\n                                    ")]),a("v-list-tile-sub-title",[e._v(e._s(t.firstName)+"  "+e._s(t.lastName))]),a("v-list-tile-sub-title",[e._v(e._s(t.email))])],1),a("v-icon",{staticClass:"mr-1",attrs:{color:"indigo"},on:{click:function(a){return e.deleteAdmin(t)}}},[e._v("\n                                    delete\n                                ")])],1),a("v-divider")]})],2)],1),a("div",[a("v-btn",{attrs:{block:"",flat:"",outline:"",color:"indigo lighten-2"},on:{click:e.submit}},[e._v("submit")])],1)],1)],1)],1)],1)],1)],1)],1)},Uo=[],zo={mixins:[ie["validationMixin"]],validations:{service:{name:{required:ne["required"]},location:{required:ne["required"]}},tempAdmin:{username:{required:ne["required"],minLength:Object(ne["minLength"])(5)},password:{required:ne["required"],minLength:Object(ne["minLength"])(6)},email:{required:ne["required"],email:ne["email"]}}},data:function(){return{service:{name:"",location:{},administrators:[]},success:!1,error:!1,adminError:!1,adminDialog:!1,tempAdmin:{},currentMapCenter:{lat:21,lng:42},services:["AIRLINE","HOTEL","RENT-A-CAR"],pickedService:null}},computed:{nameErrors:function(){var e=[];return this.$v.service.name.$dirty?(!this.$v.service.name.required&&e.push("Name is required."),e):e},addressErrors:function(){var e=[];return this.$v.service.location.street.$dirty?(!this.$v.service.location.street.required&&e.push("Address is required."),e):e},usernameErrors:function(){var e=[];return this.$v.tempAdmin.username.$dirty?(!this.$v.tempAdmin.username.minLength&&e.push("Username must be at least 5 characters long"),!this.$v.tempAdmin.username.required&&e.push("Username is required."),e):e},passwordErrors:function(){var e=[];return this.$v.tempAdmin.password.$dirty?(!this.$v.tempAdmin.password.minLength&&e.push("Password must be at least 6 characters long"),!this.$v.tempAdmin.password.required&&e.push("Password is required."),e):e},emailErrors:function(){var e=[];return this.$v.tempAdmin.email.$dirty?(!this.$v.tempAdmin.email.email&&e.push("E-mail invalid."),!this.$v.tempAdmin.email.required&&e.push("Email is required."),e):e}},methods:{submit:function(){this.$v.service.$touch(),this.$v.service.$invalid||(this.adminEmpty()?this.$swal("At least one administrator must be added!","","warning"):this.addservice())},addservice:function(){null!=this.pickedService?"AIRLINE"==this.pickedService?this.saveAirline():"HOTEL"==this.pickedService?this.saveHotel():"RENT-A-CAR"==this.pickedService&&this.saveRentACar():this.$swal("You must pick a service!","","warning")},saveAirline:function(){var e=this;this.$axios.post("http://localhost:8080/api/airlines",this.service).then(function(t){e.$swal("Registration successfull","Hotel "+t.data.name+" registered successfully","success")}).catch(function(t){e.$swal(t.response.data,"","error")})},saveHotel:function(){var e=this;this.$axios.post("http://localhost:8080/api/hotels",this.service).then(function(t){e.$swal("Registration successfull","Hotel "+t.data.name+" registered successfully","success")}).catch(function(t){e.$swal(t.response.data,"","error")})},saveRentACar:function(){var e=this;this.$axios.post("http://localhost:8080/api/rentACars",this.service).then(function(t){e.$swal("Registration successfull","Hotel "+t.data.name+" registered successfully","success")}).catch(function(t){e.$swal(t.response.data,"","error")})},close:function(){this.adminDialog=!1,this.tempAdmin=Object.assign({},{})},save:function(){this.$v.tempAdmin.$touch(),this.$v.tempAdmin.$invalid||(this.adminExists(this.tempAdmin.username)?this.adminError="Administrator with that username already added":(this.service.administrators.push(this.tempAdmin),this.close()))},adminExists:function(e){for(var t=0;t<this.service.administrators.length;t++)if(this.service.administrators[t].username==e)return!0;return!1},adminEmpty:function(){return 0==this.service.administrators.length},deleteAdmin:function(e){this.service.administrators.pop(e)},getLocationData:function(e){e&&(this.service.location=this.extractLocationData(e),this.currentMapCenter={lat:this.service.location.latitude,lng:this.service.location.longitude},console.log(e))},extractLocationData:function(e){var t={};return t.latitude=e.geometry.location.lat(),t.longitude=e.geometry.location.lng(),t.street=e.name,t.formattedAddress=e.formatted_address,e.address_components.forEach(function(e){e.types.includes("country")?t.country=e.long_name:e.types.includes("locality")&&(t.city=e.long_name)}),t}}},Ho=zo,Wo=(a("e2f8"),Object(h["a"])(Ho,Mo,Uo,!1,null,"c3a14448",null)),Yo=Wo.exports;p()(Wo,{VAlert:de["a"],VBtn:f["a"],VCard:U["a"],VCardActions:ve["a"],VCardText:ve["b"],VCardTitle:z["a"],VContainer:he["a"],VDialog:me["a"],VDivider:dt["a"],VFlex:W["a"],VForm:pe["a"],VIcon:g["a"],VLayout:J["a"],VList:fe["a"],VListTile:ge["a"],VListTileContent:be["a"],VListTileSubTitle:be["b"],VListTileTitle:be["c"],VSelect:vt["a"],VSpacer:b["a"],VTextField:X["a"],VToolbar:x["a"],VToolbarTitle:y["b"]});var Qo=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-flex",{attrs:{xs3:"",sm3:"",md3:""}},[a("v-card",{staticClass:"mx-3 mt-2 scroll-y",staticStyle:{height:"870px"}},[a("v-toolbar",{attrs:{flat:"",dense:"",color:"white"}},[a("v-toolbar-title",{staticClass:"indigo--text text-uppercase"},[a("span",{staticClass:"font-weight-light"},[e._v("Discounts")]),a("span",[e._v("%")])]),a("v-spacer"),a("v-btn",{attrs:{flat:"",color:"indigo"},on:{click:function(t){e.lista=[]}}},[e._v("\n                clear \n            ")]),a("v-btn",{attrs:{icon:""},on:{click:function(t){return e.saveDiscounts()}}},[a("v-icon",{attrs:{color:"indigo"}},[e._v("save")])],1),a("v-btn",{attrs:{icon:""},on:{click:function(t){return e.openDialog()}}},[a("v-icon",{attrs:{color:"indigo"}},[e._v("add")])],1)],1),a("v-card-text",{staticClass:"pt-0"},[a("v-dialog",{attrs:{"max-width":"600px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-toolbar",{attrs:{color:"indigo lighten-2"}},[a("v-toolbar-title",[a("span",{staticClass:"white--text font-weight-light"},[e._v("Add discount")])])],1),a("v-card-text",[a("v-layout",{attrs:{row:""}},[a("v-text-field",{staticClass:"mr-3",attrs:{type:"number",label:"Min points",disabled:0!=this.lista.length,"persistent-hint":""},model:{value:e.value.minPoints,callback:function(t){e.$set(e.value,"minPoints",t)},expression:"value.minPoints"}}),a("v-text-field",{attrs:{type:"number",label:"Max points","persistent-hint":""},model:{value:e.value.maxPoints,callback:function(t){e.$set(e.value,"maxPoints",t)},expression:"value.maxPoints"}}),a("v-icon",{staticClass:"mx-3",attrs:{color:"indigo"}},[e._v("arrow_forward")]),a("v-text-field",{attrs:{type:"number",label:"Discount (%)","persistent-hint":""},model:{value:e.value.discount,callback:function(t){e.$set(e.value,"discount",t)},expression:"value.discount"}}),a("v-btn",{staticClass:"mt-3",attrs:{flat:"",color:"indigo"},on:{click:e.addDiscount}},[e._v("Submit")])],1)],1)],1)],1),e._l(e.lista,function(t){return a("v-flex",{key:t.id},[a("v-layout",{staticClass:"mt-5",attrs:{row:""}},[a("v-flex",{staticClass:"title font-weight-light indigo--text mt-1",attrs:{xs2:"",sm2:"",md2:""}},[a("span",{staticClass:"display-1"},[e._v(e._s(t.discount)+"%")])]),a("v-flex",{attrs:{xs10:"",sm10:"",md10:""}},[a("v-range-slider",{staticClass:"mx-4",attrs:{readonly:"","thumb-label":"always","thumb-color":"indigo lighten-2",color:"indigo lighten-2",min:t.minPoints,max:t.maxPoints},model:{value:t.arr,callback:function(a){e.$set(t,"arr",a)},expression:"item.arr"}})],1)],1),a("v-divider")],1)})],2)],1)],1)},Go=[],Jo={data:function(){return{lista:[],dialog:!1,value:{},arr:[]}},methods:{openDialog:function(){0!=this.lista.length&&(this.value.minPoints=parseInt(this.lista.slice(-1).pop().maxPoints)+1),this.dialog=!0},addDiscount:function(){this.value.minPoints>=this.value.maxPoints?this.$swal("Max value must be biger than min value","","warning"):this.value.minPoints<1||this.value.maxPoints<1?this.$swal("Values must be bigger than zero.","","warning"):(this.arr=new Array(this.value.minPoints,this.value.maxPoints),this.value.arr=this.arr,this.lista.push(this.value),this.value={},this.arr=[],this.dialog=!1)},saveDiscounts:function(){for(var e=[],t=0;t<this.lista.length;t++)e.push({discount:this.lista[t].discount,minPoints:this.lista[t].minPoints,maxPoints:this.lista[t].maxPoints});this.$axios.post("http://localhost:8080/api/discounts",e)}},mounted:function(){var e=this;this.$axios.get("http://localhost:8080/api/discounts").then(function(t){e.lista=t.data;for(var a=0;a<e.lista.length;a++)e.lista[a].arr=new Array(e.lista[a].minPoints,e.lista[a].maxPoints)})}},Ko=Jo,Zo=Object(h["a"])(Ko,Qo,Go,!1,null,null,null),Xo=Zo.exports;p()(Zo,{VBtn:f["a"],VCard:U["a"],VCardText:ve["b"],VDialog:me["a"],VDivider:dt["a"],VFlex:W["a"],VIcon:g["a"],VLayout:J["a"],VRangeSlider:bn["a"],VSpacer:b["a"],VTextField:X["a"],VToolbar:x["a"],VToolbarTitle:y["b"]});var el={components:{"add-service":Yo,"define-discount":Xo}},tl=el,al=Object(h["a"])(tl,Bo,jo,!1,null,null,null),sl=al.exports;p()(al,{VLayout:J["a"]});var il=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-flex",{attrs:{xs6:"",sm6:"",md6:"","offset-sm3":""}},[a("v-card",{staticClass:"mt-4",attrs:{color:"grey lighten-5"}},[a("v-toolbar",{attrs:{flat:"",color:"grey lighten-4"}},[a("v-toolbar-title",{staticClass:"indigo--text text-uppercase"},[a("span",{staticClass:"font-weight-light"},[e._v("My profile")])])],1),a("v-card-text",[a("v-text-field",{attrs:{"error-messages":e.usernameErrors,label:"Username"},on:{input:function(t){return e.$v.user.username.$touch()},blur:function(t){return e.$v.user.username.$touch()}},model:{value:e.user.username,callback:function(t){e.$set(e.user,"username",t)},expression:"user.username"}}),a("v-text-field",{attrs:{label:"New password","append-icon":e.showPassword?"visibility":"visibility_off",type:e.showPassword?"text":"password","error-messages":e.passwordErrors,counter:""},on:{"click:append":function(t){e.showPassword=!e.showPassword},input:function(t){return e.$v.user.password.$touch()},blur:function(t){return e.$v.user.password.$touch()}},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}}),a("v-text-field",{attrs:{label:"New password confirmation","append-icon":e.showPasswordConfirmation?"visibility":"visibility_off",type:e.showPasswordConfirmation?"text":"password","error-messages":e.passwordConfirmationErrors,counter:""},on:{"click:append":function(t){e.showPasswordConfirmation=!e.showPasswordConfirmation},input:function(t){return e.$v.user.passwordConfirmation.$touch()},blur:function(t){return e.$v.user.passwordConfirmation.$touch()}},model:{value:e.user.passwordConfirmation,callback:function(t){e.$set(e.user,"passwordConfirmation",t)},expression:"user.passwordConfirmation"}}),a("v-text-field",{attrs:{label:"First name"},on:{input:function(t){return e.$v.user.firstName.$touch()},blur:function(t){return e.$v.user.firstName.$touch()}},model:{value:e.user.firstName,callback:function(t){e.$set(e.user,"firstName",t)},expression:"user.firstName"}}),a("v-text-field",{attrs:{label:"Last name"},on:{input:function(t){return e.$v.user.lastName.$touch()},blur:function(t){return e.$v.user.lastName.$touch()}},model:{value:e.user.lastName,callback:function(t){e.$set(e.user,"lastName",t)},expression:"user.lastName"}}),a("v-text-field",{attrs:{"error-messages":e.emailErrors,label:"Email",required:""},on:{input:function(t){return e.$v.user.email.$touch()},blur:function(t){return e.$v.user.email.$touch()}},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}}),a("v-flex",{attrs:{xs6:"",sm6:"",md6:"","offset-sm3":""}},[a("v-btn",{attrs:{block:"",flat:"",outline:"",color:"indigo"},on:{click:e.editHotelAdmin}},[e._v("Submit")])],1)],1)],1)],1)],1)},rl=[],nl={mixins:[ie["validationMixin"]],validations:{user:{username:{required:ne["required"],minLength:Object(ne["minLength"])(5)},password:{minLength:Object(ne["minLength"])(6)},passwordConfirmation:{minLength:Object(ne["minLength"])(6),sameAs:Object(ne["sameAs"])("password")},email:{required:ne["required"],email:ne["email"]}}},data:function(){return{user:{password:"",passwordConfirmation:""},showPassword:!1,showPasswordConfirmation:!1}},computed:{usernameErrors:function(){var e=[];return this.$v.user.username.$dirty?(!this.$v.user.username.minLength&&e.push("Username must be at least 5 characters long"),!this.$v.user.username.required&&e.push("Username is required."),e):e},passwordErrors:function(){var e=[];return this.$v.user.password.$dirty?(!this.$v.user.password.minLength&&e.push("Password must be at least 6 characters long"),e):e},passwordConfirmationErrors:function(){var e=[];return this.$v.user.passwordConfirmation.$dirty?(!this.$v.user.passwordConfirmation.sameAs&&e.push("Passwords do not match."),e):e},emailErrors:function(){var e=[];return this.$v.user.email.$dirty?(!this.$v.user.email.email&&e.push("E-mail invalid."),!this.$v.user.email.required&&e.push("Email is required."),e):e}},methods:{editHotelAdmin:function(){var e=this;if(console.log(this.user),this.$v.$touch(),!this.$v.$invalid){var t={headers:{Authorization:"Bearer "+localStorage.getItem("token")}};delete this.user.passwordConfirmation,this.$axios.put("http://localhost:8080/api/users/hotelAdmin",this.user,t).then(function(t){e.$swal("Success","User profile updated successfully","success")}).catch(function(t){e.$swal("Error",t.response.data.message,"error")})}}},created:function(){var e=this,t={headers:{Authorization:"Bearer "+localStorage.getItem("token")}};this.$axios.get("http://localhost:8080/api/users/currentHotelAdmin",t).then(function(t){console.log(),e.user=t.data,e.user.password="",e.user.passwordConfirmation=""}).catch(function(t){e.$swal("Error","User not logged in","error")})}},ol=nl,ll=Object(h["a"])(ol,il,rl,!1,null,null,null),cl=ll.exports;p()(ll,{VBtn:f["a"],VCard:U["a"],VCardText:ve["b"],VFlex:W["a"],VTextField:X["a"],VToolbar:x["a"],VToolbarTitle:y["b"]}),s["default"].use(I["a"]);var ul=new I["a"]({routes:[{path:"/",name:"home",component:L},{path:"/userProfile",name:"userProfile",component:oi},{path:"/editUserProfile",name:"editUserProfile",component:xi},{path:"/searchUsers",name:"searchUsers",component:On},{path:"/airlineProfile",name:"airlineProfile",component:yr},{path:"/editAirlineProfile",name:"editAirlineProfile",component:Rr},{path:"/airlineReports",name:"AirlineReports",component:Kr},{path:"/searchFlights",name:"searchFlights",component:_n},{path:"/hotels",name:"hotels",component:Ct},{path:"/rentACars",name:"rentACars",component:Ht},{props:!0,path:"/rentACar/:rentACarId",name:"rentACar",component:gs},{path:"/signupAdmin",name:"signupAdmin",component:Is},{path:"/signup",name:"signup",component:ks},{path:"/login",name:"login",component:Un},{path:"/logout",name:"logout",component:Gn},{path:"/vehicleReservation",name:"vehicleReservation",component:lo},{path:"/hotelReservation",name:"hotelReservation",component:No},{path:"/temp",name:"dashboard",component:sl},{path:"/hotelAdminProfile",name:"hotelAdminProfile",component:cl}]}),dl=a("2f62");s["default"].use(dl["a"]);var vl=new dl["a"].Store({state:{},mutations:{},actions:{}}),hl=a("bc3a"),ml=a.n(hl),pl=a("5886"),fl=a("755e");s["default"].prototype.$axios=ml.a,s["default"].config.productionTip=!1,s["default"].use(n.a),s["default"].use(re.a),s["default"].use(pl["a"]),s["default"].use(a("2ead")),s["default"].use(st["b"]),s["default"].use(a("2ead")),s["default"].use(fl,{load:{key:"AIzaSyCoYMbcCf9ot8Dyoy5oxEFDaT5cVitKME4",libraries:"places"}}),new s["default"]({router:ul,store:vl,render:function(e){return e(V)}}).$mount("#app")},7692:function(e,t,a){e.exports=a.p+"img/bmw.1411fecc.jpg"},8624:function(e,t,a){},"86ce":function(e,t,a){"use strict";var s=a("0767"),i=a.n(s);i.a},"86d2":function(e,t,a){"use strict";var s=a("023a"),i=a.n(s);i.a},"883a":function(e,t,a){var s={"./bmw.jpg":"7692","./laguna.jpg":"cb39","./mercedes.jpg":"18fe"};function i(e){var t=r(e);return a(t)}function r(e){var t=s[e];if(!(t+1)){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}return t}i.keys=function(){return Object.keys(s)},i.resolve=r,e.exports=i,i.id="883a"},"9a5f":function(e,t,a){"use strict";var s=a("fc11"),i=a.n(s);i.a},"9ab5":function(e,t,a){"use strict";var s=a("3742"),i=a.n(s);i.a},a7aa:function(e,t,a){},ae2c:function(e,t,a){},b21a:function(e,t,a){"use strict";var s=a("ae2c"),i=a.n(s);i.a},bcb5:function(e,t,a){"use strict";var s=a("8624"),i=a.n(s);i.a},c1d6:function(e,t,a){},c5ef:function(e,t,a){"use strict";var s=a("1c96"),i=a.n(s);i.a},c742:function(e,t,a){},c785:function(e,t,a){"use strict";var s=a("53a8"),i=a.n(s);i.a},cb39:function(e,t,a){e.exports=a.p+"img/laguna.66e537e9.jpg"},d134:function(e,t,a){"use strict";var s=a("4adb"),i=a.n(s);i.a},d6a7:function(e,t,a){"use strict";var s=a("f34b"),i=a.n(s);i.a},e2f8:function(e,t,a){"use strict";var s=a("a7aa"),i=a.n(s);i.a},f34b:function(e,t,a){},f614:function(e,t,a){},f965:function(e,t,a){"use strict";var s=a("c1d6"),i=a.n(s);i.a},fc11:function(e,t,a){}});
//# sourceMappingURL=app.ad6837a8.js.map