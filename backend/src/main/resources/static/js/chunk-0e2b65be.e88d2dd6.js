(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0e2b65be"],{"4a89":function(t,e,a){"use strict";var r=a("c7a1"),o=a.n(r);o.a},a303:function(t,e,a){"use strict";a.r(e);var r,o,s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"izvestaji"}},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs3:"",md3:"",sm3:""}},[a("v-layout",{attrs:{column:""}},[a("v-card",{staticClass:"ma-3",attrs:{id:"hotelFeedback"}},[a("v-card-title",{staticClass:"headline text-xs-left font-weight-light indigo--text"},[t._v("Average hotel feedback")]),a("v-divider"),a("v-card-text",[a("v-layout",{attrs:{row:""}},[a("span",{staticClass:"mr-2 display-1 indigo--text font-weight-regular"},[t._v(t._s(t.report.averageFeedback))]),a("v-rating",{staticClass:"pb-1",attrs:{value:t.report.averageFeedback,color:"indigo lighten-1",dense:"",large:"","half-increments":"",readonly:""}}),a("span",{staticClass:"mt-3 ml-1 grey--text text--darken-2 font-weight-light caption"},[t._v(t._s(t.report.numberOfFeedbacks)+" reviews")])],1)],1)],1),a("v-card",{staticClass:"ma-3",attrs:{id:"roomsFeedback"}},[a("v-item-group",[a("v-layout",{attrs:{column:""}},[a("v-list",{staticClass:"scroll-y",staticStyle:{height:"1325px"}},t._l(this.report.roomTypes,function(e){return a("v-flex",{key:e.id,staticClass:"d-inline align-center"},[a("v-item",{attrs:{width:"100%"}},[a("div",{staticStyle:{margin:"auto"}},[a("v-card",{attrs:{flat:""}},[a("v-card-text",[a("v-layout",{attrs:{row:""}},[a("span",{staticClass:"mb-1 headline indigo--text font-weight-light"},[t._v(t._s(e.type))]),a("v-spacer"),a("v-rating",{attrs:{value:e.averageFeedback,color:"indigo lighten-1",dense:"","half-increments":"",readonly:""}})],1)],1),a("v-divider")],1)],1)])],1)}),1)],1)],1)],1)],1)],1),a("v-flex",{staticClass:"mr-2",attrs:{xs5:"",md5:"",sm5:""}},[a("v-layout",{staticClass:"mt-3",attrs:{column:""}},[a("v-flex",{attrs:{id:"dailyVisits"}},[t.canRender?a("v-card",{staticClass:"mt-4",attrs:{"max-width":"760px"}},[a("v-sheet",{staticClass:"v-sheet--offset mx-auto",attrs:{color:"indigo lighten-4",elevation:"12","max-width":"calc(100% - 32px)"}},[a("bar-chart",{staticClass:"pt-2 temp",attrs:{"chart-data":t.dailyReport}})],1),a("v-card-text",{staticClass:"py-0"},[a("v-layout",{attrs:{row:""}},[a("div",{staticClass:"title indigo--text font-weight-regular mt-2"},[t._v("Daily visits")]),a("v-spacer"),a("v-flex",{attrs:{xs5:"",sm5:"",md5:""}},[a("v-menu",{attrs:{"close-on-content-click":!0,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[a("v-text-field",t._g({staticClass:"my-0 py-0",attrs:{"append-icon":"event"},model:{value:t.dailyDate,callback:function(e){t.dailyDate=e},expression:"dailyDate"}},r))]}}],null,!1,2907854603),model:{value:t.dailyDateMenu,callback:function(e){t.dailyDateMenu=e},expression:"dailyDateMenu"}},[a("v-date-picker",{attrs:{color:"indigo lighten-1"},on:{change:function(e){return t.getDailyVisits()},input:function(e){t.dailyDateMenu=!1}},model:{value:t.dailyDate,callback:function(e){t.dailyDate=e},expression:"dailyDate"}})],1)],1)],1)],1)],1):t._e()],1),a("v-flex",{attrs:{id:"weeklyVisits"}},[t.canRender?a("v-card",{staticClass:"mt-5",attrs:{"max-width":"760px"}},[a("v-sheet",{staticClass:"v-sheet--offset mx-auto",attrs:{color:"indigo lighten-4",elevation:"12","max-width":"calc(100% - 32px)"}},[a("bar-chart",{staticClass:"pt-2 temp",attrs:{"chart-data":t.weeklyReport}})],1),a("v-card-text",{staticClass:"py-0"},[a("v-layout",{attrs:{row:""}},[a("div",{staticClass:"title indigo--text font-weight-regular mt-2"},[t._v("Weekly visits")]),a("v-spacer"),a("v-flex",{attrs:{xs5:"",sm5:"",md5:""}},[a("v-menu",{attrs:{"close-on-content-click":!0,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[a("v-text-field",t._g({staticClass:"my-0 py-0",attrs:{"append-icon":"event"},model:{value:t.weeklyDate,callback:function(e){t.weeklyDate=e},expression:"weeklyDate"}},r))]}}],null,!1,171278395),model:{value:t.weeklyDateMenu,callback:function(e){t.weeklyDateMenu=e},expression:"weeklyDateMenu"}},[a("v-date-picker",{attrs:{color:"indigo lighten-1","allowed-dates":t.allowedDates},on:{change:function(e){return t.getWeeklyVisits()},input:function(e){t.weeklyDateMenu=!1}},model:{value:t.weeklyDate,callback:function(e){t.weeklyDate=e},expression:"weeklyDate"}})],1)],1)],1)],1)],1):t._e()],1),a("v-flex",{attrs:{id:"monthlyVisits"}},[t.canRender?a("v-card",{staticClass:"my-5",attrs:{"max-width":"760px"}},[a("v-sheet",{staticClass:"v-sheet--offset mx-auto",attrs:{color:"indigo lighten-4",elevation:"12","max-width":"calc(100% - 32px)"}},[a("bar-chart",{staticClass:"pt-2 temp",attrs:{"chart-data":t.yearlyReport}})],1),a("v-card-text",{staticClass:"py-0"},[a("v-layout",{attrs:{row:""}},[a("div",{staticClass:"title indigo--text font-weight-regular mt-2"},[t._v("Monthly visits")]),a("v-spacer"),a("v-flex",{attrs:{xs3:"",sm3:"",md3:""}},[a("v-select",{staticClass:"my-0 py-0",attrs:{items:t.years},on:{change:function(e){return t.getMonthlyVisits()}},model:{value:t.year,callback:function(e){t.year=e},expression:"year"}})],1)],1)],1)],1):t._e()],1)],1)],1),a("v-flex",{attrs:{xs4:"",sm4:"",md4:""}},[a("v-card",{staticClass:"mt-3 mr-3",attrs:{id:"hotelIncome"}},[a("v-card-title",{staticClass:"headline text-xs-left font-weight-light indigo--text"},[t._v("Hotel income")]),a("v-divider"),a("v-card-text",[a("v-layout",{attrs:{row:""}},[a("v-menu",{attrs:{"close-on-content-click":!0,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[a("v-flex",{attrs:{xs6:"",md6:""}},[a("v-text-field",t._g({staticClass:"mx-3",attrs:{"append-icon":"event",label:"From","max-width":"30px"},model:{value:t.dateFrom,callback:function(e){t.dateFrom=e},expression:"dateFrom"}},r))],1)]}}]),model:{value:t.dateFromMenu,callback:function(e){t.dateFromMenu=e},expression:"dateFromMenu"}},[a("v-date-picker",{attrs:{color:"indigo lighten-1",max:t.maxDate},on:{input:function(e){t.dateFromMenu=!1}},model:{value:t.dateFrom,callback:function(e){t.dateFrom=e},expression:"dateFrom"}})],1),a("v-menu",{attrs:{"close-on-content-click":!0,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[a("v-flex",{attrs:{xs6:"",md6:""}},[a("v-text-field",t._g({staticClass:"mx-3",attrs:{"append-icon":"event",label:"To"},model:{value:t.dateTo,callback:function(e){t.dateTo=e},expression:"dateTo"}},r))],1)]}}]),model:{value:t.dateToMenu,callback:function(e){t.dateToMenu=e},expression:"dateToMenu"}},[a("v-date-picker",{attrs:{color:"indigo lighten-1",max:t.maxDate},on:{input:function(e){t.dateToMenu=!1}},model:{value:t.dateTo,callback:function(e){t.dateTo=e},expression:"dateTo"}})],1),a("v-btn",{staticClass:"mt-2",attrs:{outline:"",block:"",flat:"",color:"indigo lighten-3"},on:{click:t.getIncomeReport}},[t._v("Show")])],1)],1),t.showIncome?a("div",[a("v-divider"),t.showIncome?a("v-card-text",[a("v-layout",{attrs:{column:""}},[a("v-layout",{staticClass:"title font-weight-light indigo--text",attrs:{row:""}},[a("span",[t._v("From:")]),a("v-spacer"),a("span",[t._v(t._s(t.showDateFrom))])],1),a("br"),a("v-layout",{staticClass:"title font-weight-light indigo--text",attrs:{row:""}},[a("span",[t._v("To:")]),a("v-spacer"),a("span",[t._v(t._s(t.showDateTo))])],1),a("br"),a("v-divider",{attrs:{light:""}}),a("br"),a("v-layout",{staticClass:"headline font-weight-medium indigo--text text-uppercase",attrs:{row:""}},[a("span",[t._v("Total income:")]),a("v-spacer"),a("span",[t._v(t._s(t.income)+"â‚¬")])],1)],1)],1):t._e()],1):t._e()],1)],1)],1)],1)},i=[],n=(a("a481"),a("8615"),a("ac6a"),a("456d"),a("5df3"),a("1c4c"),a("1fca")),l=n["c"].reactiveProp,c={extends:n["a"],mixins:[l],data:function(){return{gradient:null,datacollection:{labels:["January","February","March","April","May","June","July","August","September","October","November","December"],datasets:[{label:"Data One",backgroundColor:this.gradient,pointBackgroundColor:"white",borderWidth:1,pointBorderColor:"#249EBF",data:[40,20,30,50,90,10,20,40,50,70,90,100]}]},options:{scales:{yAxes:[{ticks:{beginAtZero:!0},gridLines:{display:!1}}],xAxes:[{ticks:{beginAtZero:!0},gridLines:{display:!1}}]},legend:{display:!1},tooltips:{enabled:!0,mode:"single",callbacks:{label:function(t,e){return t.yLabel+" visits"}}},responsive:!0,maintainAspectRatio:!1,height:200}}},mounted:function(){this.renderChart(this.chartData,this.options)}},d=c,u=a("2877"),m=Object(u["a"])(d,r,o,!1,null,null,null),p=m.exports,v={components:{"bar-chart":p},props:["selectedHotel"],data:function(){return{report:{},dateFromMenu:!1,dateFrom:(new Date).toISOString().substr(0,10),dateToMenu:!1,dateTo:(new Date).toISOString().substr(0,10),maxDate:(new Date).toISOString().substr(0,10),income:"",canRender:!1,showIncome:!1,showDateFrom:"",showDateTo:"",dailyReport:{},dailyDate:(new Date).toISOString().substr(0,10),dailyDateMenu:!1,weeklyReport:{},weeklyDate:(new Date).toISOString().substr(0,10),weeklyDateMenu:!1,yearlyReport:{},year:"",months:{0:"JAN",1:"FEB",2:"MAR",3:"APR",4:"MAY",5:"JUN",6:"JUL",7:"AUG",8:"SEP",9:"OCT",10:"NOV",11:"DEC"}}},methods:{getIncomeReport:function(){var t=this;this.$axios.get("/api/hotels/getIncomeReport/",{headers:{Authorization:"Bearer "+localStorage.getItem("token")},params:{adminUsername:localStorage.getItem("username"),dateFrom:this.dateFrom,dateTo:this.dateTo}}).then(function(e){t.income=e.data,t.showDateFrom=t.dateFrom,t.showDateTo=t.dateTo,t.showIncome=!0})},getMonthlyVisits:function(){var t=this;this.$axios.get("/api/hotels/monthlyReport/",{headers:{Authorization:"Bearer "+localStorage.getItem("token")},params:{adminUsername:localStorage.getItem("username"),numberOfYears:(new Date).getFullYear()-this.year}}).then(function(e){t.yearlyReport={labels:Array.from(Object.keys(e.data),function(e){return t.months[new Date(parseInt(e)).getMonth()]}),datasets:[{backgroundColor:"#5c6bc0",hoverBackgroundColor:"#7986cb",borderWidth:1,pointBorderColor:"#249EBF",data:Object.values(e.data)}]},t.year=new Date(parseInt(Object.keys(e.data)[0])).getFullYear()})},getWeeklyVisits:function(){var t=this;this.$axios.get("/api/hotels/weeklyReport/",{headers:{Authorization:"Bearer "+localStorage.getItem("token")},params:{adminUsername:localStorage.getItem("username"),dateFrom:this.weeklyDate}}).then(function(e){t.weeklyReport={labels:Array.from(Object.keys(e.data),function(t){return new Date(parseInt(t)).toLocaleString(void 0,{month:"2-digit",day:"2-digit"}).substr(0,5).replace("-","/")}),datasets:[{backgroundColor:"#5c6bc0",hoverBackgroundColor:"#7986cb",borderWidth:1,pointBorderColor:"#249EBF",data:Object.values(e.data)}]}})},getDailyVisits:function(){var t=this;this.$axios.get("/api/hotels/dailyReport/",{headers:{Authorization:"Bearer "+localStorage.getItem("token")},params:{adminUsername:localStorage.getItem("username"),dateFrom:this.dailyDate}}).then(function(e){t.dailyReport={labels:Array.from(Object.keys(e.data),function(t){return new Date(parseInt(t)).toLocaleString(void 0,{month:"2-digit",day:"2-digit"}).substr(0,5).replace("-","/")}),datasets:[{backgroundColor:"#5c6bc0",hoverBackgroundColor:"#7986cb",borderWidth:1,pointBorderColor:"#249EBF",data:Object.values(e.data)}]}})},allowedDates:function(t){return 1==new Date(t).getDay()}},computed:{years:function(){var t=(new Date).getFullYear();return Array.from({length:t-1969},function(t,e){return 1970+e})}},created:function(){var t=this,e={headers:{Authorization:"Bearer "+localStorage.getItem("token")}};this.$axios.get("/api/hotels/getReport/"+localStorage.getItem("username"),e).then(function(e){t.report=e.data,t.dailyReport.labels=Array.from(Object.keys(t.report.dailyReports),function(t){return new Date(parseInt(t)).toLocaleString(void 0,{month:"2-digit",day:"2-digit"}).substr(0,5)}),t.dailyReport.datasets=[{backgroundColor:"#5c6bc0",hoverBackgroundColor:"#7986cb",borderWidth:1,pointBorderColor:"#249EBF",data:Object.values(t.report.dailyReports)}],t.weeklyReport.labels=Array.from(Object.keys(t.report.weeklyReports),function(t){return new Date(parseInt(t)).toLocaleString(void 0,{month:"2-digit",day:"2-digit"}).substr(0,5).replace("-","/")}),t.weeklyReport.datasets=[{backgroundColor:"#5c6bc0",hoverBackgroundColor:"#7986cb",borderWidth:1,pointBorderColor:"#249EBF",data:Object.values(t.report.weeklyReports)}],t.yearlyReport.labels=Array.from(Object.keys(t.report.yearlyReport),function(e){return t.months[new Date(parseInt(e)).getMonth()]}),t.yearlyReport.datasets=[{backgroundColor:"#5c6bc0",hoverBackgroundColor:"#7986cb",borderWidth:1,pointBorderColor:"#249EBF",data:Object.values(t.report.yearlyReport)}],t.year=new Date(parseInt(Object.keys(t.report.yearlyReport)[0])).getFullYear(),t.canRender=!0})}},h=v,g=(a("4a89"),a("6544")),y=a.n(g),f=a("8336"),b=a("b0af"),x=a("99d9"),w=a("12b2"),k=a("2e4b"),C=a("ce7e"),D=a("0e8f"),F=a("d903"),R=a("604c"),_=a("a722"),S=a("8860"),I=a("e449"),M=a("1d4d"),B=a("b56d"),O=a("8dd9"),V=a("9910"),T=a("2677"),A=Object(u["a"])(h,s,i,!1,null,"01288d4e",null);e["default"]=A.exports;y()(A,{VBtn:f["a"],VCard:b["a"],VCardText:x["b"],VCardTitle:w["a"],VDatePicker:k["a"],VDivider:C["a"],VFlex:D["a"],VItem:F["a"],VItemGroup:R["b"],VLayout:_["a"],VList:S["a"],VMenu:I["a"],VRating:M["a"],VSelect:B["a"],VSheet:O["a"],VSpacer:V["a"],VTextField:T["a"]})},c7a1:function(t,e,a){}}]);
//# sourceMappingURL=chunk-0e2b65be.e88d2dd6.js.map